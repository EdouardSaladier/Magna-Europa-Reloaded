add_namespace = mtg_britain 

# Abdication Crisis Edward VIII
country_event = {
	id = mtg_britain.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.1 FROM = [From.GetName]" }
	title = mtg_britain.1.t
	desc = mtg_britain.1.d
	picture = GFX_report_event_eng_edward_and_wallis

	trigger = {
		tag = ENG
		has_country_flag = ENG_king_died
		date > 1936.6.1
		NOT = { has_country_flag = ENG_edward_abdicating }
		has_dlc = "Man the Guns"
	}
	
	fire_only_once = yes

	mean_time_to_happen = { days = 14 }

	# Reject
	option = {
		name = mtg_britain.1.c
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = NEUTRALITY
					}
					has_country_flag = ENG_AI_RANDOM_NEUTRALITY
				}
			}
		}
		add_stability = 0.05
		set_country_flag = ENG_edward_abdicating
		country_event = { id = mtg_britain.14 days = 5 random_days = 5 }
	}

	# Accept - Morganatic marriage
	option = {
		name = mtg_britain.1.b
		trigger = {
			NOT = {
				OR = {
					has_completed_focus = ENG_organize_the_blackshirts
					has_completed_focus = ENG_concessions_to_the_trade_unions
					has_completed_focus = ENG_steady_as_she_goes
				}
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				ENG_is_on_historical_plan_trigger = yes
			}
			modifier = {
				factor = 0
				has_completed_focus = ENG_steady_as_she_goes
			}
			modifier = {
				factor = 0
				has_completed_focus = ENG_organize_the_blackshirts
			}
			modifier = {
				factor = 0
				has_completed_focus = ENG_concessions_to_the_trade_unions
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = DEMOCRATIC_HISTORICAL
					}
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = DEMOCRATIC_ALTERNATE
					}
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = COMMUNIST
					}
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = FASCIST
					}
					has_country_flag = ENG_AI_RANDOM_FASCIST
					has_country_flag = ENG_AI_RANDOM_COMMUNIST
					has_country_flag = ENG_AI_RANDOM_DEMOCRATIC_ALTERNATE
					has_country_flag = ENG_AI_DEMOCRATIC_HISTORICAL
				}
			}
		}
		add_stability = -0.05
		add_popularity = { ideology = neutrality popularity = 0.05 }
		custom_effect_tooltip = mtg_britain.1_tt
		activate_mission = ENG_abdication_crisis
		hidden_effect = { 
			country_event = { id = mtg_britain.2 days = 50 }
			country_event = { id = mtg_britain.6 days = 15 random_days = 10 }
		}
		set_country_flag = ENG_abdication_crisis_morganatic_marriage
		set_country_flag = edward_viii_refused_to_abdicate_flag
		hidden_effect = {
			CAN = { country_event = { id = mtg_britain.15 } }
			EGY = { country_event = { id = mtg_britain.15 } }
		}
	}

	# Accept - Normal marriage
	option = {
		name = mtg_britain.1.a
		trigger = {
			NOT = {
				OR = {
					has_completed_focus = ENG_organize_the_blackshirts
					has_completed_focus = ENG_concessions_to_the_trade_unions
					has_completed_focus = ENG_steady_as_she_goes
				}
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				ENG_is_on_historical_plan_trigger = yes
			}
			modifier = {
				factor = 0
				has_completed_focus = ENG_steady_as_she_goes
			}
			modifier = {
				factor = 0
				has_completed_focus = ENG_organize_the_blackshirts
			}
			modifier = {
				factor = 0
				has_completed_focus = ENG_concessions_to_the_trade_unions
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = DEMOCRATIC_HISTORICAL
					}
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = DEMOCRATIC_ALTERNATE
					}
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = COMMUNIST
					}
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = FASCIST
					}
					has_country_flag = ENG_AI_RANDOM_FASCIST
					has_country_flag = ENG_AI_RANDOM_COMMUNIST
					has_country_flag = ENG_AI_RANDOM_DEMOCRATIC_ALTERNATE
					has_country_flag = ENG_AI_DEMOCRATIC_HISTORICAL
				}
			}
		}
		add_stability = -0.15
		add_popularity = { ideology = neutrality popularity = 0.1 }
		add_political_power = -25
		custom_effect_tooltip = mtg_britain.1_tt
		activate_mission = ENG_abdication_crisis
		hidden_effect = { 
			country_event = { id = mtg_britain.2 days = 50 }
			country_event = { id = mtg_britain.6 days = 15 random_days = 10 }
		}
		set_country_flag = ENG_abdication_crisis_normal_marriage
		set_country_flag = edward_viii_refused_to_abdicate_flag
		hidden_effect = {
			CAN = { country_event = { id = mtg_britain.15 } }
			EGY = { country_event = { id = mtg_britain.15 } }
		}
	}
}

# Abdication Crisis Edward VIII - King's support coalesces
country_event = {
	id = mtg_britain.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.2 FROM = [From.GetName]" }
	title = mtg_britain.2.t
	desc = mtg_britain.2.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.2.a
		add_popularity = { ideology = neutrality popularity = 0.1 }
		add_political_power = 100
		add_timed_idea = { idea = ENG_support_for_the_king_idea days = 150 }
		custom_effect_tooltip = mtg_britain.2_tt
		hidden_effect = { country_event = { id = mtg_britain.3 days = 50 } }
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random_days = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# Abdication Crisis Edward VIII - Government falls
country_event = {
	id = mtg_britain.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.3 FROM = [From.GetName]" }
	title = mtg_britain.3.t
	desc = mtg_britain.3.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	trigger = { NOT = { has_country_flag = ENG_abdication_crisis_changed_mind } }
	
	# Ok
	option = {
		name = mtg_britain.3.a
		add_stability = -0.15
		add_political_power = -150
		create_country_leader = {
			name = "Fallen Government"
			desc = "POLITICS_FALLEN_GOVERNMENT_DESC"
			picture = GFX_portrait_Fallen_Government
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
				cabinet_crisis
			}
		}
		custom_effect_tooltip = mtg_britain.2_tt
		set_country_flag = ENG_abdication_crisis_government_fell
		hidden_effect = { country_event = { id = mtg_britain.4 days = 50 } }
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random_days = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
		if = {
			limit = {
				has_idea = ENG_support_for_the_king_idea
			}
			remove_ideas = ENG_support_for_the_king_idea
		}
	}
}

# Abdication Crisis Edward VIII - Dominions threaten to break away
country_event = {
	id = mtg_britain.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.4 FROM = [From.GetName]" }
	title = mtg_britain.4.t
	desc = mtg_britain.4.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes

	trigger = { NOT = { has_country_flag = ENG_abdication_crisis_changed_mind } }
	
	# Ok
	option = {
		name = mtg_britain.4.a
		add_stability = -0.15
		add_political_power = -100
		if = {
			limit = {
				CAN = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				EGY = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
			}
			dismantle_faction = yes
		}
		remove_from_tech_sharing_group = commonwealth_research
		effect_tooltip = {
			if = {
				limit = {
					CAN = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				set_autonomy = { target = CAN autonomy_state = autonomy_free }
			}
			if = {
				limit = {
					EGY = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				set_autonomy = { target = EGY autonomy_state = autonomy_free }
			}
			if = {
				limit = {
					CAN = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				CAN = {
					create_faction = "ENG_commonwealth_of_nations"
					if = {
						limit = {
							EGY = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
						}
						add_to_faction = EGY
					}
				}
			}
			else_if = {
				limit = {
					EGY = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				EGY = {
					create_faction = "ENG_commonwealth_of_nations"
					if = {
						limit = {
							EGY = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
						}
						add_to_faction = EGY
					}
				}
			}
		}
		custom_effect_tooltip = mtg_britain.2_tt
		hidden_effect = {
			if = {
				limit = {
					CAN = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				CAN = {
					country_event = { id = mtg_britain.16 }
					add_ai_strategy = {
						type = alliance
						id = ENG
						value = -200
					}
				}
			}
			if = {
				limit = {
					EGY = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				EGY = {
					country_event = { id = mtg_britain.16 }
					add_ai_strategy = {
						type = alliance
						id = ENG
						value = -200
					}
				}
			}
		}
		hidden_effect = { news_event = { id = mtg_news.62 days = 1 } }
	}
}

# Abdication Crisis Edward VIII - Marriage happens
country_event = {
	id = mtg_britain.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.5 FROM = [From.GetName]" }
	title = mtg_britain.5.t
	desc = mtg_britain.5.d
	picture = GFX_report_event_royal_parade

	is_triggered_only = yes

	trigger = { NOT = { has_country_flag = ENG_abdication_crisis_changed_mind } }

	immediate = {
		hidden_effect = {
			set_country_flag = edward_viii_married_wallis_simpson
		}
	}
	
	# Ok
	option = {
		name = mtg_britain.5.a
		add_popularity = { ideology = neutrality popularity = 0.05 }
		add_stability = 0.05
		add_political_power = 50
	}
}

# Abdication Crisis Edward VIII - random event generator
country_event = {
	id = mtg_britain.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.6 FROM = [From.GetName]" }
	
	is_triggered_only = yes

	hidden = yes

	immediate = {
		random_list = {
			20 = { # Newspapers in favor of marriage
				modifier = {
					factor = 1.5
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_newspapers_in_favor
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_newspapers_against
				}
				country_event = { id = mtg_britain.7 }
			}
			20 = { # Newspapers against marriage
				country_event = { id = mtg_britain.8 } 
			}
			20 = { # Prime Minister keeps King on tight leash
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_government_fell
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_newspapers_in_favor
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_newspapers_against
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_held_radio_speech
				}
				country_event = { id = mtg_britain.9 } 
			}
			20 = { # Parliament Opposition
				modifier = {
					factor = 0.8
					has_idea = ENG_support_for_the_king_idea 
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_government_fell
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_parliament_opposition
				}
				country_event = { id = mtg_britain.10 } 
			}
			20 = { # Upper classes oppose marriage
				modifier = {
					factor = 0
					has_country_flag = ENG_upper_classes_oppose_marriage
				}
				country_event = { id = mtg_britain.11 } 
			}
			20 = { # Working class people support marriage
				modifier = {
					factor = 1.5
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_upper_classes_support_marriage
				}
				country_event = { id = mtg_britain.12 } 
			}
			200 = { # King gets permission to make radio broadcast for 'his side of the story'
				modifier = {
					factor = 0
					NOT = { has_idea = ENG_support_for_the_king_idea } 
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_tight_leash 
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_held_radio_speech
				}
				country_event = { id = mtg_britain.13 }
			}
		}
	}
}

# Abdication Crisis Edward VIII - Newspapers in favor of marriage
country_event = {
	id = mtg_britain.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.7 FROM = [From.GetName]" }
	title = mtg_britain.7.t
	desc = mtg_britain.7.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}
	
	# Ok
	option = {
		name = mtg_britain.7.a
		add_popularity = { ideology = neutrality popularity = 0.02 }
		add_stability = 0.05
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random_days = 10 } }
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_upper_classes_oppose_marriage
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_newspapers_in_favor
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random_days = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
		if = {
			limit = {
				has_idea = ENG_support_for_the_king_idea
			}
			remove_ideas = ENG_support_for_the_king_idea
		}
	}
}

# Abdication Crisis Edward VIII - Newspapers against marriage
country_event = {
	id = mtg_britain.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.8 FROM = [From.GetName]" }
	title = mtg_britain.8.t
	desc = mtg_britain.8.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}
	
	# Ok
	option = {
		name = mtg_britain.8.a
		add_popularity = { ideology = neutrality popularity = -0.02 }
		add_stability = -0.05
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random_days = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_upper_classes_oppose_marriage
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_newspapers_against
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random_days = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
		if = {
			limit = {
				has_idea = ENG_support_for_the_king_idea
			}
			remove_ideas = ENG_support_for_the_king_idea
		}
	}
}

# Abdication Crisis Edward VIII - Prime Minister keeps King on tight leash
country_event = {
	id = mtg_britain.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.9 FROM = [From.GetName]" }
	title = mtg_britain.9.t
	desc = mtg_britain.9.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}
	
	# Ok
	option = {
		name = mtg_britain.9.a
		add_political_power = -50
		set_country_flag = { flag = ENG_abdication_crisis_tight_leash value = 1 days = 31 }
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random_days = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_upper_classes_oppose_marriage
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_prime_minister_tight_leash
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random_days = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
		if = {
			limit = {
				has_idea = ENG_support_for_the_king_idea
			}
			remove_ideas = ENG_support_for_the_king_idea
		}
	}
}

# Abdication Crisis Edward VIII - Parliament opposition
country_event = {
	id = mtg_britain.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.10 FROM = [From.GetName]" }
	title = mtg_britain.10.t
	desc = mtg_britain.10.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}	
	# Ok
	option = {
		name = mtg_britain.10.a
		add_political_power = -75
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random_days = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_upper_classes_oppose_marriage
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_parliament_opposition
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random_days = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
		if = {
			limit = {
				has_idea = ENG_support_for_the_king_idea
			}
			remove_ideas = ENG_support_for_the_king_idea
		}
	}
}

# Abdication Crisis Edward VIII - Upper classes oppose marriage
country_event = {
	id = mtg_britain.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.11 FROM = [From.GetName]" }
	title = mtg_britain.11.t
	desc = mtg_britain.11.d
	picture = GFX_report_event_generic_rally_3

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}	
	# Ok
	option = {
		name = mtg_britain.11.a
		add_popularity = { ideology = neutrality popularity = -0.02 }
		add_stability = -0.05
		add_political_power = -25
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random_days = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_upper_classes_oppose_marriage
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random_days = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
		if = {
			limit = {
				has_idea = ENG_support_for_the_king_idea
			}
			remove_ideas = ENG_support_for_the_king_idea
		}
	}
}

# Abdication Crisis Edward VIII - Working classes support marriage
country_event = {
	id = mtg_britain.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.12 FROM = [From.GetName]" }
	title = mtg_britain.12.t
	desc = mtg_britain.12.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}	
	# Ok
	option = {
		name = mtg_britain.12.a
		add_popularity = { ideology = neutrality popularity = 0.02 }
		add_stability = 0.05
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random_days = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_upper_classes_oppose_marriage
		set_country_flag = ENG_working_classes_support_marriage
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random_days = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
		if = {
			limit = {
				has_idea = ENG_support_for_the_king_idea
			}
			remove_ideas = ENG_support_for_the_king_idea
		}
	}
}

# Abdication Crisis Edward VIII - Radio speech
country_event = {
	id = mtg_britain.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.13 FROM = [From.GetName]" }
	title = mtg_britain.13.t
	desc = mtg_britain.13.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}
	
	# Ok
	option = {
		name = mtg_britain.13.a
		add_popularity = { ideology = neutrality popularity = 0.05 }
		add_stability = 0.1
		add_political_power = 50
		set_country_flag = ENG_abdication_crisis_held_radio_speech
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random_days = 10 } }
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random_days = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
		if = {
			limit = {
				has_idea = ENG_support_for_the_king_idea
			}
			remove_ideas = ENG_support_for_the_king_idea
		}
	}
}

# King abdicates - Man the Guns version
country_event = {
	id = mtg_britain.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.14 FROM = [From.GetName]" }
	title = britain.17.t
	desc = britain.17.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			remove_ideas = ENG_king_edward
			add_ideas = ENG_george_vi
			set_country_flag = ENG_edward_viii_abdicated
		}
	}

	option = {
		name = britain.17.a
		effect_tooltip = {
			remove_ideas = ENG_king_edward
			add_ideas = ENG_george_vi		
		}
	}
}

# Abdication Crisis Edward VIII - Asking Dominions what they want to do if the King goes through with it
country_event = {
	id = mtg_britain.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.15 FROM = [From.GetName]" }
	title = mtg_britain.15.t
	desc = mtg_britain.15.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	# If he goes through with it, we're out
	option = {
		name = mtg_britain.15.a
		custom_effect_tooltip = mtg_britain.15_tt
		set_country_flag = ENG_abdication_crisis_dominion_will_leave
	}

	# We will support him whatever he decides
	option = {
		name = mtg_britain.15.b
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = mtg_britain.15_tt_2
		set_country_flag = ENG_abdication_crisis_dominion_will_stay
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			custom_effect_tooltip = ENG_staying_loyal_tt
			if = {
				limit = {
					tag = CAN
				}
				CAN_enforce_loyalty = yes
			}
		}
	}
}

# Abdication Crisis Edward VIII - Notification event for the Dominions that they are leaving the Allies
country_event = {
	id = mtg_britain.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.16 FROM = [From.GetName]" }
	title = mtg_britain.16.t
	desc = mtg_britain.16.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.16.a
		if = {
			limit = {
				tag = CAN
			}
			FROM = { set_autonomy = { target = CAN autonomy_state = autonomy_free } }
			drop_cosmetic_tag = yes
			create_faction = "ENG_commonwealth_of_nations"
			if = {
				limit = {
					EGY = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				add_to_faction = EGY
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						NOT = { tag = EGY }
					}
					ROOT = {
						add_ai_strategy = {
							type = alliance
							id = PREV
							value = -200
						}
					}
				}
			}
		}
	}
}

### END ABDICATION CRISIS ###

# Guide the Colonies notification event
country_event = {
	id = mtg_britain.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.17 FROM = [From.GetName]" }
	title = mtg_britain.17.t
	desc = mtg_britain.17.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.17.a
		if = {
			limit = {
				tag = CAN
			}
			effect_tooltip = {
				add_stability = 0.05
				add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
				add_ideas = ENG_guided_by_britain_1
			}
		}
		if = {
			limit = {
				tag = EGY
			}
			effect_tooltip = {
				add_stability = 0.05
				add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
				add_ideas = ENG_guided_by_britain_1
			}
		}
	}
}

# Towards Dominion Independence notification event
country_event = {
	id = mtg_britain.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.18 FROM = [From.GetName]" }
	title = mtg_britain.18.t
	desc = mtg_britain.18.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.18.a
		if = {
			limit = {
				tag = CAN
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = ENG_guided_by_britain_1
					add_idea = ENG_guided_by_britain_2
				}
			}
		}
		if = {
			limit = {
				tag = EGY
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = ENG_guided_by_britain_1
					add_idea = ENG_guided_by_britain_2
				}
			}
		}
	}
}

# Foundations for an Indian State notification event
country_event = {
	id = mtg_britain.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.19 FROM = [From.GetName]" }
	title = mtg_britain.19.t
	desc = mtg_britain.19.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.17.a
		effect_tooltip = {
			add_stability = 0.05
			add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
			add_ideas = ENG_guided_by_britain_raj_1
		}
	}
}

# Three-Nation Solution notification event
country_event = {
	id = mtg_britain.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.20 FROM = [From.GetName]" }
	title = mtg_britain.20.t
	desc = mtg_britain.20.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.20.a
		add_opinion_modifier = { target = ENG modifier = ENG_three_nation_solution }
		
	}
}

# Towards Indian Independence notification event
country_event = {
	id = mtg_britain.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.21 FROM = [From.GetName]" }
	title = mtg_britain.21.t
	desc = mtg_britain.18.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.18.a
		
	}
}

# Motion of No Confidence event
country_event = {
	id = mtg_britain.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.22 FROM = [From.GetName]" }
	title = mtg_britain.22.t
	desc = mtg_britain.22.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.22.a
		retire_country_leader = yes
		create_country_leader = {
			name = "Winston Churchill"
			desc = "POLITICS_WINSTON_CHURCHILL_DESC"
			picture = GFX_portrait_Winston_Churchill
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
				british_bulldog
			}
		}
	}
}

# Isolate the Mediterranean Threat event
country_event = {
	id = mtg_britain.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.23 FROM = [From.GetName]" }
	title = mtg_britain.23.t
	desc = mtg_britain.23.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# We will drop the Italians
	option = {
		name = mtg_britain.23.a
		if = {
			limit = {
				ITA = { is_in_faction_with = GER }
				ITA = { has_war = no }
				has_war = no
			}
			GER = { remove_from_faction = ITA }
		}
		FROM = { country_event = { id = mtg_britain.24 hours = 6 } }
		ITA = { country_event = { id = mtg_britain.25 hours = 6 } }
		hidden_effect = {
			GER = {
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = ITA
					value = -200
				}
				add_ai_strategy = {
					type = send_volunteers_desire
					id = ITA
					value = -200
				}
				add_ai_strategy = {
					type = support
					id = ITA
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = -200
				}
			}
			set_country_flag = ENG_ditched_the_italians_flag
			ITA = { set_country_flag = ENG_ditched_by_the_germans_flag }
		}
	}

	# We will stick by the Italians
	option = {
		name = mtg_britain.23.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = mtg_britain.26 hours = 6 } }
	}
}

# Isolate the Mediterranean Threat notification event for Britain - Germany accepts
country_event = {
	id = mtg_britain.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.24 FROM = [From.GetName]" }
	title = mtg_britain.24.t
	desc = mtg_britain.24.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.24.a
		hidden_effect = { news_event = { id = mtg_news.20 days = 1 } }
	}
}

# Isolate the Mediterranean Threat notification event for Italy - Germany dumps them
country_event = {
	id = mtg_britain.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.25 FROM = [From.GetName]" }
	title = mtg_britain.25.t
	desc = mtg_britain.25.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.25.a
		hidden_effect = {
			add_ai_strategy = {
				type = befriend
				id = GER
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = GER
				value = -200
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = GER
				value = -200
			}
			add_ai_strategy = {
				type = support
				id = GER
				value = -200
			}
			add_ai_strategy = {
				type = alliance
				id = GER
				value = -200
			}
			add_ai_strategy = {
				type = antagonize
				id = GER
				value = 200
			}
		}
	}
}

# Isolate the Mediterranean Threat notification event for Britain - Germany rejects
country_event = {
	id = mtg_britain.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.26 FROM = [From.GetName]" }
	title = mtg_britain.26.t
	desc = mtg_britain.26.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.26.a
		set_country_flag = ENG_germany_rejected_isolate_the_italian_threat
	}
}

# Alliance with Germany event
country_event = {
	id = mtg_britain.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.27 FROM = [From.GetName]" }
	title = mtg_britain.27.t
	desc = mtg_britain.27.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.27.a
		effect_tooltip = {
			add_to_faction = FROM
		}
		if = {
			limit = {
				NOT = { is_in_faction = yes }
			}
			create_faction = GER_central_powers_faction
		}
		FROM = { country_event = { id = mtg_britain.28 hours = 6 } }
	}
	# Reject
	option = {
		name = mtg_britain.27.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = mtg_britain.29 hours = 6 } }
	}
}

# Alliance with Germany notification event - Germany accepts
country_event = {
	id = mtg_britain.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.28 FROM = [From.GetName]" }
	title = mtg_britain.28.t
	desc = mtg_britain.28.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = excellent
		FROM = { 
			add_to_faction = ROOT
			hidden_effect = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = -200
				}
			}
		}
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = antagonize
				id = FROM
				value = -200
			}
			news_event = { id = mtg_news.21 days = 1 }
		}
	}
}

# Alliance with Germany notification event - Germany rejects
country_event = {
	id = mtg_britain.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.29 FROM = [From.GetName]" }
	title = mtg_britain.29.t
	desc = mtg_britain.29.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = unfortunate
	}
}

# Non-Interference Treaty with Germany event
country_event = {
	id = mtg_britain.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.30 FROM = [From.GetName]" }
	title = mtg_britain.30.t
	desc = mtg_britain.30.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.30.a
		GER = {
			add_opinion_modifier = { target = ENG modifier = ENG_non_interference_treaty }
			reverse_add_opinion_modifier = { target = ENG modifier = ENG_non_interference_treaty }
		}
		effect_tooltip = {
			diplomatic_relation = {
			    country = ENG
			    relation = non_aggression_pact
			    active = yes
			}
		}
		FROM = { country_event = { id = mtg_britain.31 hours = 6 } }
	}

	# Reject
	option = {
		name = mtg_britain.30.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = mtg_britain.32 hours = 6 } }
	}
}

# Non-Interference Treaty with Germany notification event - Germany accepts
country_event = {
	id = mtg_britain.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.31 FROM = [From.GetName]" }
	title = mtg_britain.31.t
	desc = mtg_britain.31.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = excellent
		diplomatic_relation = {
		    country = GER
		    relation = non_aggression_pact
		    active = yes
		}
		hidden_effect = {
			FROM = {
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = -200
				}
			}
			add_ai_strategy = {
				type = antagonize
				id = FROM
				value = -200
			}
			news_event = { id = mtg_news.22 days = 1 }
		}
	}
}

# Non-Interference Treaty with Germany notification event - Germany rejects
country_event = {
	id = mtg_britain.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.32 FROM = [From.GetName]" }
	title = mtg_britain.32.t
	desc = mtg_britain.32.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = unfortunate
	}
}

# Organize the Blackshirts civil war event
country_event = {
	id = mtg_britain.33
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.33 FROM = [From.GetName]" }
	title = mtg_britain.33.t
	desc = mtg_britain.33.d
	picture = GFX_report_event_ger_civil_war

	fire_only_once = yes

	trigger = {
		tag = ENG
		has_completed_focus = ENG_organize_the_blackshirts
		NOT = { has_government = fascism }
		has_stability < 0.5
	}
	
	mean_time_to_happen = {
		days = 2
	}

	immediate = {
		hidden_effect = {
			add_stability = 30
			every_state = {
				limit = {
					is_owned_by = ENG
					NOT = { has_state_flag = ENG_has_blackshirt_support }
				}
				set_state_flag = ENG_has_no_blackshirt_support
			}
			random_owned_state = {
				limit = {
					has_state_flag = ENG_has_blackshirt_support
				}
				ENG = { set_capital = { state = PREV } }
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = democratic
				size = 0.5
				states = all
				states_filter = {
					has_state_flag = ENG_has_no_blackshirt_support
				}
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.51
			}
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.15
			}
			random_other_country = {
				limit = {
					original_tag = ENG
					has_government = democratic
				}
				save_event_target_as = democratic_uk_civil_war
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 999
						}
					}
					set_nationality = ENG
				}
				ENG = {
					transfer_navy = { target = PREV }
					hidden_effect = {
						every_unit_leader = {
							limit = {
								OR = {
									has_id = 983
									has_id = 984
									has_id = 985
									has_id = 986
									has_id = 987
									has_id = 988
									has_id = 989
									has_id = 990
									has_id = 991
									has_id = 992
								}
							}
							set_nationality = event_target:democratic_uk_civil_war
						}
					}
				}
			}
			event_target:democratic_uk_civil_war = {
				if = {
					limit = {
						has_full_control_of_state = 2475
					}
					set_capital = { state = 2475 }
				}
				else_if = {
					limit = {
						has_full_control_of_state = 293
					}
					set_capital = { state = 293 }
				}
				else_if = {
					limit = {
						has_full_control_of_state = 344
					}
					set_capital = { state = 344 }
				}
				else_if = {
					limit = {
						has_full_control_of_state = 453
					}
					set_capital = { state = 453 }
				}
				else_if = {
					limit = {
						has_full_control_of_state = 271
					}
					set_capital = { state = 271 }
				}
				else_if = {
					limit = {
						has_full_control_of_state = 221
					}
					set_capital = { state = 221 }
				}
				else_if = {
					limit = {
						has_full_control_of_state = 126
					}
					set_capital = { state = 126 }
				}
				else = {
					random_owned_state = {
						limit = {
							is_on_continent = europe
						}
						event_target:democratic_uk_civil_war = { set_capital = { state = PREV } }
					}
				}
			}
			event_target:democratic_uk_civil_war = {
				division_template = {
					name = "Loyalist Brigade"
					priority = 1
					division_names_group = ENG_DEM_01
					is_locked = yes
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				every_owned_state = {
					limit = {
						is_on_continent = europe
					}
					create_unit = {
						division = "division_template = \"Loyalist Brigade\" start_experience_factor = 0 start_equipment_factor = 1"
						owner = PREV
					}
					create_unit = {
						division = "division_template = \"Loyalist Brigade\" start_experience_factor = 0 start_equipment_factor = 1"
						owner = PREV
					}
				}
			}
		}
	}
	
	# Ok
	option = {
		name = mtg_britain.33.a
		custom_effect_tooltip = ENG_democratic_civil_war_tt
		hidden_effect = { news_event = { id = mtg_news.41 days = 1 } }
		division_template = {
			name = "Blackshirt Brigade"
			priority = 1
			division_names_group = ENG_FAS_01
			is_locked = yes
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
			}
		}
		every_owned_state = {
			limit = {
				is_on_continent = europe
			}
			create_unit = {
				division = "division_template = \"Blackshirt Brigade\" start_experience_factor = 0 start_equipment_factor = 1"
				owner = ROOT
			}
			create_unit = {
				division = "division_template = \"Blackshirt Brigade\" start_experience_factor = 0 start_equipment_factor = 1"
				owner = ROOT
			}
		}
	}
}

# End of British Fascist Civil War event
country_event = {
	id = mtg_britain.34
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.34 FROM = [From.GetName]" }
	title = mtg_britain.34.t
	desc = mtg_britain.34.d
	picture = GFX_report_event_fascist_speech

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.34.a
		add_ideas = ENG_george_vi
		hidden_effect = {
			CAN = {
				if = {
					limit = {
						has_completed_focus = CAN_strengthen_the_commonwealth_ties
					}
					set_faction_name = "ENG_commonwealth_of_nations"
					every_other_country = {
						limit = {
							NOT = { tag = EGY }
						}
						CAN = {
							add_ai_strategy = {
								type = alliance
								id = PREV
								value = -200
							}
						}
					}
				}
			}
		}
		custom_effect_tooltip = mtg_britain.34_tt
		hidden_effect = { news_event = { id = mtg_news.42 days = 1 } }
		delete_unit_template_and_units = { division_template = "Blackshirt Brigade" }
	}
}

# March on Downing Street event
country_event = {
	id = mtg_britain.35
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.35 FROM = [From.GetName]" }
	title = mtg_britain.35.t
	desc = mtg_britain.35.d
	picture = GFX_report_event_eng_mosley_march_on_downing_street

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.35.a
		set_politics = { ruling_party = fascism elections_allowed = no }
		add_timed_idea = { idea = ENG_restoring_public_order days = 365 }
	}
}

# Secure the Italian Alliance event for Italy
country_event = {
	id = mtg_britain.36
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.36 FROM = [From.GetName]" }
	title = mtg_britain.36.t
	desc = mtg_britain.36.d
	picture = GFX_report_event_eng_mosley_mussolini

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.36.a

		ai_chance = {
			base = 0
			modifier = {
				add = 1
				OR = {
					ITA_is_historical_ai = yes #Historical ITA has 50%-50% chances of accepting
					ITA_is_alt_fascist_balbo_ai = yes
					ITA_is_alt_fascist_grandi_ai = yes
					ITA_is_monarchist_ai = yes
				}
			}
		}

		FROM = {
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = anglo_italian_pact
			}
			add_to_faction = ROOT
			country_event = { id = mtg_britain.37 hours = 6 }
			hidden_effect = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = -200
				}
			}
		}
		#Italian subjects join the faction
		every_subject_country = {
			FROM = {
				add_to_faction = PREV
			}
		}
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = antagonize
				id = FROM
				value = -200
			}
		}
	}

	# Reject
	option = {
		name = mtg_britain.36.b

		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					ITA_is_alt_fascist_balbo_ai = yes
					ITA_is_alt_fascist_grandi_ai = yes
					ITA_is_monarchist_ai = yes
				}
			}
		}

		FROM = { country_event = { id = mtg_britain.38 hours = 6 } }
	}
}

# Secure the Italian Alliance acceptance event for Britain
country_event = {
	id = mtg_britain.37
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.37 FROM = [From.GetName]" }
	title = mtg_britain.37.t
	desc = mtg_britain.37.d
	picture = GFX_report_event_eng_mosley_mussolini

	is_triggered_only = yes
	
	# Ok
	option = {
		name = excellent
		FRA = { country_event = { id = mtg_britain.39 hours = 6 } }
		effect_tooltip = {
			add_to_faction = FROM
		}
		hidden_effect = { news_event = { id = mtg_news.24 days = 1 } }
	}
}

# Secure the Italian Alliance rejection event for Britain
country_event = {
	id = mtg_britain.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.38 FROM = [From.GetName]" }
	title = mtg_britain.38.t
	desc = mtg_britain.38.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = unfortunate
	}
}

# Secure the Italian Alliance event telling France they're out
country_event = {
	id = mtg_britain.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.39 FROM = [From.GetName]" }
	title = mtg_britain.39.t
	desc = mtg_britain.39.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.39.a
		effect_tooltip = { ENG = { remove_from_faction = ROOT } }
	}
}

# Gibraltar for Spanish Support event for Spain
country_event = {
	id = mtg_britain.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.40 FROM = [From.GetName]" }
	title = mtg_britain.40.t
	desc = mtg_britain.40.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.40.a
		transfer_state = 882
		FROM = {
			add_to_faction = ROOT
			country_event = { id = mtg_britain.36 hours = 6 }
			hidden_effect = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = -200
				}
			}
		}
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = antagonize
				id = FROM
				value = -200
			}
		}
	}

	# Reject
	option = {
		name = mtg_britain.40.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = mtg_britain.37 hours = 6 } }
	}
}

# Gibraltar for Spanish Support acceptance event for Britain
country_event = {
	id = mtg_britain.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.41 FROM = [From.GetName]" }
	title = mtg_britain.41.t
	desc = mtg_britain.41.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = excellent
		effect_tooltip = {
			FROM = { transfer_state = 882 }
			add_to_faction = FROM
		}
		hidden_effect = { news_event = { id = mtg_news.25 days = 1 } }
	}
}

# Gibraltar for Spanish Support rejection event for Britain
country_event = {
	id = mtg_britain.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.42 FROM = [From.GetName]" }
	title = mtg_britain.42.t
	desc = mtg_britain.42.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = unfortunate
	}
}

# The Fate of the Royal Family event
country_event = {
	id = mtg_britain.43
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.43 FROM = [From.GetName]" }
	title = mtg_britain.43.t
	desc = mtg_britain.43.d
	picture = GFX_report_event_eng_royal_family

	is_triggered_only = yes
	
	# Banish them to Canada
	option = {
		name = mtg_britain.43.a
		ai_chance = {
			factor = 75
		}
		add_timed_idea = { idea = ENG_confiscated_royal_wealth days = 365 }
		remove_ideas = ENG_george_vi
		CAN = {
			country_event = { id = mtg_britain.44 }
			effect_tooltip = {
				add_ideas = ENG_exiled_royal_family
			}
		}
	}

	# Execute them all
	option = {
		name = mtg_britain.43.b
		ai_chance = {
			factor = 25
		}
		add_timed_idea = { idea = ENG_confiscated_royal_wealth days = 365 }
		add_stability = -0.1
		remove_ideas = ENG_george_vi
		hidden_effect = { news_event = { id = mtg_news.35 days = 1 } }
	}
}

# The Fate of the Royal Family event - notification event for exiled Royal Family for Canada
country_event = {
	id = mtg_britain.44
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.44 FROM = [From.GetName]" }
	title = mtg_britain.44.t
	desc = mtg_britain.44.d
	picture = GFX_report_event_eng_royal_family

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.44.a
		add_ideas = ENG_exiled_royal_family
		hidden_effect = { news_event = { id = mtg_news.34 days = 1 } }
	}
}

# Eliminate the Upper Class event
country_event = {
	id = mtg_britain.45
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.45 FROM = [From.GetName]" }
	title = mtg_britain.45.t
	desc = mtg_britain.45.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes
	
	# Get rid of them all
	option = {
		name = mtg_britain.45.a
		
		retire_character = ENG_alan_brooke
		retire_character = ENG_bernard_montgomery
		retire_character = ENG_harold_alexander
		retire_character = ENG_john_vereker
		retire_character = ENG_oliver_leese
		retire_character = ENG_archibald_wavell
		retire_character = ENG_james_fownes_somerville
		retire_character = ENG_henry_harwood
		retire_character = ENG_john_tovey
		retire_character = ENG_bernard_rawlings

		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			set_state_flag = ENG_upper_classes_2IC
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			set_state_flag = ENG_upper_classes_2IC
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = ENG_upper_classes_2AF
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = ENG_upper_classes_2AF
		}
	}
}

# Enforce Decolonization event - release or else!!!!
country_event = {
	id = mtg_britain.46
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.46 FROM = [From.GetName]" }
	title = mtg_britain.46.t
	desc = mtg_britain.46.d
	picture = GFX_report_event_communist_leader

	is_triggered_only = yes
	
	# Accept - We will release
	option = {
		name = mtg_britain.46.a
		ai_chance = {
			factor = 34
			modifier = {
				factor = 1.5
				strength_ratio = {
					tag = ENG
					ratio < 0.5
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio < 0.3
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio < 0.2
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio < 0.1
				}
			}
			modifier = {
				factor = 0
				strength_ratio = {
					tag = ENG
					ratio > 1.6
				}
			}
		}
		if = {
			limit = {
				NOT = { original_tag = SYR }
				SYR = {
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			release = SYR
		}
		if = {
			limit = {
				SYR = {
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = SYR autonomy_state = autonomy_free }
			SYR = { leave_faction = yes }
		}
		if = {
			limit = {
				NOT = { original_tag = LEB }
				LEB = {
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			release = LEB
		}
		if = {
			limit = {
				LEB = {
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = LEB autonomy_state = autonomy_free }
			LEB = { leave_faction = yes }
		}
		if = {
			limit = {
				NOT = { original_tag = MOR }
				MOR = {
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			release = MOR
		}
		if = {
			limit = {
				MOR = {
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = MOR autonomy_state = autonomy_free }
			MOR = { leave_faction = yes }
		}
		if = {
			limit = {
				NOT = { original_tag = ALG }
				ALG = {
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			release = ALG
		}
		if = {
			limit = {
				ALG = {
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = ALG autonomy_state = autonomy_free }
			ALG = { leave_faction = yes }
		}
		if = {
			limit = {
				NOT = { original_tag = TUN }
				TUN = {
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			release = TUN
		}
		if = {
			limit = {
				TUN = {
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = TUN autonomy_state = autonomy_free }
			TUN = { leave_faction = yes }
		}
		if = {
			limit = {
				NOT = { original_tag = TOG }
				owns_state = 777
				has_full_control_of_state = 777
			}
			release = TOG
		}
		if = {
			limit = {
				NOT = { original_tag = MOR }
				MOR = {
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			release = MOR
		}
		if = {
			limit = {
				NOT = { original_tag = LBA }
				LBA = {
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			release = LBA
		}
		if = {
			limit = {
				LBA = {
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = LBA autonomy_state = autonomy_free }
			LBA = { leave_faction = yes }
		}
		FROM = { country_event = { id = mtg_britain.47 hours = 6 } }
	}

	# Reject - We will NOT release
	option = {
		name = mtg_britain.46.b
		ai_chance = {
			factor = 66
			modifier = {
				factor = 1.5
				strength_ratio = {
					tag = ENG
					ratio > 0.7
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio > 0.85
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio > 1
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio > 1.2
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio > 1.4
				}
			}
		}
		FROM = { country_event = { id = mtg_britain.48 hours = 6 } }
		effect_tooltip = {
			FROM = { 
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
	}
}

# Enforce Decolonization event - FROM has released
country_event = {
	id = mtg_britain.47
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.47 FROM = [From.GetName]" }
	title = mtg_britain.47.t
	desc = mtg_britain.47.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.47.a
	}
}

# Enforce Decolonization event - FROM has refused to release!
country_event = {
	id = mtg_britain.48
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.48 FROM = [From.GetName]" }
	title = mtg_britain.48.t
	desc = mtg_britain.48.d
	picture = GFX_report_event_british_inspect_troops

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.48.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
	}
}

# Soviet Cooperation - event for SOV - Wanna gang up on GER?
country_event = {
	id = mtg_britain.49
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.49 FROM = [From.GetName]" }
	title = mtg_britain.49.t
	desc = mtg_britain.49.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Sounds great!
	option = {
		name = mtg_britain.49.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_war = yes
				surrender_progress > 0.01
			}
		}
		FROM = { country_event = { id = mtg_britain.50 hours = 6 } }
		effect_tooltip = {
			FROM = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
				}
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
			}
		}
	}

	# Nah ty
	option = {
		name = mtg_britain.49.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_war = no
			}
		}
		FROM = { country_event = { id = mtg_britain.51 hours = 6 } }
	}
}

# Soviet Cooperation - event for ENG - SOV accepted
country_event = {
	id = mtg_britain.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.50 FROM = [From.GetName]" }
	title = mtg_britain.50.t
	desc = mtg_britain.50.d
	picture = GFX_report_event_hitler_handshake

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.50.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = GER
		}
		FROM = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
			}
		}
	}
}

# Soviet Cooperation - event for ENG - SOV rejected
country_event = {
	id = mtg_britain.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.51 FROM = [From.GetName]" }
	title = mtg_britain.51.t
	desc = mtg_britain.51.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.51.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = GER
		}
	}
}

# Follow Moscow - event for SOV - Wanna have ENG in your faction?
country_event = {
	id = mtg_britain.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.52 FROM = [From.GetName]" }
	title = mtg_britain.52.t
	desc = mtg_britain.52.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Sounds great!
	option = {
		name = mtg_britain.52.a
		FROM = { country_event = { id = mtg_britain.53 hours = 6 } }
		effect_tooltip = {
			add_to_faction = ENG
		}
	}

	# Nah ty
	option = {
		name = mtg_britain.52.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = mtg_britain.54 hours = 6 } }
	}
}

# Follow Moscow - event for ENG - SOV accepts
country_event = {
	id = mtg_britain.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.53 FROM = [From.GetName]" }
	title = mtg_britain.53.t
	desc = mtg_britain.53.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = excellent
		FROM = { add_to_faction = ENG }
	}
}

# Follow Moscow - event for ENG - SOV rejects
country_event = {
	id = mtg_britain.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.54 FROM = [From.GetName]" }
	title = mtg_britain.54.t
	desc = mtg_britain.54.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = unfortunate
	}
}

# Communist civil war event
country_event = {
	id = mtg_britain.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.55 FROM = [From.GetName]" }
	title = mtg_britain.55.t
	desc = mtg_britain.55.d
	picture = GFX_report_event_ger_civil_war

	# Is now fired through mission failure instead, for clarity to the player

	#trigger = {
	#	tag = ENG
	#	has_completed_focus = ENG_concessions_to_the_trade_unions
	#	NOT = { has_completed_focus = ENG_decolonization }
	#	has_government = communism
	#	has_country_flag = ENG_switched_to_communism_civil_war_flag
	#	NOT = { has_country_flag = ENG_switched_to_communism_civil_war_timer_flag }
	#}
	
	#mean_time_to_happen = {
	#	days = 2
	#}

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_country_leader = {
						character = ENG_harry_pollitt
						ruling_only = yes
					}
				}
				set_country_flag = harry_pollitt
			}
			if = {
				limit = {
					has_country_leader = {
						name = "Rajani Palme Dutt"
						ruling_only = yes
					}
				}
				set_country_flag = rajani_palme_dutt
			}
			set_country_flag = ENG_communist_civil_war
			set_variable = {
				var = civil_war_size_var
				value = party_popularity@communism
			}
			if = {
				limit = {
					check_variable = {
						var = civil_war_size_var
						value = 0.5
						compare = less_than
					}
				}
				set_variable = {
					var = civil_war_size_var
					value = 0.5
				}
			}
			start_civil_war = {
				ruling_party = communism
				ideology = communism
				size = civil_war_size_var
			}
			random_other_country = {
				limit = {
					original_tag = ENG
					has_government = communism
				}
				retire_country_leader = yes
				retire_country_leader = yes
				set_cosmetic_tag = ENG_communist_civil_war
				set_country_flag = ENG_communist_civil_war
				civil_war_anti_exploiter_punitive_action = yes
			}
			add_popularity = {
				ideology = communism
				popularity = 0.4
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.2
			}
			if = {
				limit = {
					has_country_flag = harry_pollitt
				}
				create_country_leader = {
					name = "Harry Pollitt"
					desc = "POLITICS_HARRY_POLLITT_DESC"
					picture = GFX_portrait_Harry_Pollitt
					expire = "1965.1.1"
					ideology = leninism
					traits = {
						staunch_stalinist
					}
				}
			}
			if = {
				limit = {
					has_country_flag = rajani_palme_dutt
				}
				create_country_leader = {
					name = "Rajani Palme Dutt"
					desc = "POLITICS_PALME_DUTT_DESC"
					picture = GFX_portrait_Rajani_Palme_Dutt
					expire = "1965.1.1"
					ideology = leninism
					traits = {
						comintern_workhorse
					}
				}
			}
		}
	}
	
	# Ok
	option = {
		name = mtg_britain.55.a
		custom_effect_tooltip = ENG_communist_civil_war_tt
		clr_country_flag = ENG_switched_to_communism_civil_war_flag
		hidden_effect = { news_event = { id = mtg_news.43 days = 1 } }
	}
}

# Communist civil war ends
country_event = {
	id = mtg_britain.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.56 FROM = [From.GetName]" }
	title = mtg_britain.56.t
	desc = mtg_britain.56.d
	picture = GFX_report_event_communists_cheer

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.56.a
		clr_country_flag = ENG_communist_civil_war
	}
}

# Blackshirt great March in [statenamehere]!
country_event = {
	id = mtg_britain.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.57 FROM = [From.GetName]" }
	title = mtg_britain.57.t
	desc = mtg_britain.57.d
	picture = GFX_report_event_eng_good_blackshirt_march

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.57.a
		add_political_power = 25
		if = {
			limit = {
				has_country_flag = ENG_march_temp_northern_ireland
			}
			add_stability = -0.041
			add_popularity = { ideology = fascism popularity = 0.027 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_NIR
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_highlands
			}
			add_stability = -0.009
			add_popularity = { ideology = fascism popularity = 0.006 }
			158 = { set_state_flag = ENG_has_blackshirt_support }
			161 = { set_state_flag = ENG_has_blackshirt_support }
			169 = { set_state_flag = ENG_has_blackshirt_support }
			183 = { set_state_flag = ENG_has_blackshirt_support }
			199 = { set_state_flag = ENG_has_blackshirt_support }
			2780 = { set_state_flag = ENG_has_blackshirt_support }
			2781 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_aberdeenshire
			}
			add_stability = -0.026
			add_popularity = { ideology = fascism popularity = 0.017 }
			176 = { set_state_flag = ENG_has_blackshirt_support }
			179 = { set_state_flag = ENG_has_blackshirt_support }
			180 = { set_state_flag = ENG_has_blackshirt_support }
			182 = { set_state_flag = ENG_has_blackshirt_support }
			191 = { set_state_flag = ENG_has_blackshirt_support }
			193 = { set_state_flag = ENG_has_blackshirt_support }
			194 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_lanark
			}
			add_stability = -0.077
			add_popularity = { ideology = fascism popularity = 0.051 }
			126 = { set_state_flag = ENG_has_blackshirt_support }
			210 = { set_state_flag = ENG_has_blackshirt_support }
			213 = { set_state_flag = ENG_has_blackshirt_support }
			219 = { set_state_flag = ENG_has_blackshirt_support }
			222 = { set_state_flag = ENG_has_blackshirt_support }
			230 = { set_state_flag = ENG_has_blackshirt_support }
			245 = { set_state_flag = ENG_has_blackshirt_support }
			249 = { set_state_flag = ENG_has_blackshirt_support }
			257 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_lothian
			}
			add_stability = -0.048
			add_popularity = { ideology = fascism popularity = 0.032 }
			204 = { set_state_flag = ENG_has_blackshirt_support }
			211 = { set_state_flag = ENG_has_blackshirt_support }
			214 = { set_state_flag = ENG_has_blackshirt_support }
			217 = { set_state_flag = ENG_has_blackshirt_support }
			220 = { set_state_flag = ENG_has_blackshirt_support }
			221 = { set_state_flag = ENG_has_blackshirt_support }
			224 = { set_state_flag = ENG_has_blackshirt_support }
			233 = { set_state_flag = ENG_has_blackshirt_support }
			237 = { set_state_flag = ENG_has_blackshirt_support }
			239 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_northern_england
			}
			add_stability = -0.072
			add_popularity = { ideology = fascism popularity = 0.048 }
			234 = { set_state_flag = ENG_has_blackshirt_support }
			258 = { set_state_flag = ENG_has_blackshirt_support }
			256 = { set_state_flag = ENG_has_blackshirt_support }
			269 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_yorkshire
			}
			add_stability = -0.157
			add_popularity = { ideology = fascism popularity = 0.101 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_YOR
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_lancashire
			}
			add_stability = -0.195
			add_popularity = { ideology = fascism popularity = 0.13 }
			293 = { set_state_flag = ENG_has_blackshirt_support }
			324 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_wales
			}
			add_stability = -0.078
			add_popularity = { ideology = fascism popularity = 0.052 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_WLS
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_west_midlands
			}
			add_stability = -0.125
			add_popularity = { ideology = fascism popularity = 0.083 }
			344 = { set_state_flag = ENG_has_blackshirt_support }
			355 = { set_state_flag = ENG_has_blackshirt_support }
			374 = { set_state_flag = ENG_has_blackshirt_support }
			390 = { set_state_flag = ENG_has_blackshirt_support }
			396 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_east_midlands
			}
			add_stability = -0.075
			add_popularity = { ideology = fascism popularity = 0.05 }
			313 = { set_state_flag = ENG_has_blackshirt_support }
			325 = { set_state_flag = ENG_has_blackshirt_support }
			328 = { set_state_flag = ENG_has_blackshirt_support }
			357 = { set_state_flag = ENG_has_blackshirt_support }
			369 = { set_state_flag = ENG_has_blackshirt_support }
			375 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_east_anglia
			}
			add_stability = -0.047
			add_popularity = { ideology = fascism popularity = 0.031 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_ESX
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			every_owned_state = {
				limit = {
					has_state_flag = core_of_EAG
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			379 = { set_state_flag = ENG_has_blackshirt_support }
			403 = { set_state_flag = ENG_has_blackshirt_support }
			416 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_gloucestershire
			}
			add_stability = -0.062
			add_popularity = { ideology = fascism popularity = 0.041 }
			410 = { set_state_flag = ENG_has_blackshirt_support }
			437 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_london
			}
			add_stability = -0.333
			add_popularity = { ideology = fascism popularity = 0.222 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_LND
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_cornwall
			}
			add_stability = -0.042
			add_popularity = { ideology = fascism popularity = 0.028 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_WSX
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			every_owned_state = {
				limit = {
					has_state_flag = core_of_KER
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_sussex
			}
			add_stability = -0.108
			add_popularity = { ideology = fascism popularity = 0.072 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_SSX
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			every_owned_state = {
				limit = {
					has_state_flag = core_of_KNT
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			405 = { set_state_flag = ENG_has_blackshirt_support }
			408 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		clr_country_flag = ENG_march_temp_northern_ireland
		clr_country_flag = ENG_march_temp_highlands
		clr_country_flag = ENG_march_temp_aberdeenshire
		clr_country_flag = ENG_march_temp_lanark
		clr_country_flag = ENG_march_temp_lothian
		clr_country_flag = ENG_march_temp_northern_england
		clr_country_flag = ENG_march_temp_yorkshire
		clr_country_flag = ENG_march_temp_lancashire
		clr_country_flag = ENG_march_temp_wales
		clr_country_flag = ENG_march_temp_west_midlands
		clr_country_flag = ENG_march_temp_east_midlands
		clr_country_flag = ENG_march_temp_east_anglia
		clr_country_flag = ENG_march_temp_gloucestershire
		clr_country_flag = ENG_march_temp_london
		clr_country_flag = ENG_march_temp_cornwall
		clr_country_flag = ENG_march_temp_sussex
		clr_country_flag = ENG_march_timer_flag
		clr_country_flag = ENG_restrained_march_flag
	}
}

# Blackshirt normal March in [statenamehere]!
country_event = {
	id = mtg_britain.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.58 FROM = [From.GetName]" }
	title = mtg_britain.58.t
	desc = mtg_britain.58.d
	picture = GFX_report_event_eng_blackshirt_march

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.58.a
		if = {
			limit = {
				has_country_flag = ENG_march_temp_northern_ireland
			}
			add_stability = -0.054
			add_popularity = { ideology = fascism popularity = 0.027 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_NIR
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_highlands
			}
			add_stability = -0.012
			add_popularity = { ideology = fascism popularity = 0.006 }
			158 = { set_state_flag = ENG_has_blackshirt_support }
			161 = { set_state_flag = ENG_has_blackshirt_support }
			169 = { set_state_flag = ENG_has_blackshirt_support }
			183 = { set_state_flag = ENG_has_blackshirt_support }
			199 = { set_state_flag = ENG_has_blackshirt_support }
			2780 = { set_state_flag = ENG_has_blackshirt_support }
			2781 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_aberdeenshire
			}
			add_stability = -0.034
			add_popularity = { ideology = fascism popularity = 0.017 }
			176 = { set_state_flag = ENG_has_blackshirt_support }
			179 = { set_state_flag = ENG_has_blackshirt_support }
			180 = { set_state_flag = ENG_has_blackshirt_support }
			182 = { set_state_flag = ENG_has_blackshirt_support }
			191 = { set_state_flag = ENG_has_blackshirt_support }
			193 = { set_state_flag = ENG_has_blackshirt_support }
			194 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_lanark
			}
			add_stability = -0.102
			add_popularity = { ideology = fascism popularity = 0.051 }
			126 = { set_state_flag = ENG_has_blackshirt_support }
			210 = { set_state_flag = ENG_has_blackshirt_support }
			213 = { set_state_flag = ENG_has_blackshirt_support }
			219 = { set_state_flag = ENG_has_blackshirt_support }
			222 = { set_state_flag = ENG_has_blackshirt_support }
			230 = { set_state_flag = ENG_has_blackshirt_support }
			245 = { set_state_flag = ENG_has_blackshirt_support }
			249 = { set_state_flag = ENG_has_blackshirt_support }
			257 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_lothian
			}
			add_stability = -0.064
			add_popularity = { ideology = fascism popularity = 0.032 }
			204 = { set_state_flag = ENG_has_blackshirt_support }
			211 = { set_state_flag = ENG_has_blackshirt_support }
			214 = { set_state_flag = ENG_has_blackshirt_support }
			217 = { set_state_flag = ENG_has_blackshirt_support }
			220 = { set_state_flag = ENG_has_blackshirt_support }
			221 = { set_state_flag = ENG_has_blackshirt_support }
			224 = { set_state_flag = ENG_has_blackshirt_support }
			233 = { set_state_flag = ENG_has_blackshirt_support }
			237 = { set_state_flag = ENG_has_blackshirt_support }
			239 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_northern_england
			}
			add_stability = -0.096
			add_popularity = { ideology = fascism popularity = 0.048 }
			234 = { set_state_flag = ENG_has_blackshirt_support }
			258 = { set_state_flag = ENG_has_blackshirt_support }
			256 = { set_state_flag = ENG_has_blackshirt_support }
			269 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_yorkshire
			}
			add_stability = -0.202
			add_popularity = { ideology = fascism popularity = 0.101 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_YOR
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_lancashire
			}
			add_stability = -0.26
			add_popularity = { ideology = fascism popularity = 0.13 }
			293 = { set_state_flag = ENG_has_blackshirt_support }
			324 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_wales
			}
			add_stability = -0.104
			add_popularity = { ideology = fascism popularity = 0.052 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_WLS
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_west_midlands
			}
			add_stability = -0.166
			add_popularity = { ideology = fascism popularity = 0.083 }
			344 = { set_state_flag = ENG_has_blackshirt_support }
			355 = { set_state_flag = ENG_has_blackshirt_support }
			374 = { set_state_flag = ENG_has_blackshirt_support }
			390 = { set_state_flag = ENG_has_blackshirt_support }
			396 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_east_midlands
			}
			add_stability = -0.1
			add_popularity = { ideology = fascism popularity = 0.05 }
			313 = { set_state_flag = ENG_has_blackshirt_support }
			325 = { set_state_flag = ENG_has_blackshirt_support }
			328 = { set_state_flag = ENG_has_blackshirt_support }
			357 = { set_state_flag = ENG_has_blackshirt_support }
			369 = { set_state_flag = ENG_has_blackshirt_support }
			375 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_east_anglia
			}
			add_stability = -0.062
			add_popularity = { ideology = fascism popularity = 0.031 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_ESX
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			every_owned_state = {
				limit = {
					has_state_flag = core_of_EAG
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			379 = { set_state_flag = ENG_has_blackshirt_support }
			403 = { set_state_flag = ENG_has_blackshirt_support }
			416 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_gloucestershire
			}
			add_stability = -0.082
			add_popularity = { ideology = fascism popularity = 0.041 }
			410 = { set_state_flag = ENG_has_blackshirt_support }
			437 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_london
			}
			add_stability = -0.444
			add_popularity = { ideology = fascism popularity = 0.222 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_LND
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_cornwall
			}
			add_stability = -0.056
			add_popularity = { ideology = fascism popularity = 0.028 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_WSX
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			every_owned_state = {
				limit = {
					has_state_flag = core_of_KER
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_sussex
			}
			add_stability = -0.144
			add_popularity = { ideology = fascism popularity = 0.072 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_SSX
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			every_owned_state = {
				limit = {
					has_state_flag = core_of_KNT
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			405 = { set_state_flag = ENG_has_blackshirt_support }
			408 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		clr_country_flag = ENG_march_temp_northern_ireland
		clr_country_flag = ENG_march_temp_highlands
		clr_country_flag = ENG_march_temp_aberdeenshire
		clr_country_flag = ENG_march_temp_lanark
		clr_country_flag = ENG_march_temp_lothian
		clr_country_flag = ENG_march_temp_northern_england
		clr_country_flag = ENG_march_temp_yorkshire
		clr_country_flag = ENG_march_temp_lancashire
		clr_country_flag = ENG_march_temp_wales
		clr_country_flag = ENG_march_temp_west_midlands
		clr_country_flag = ENG_march_temp_east_midlands
		clr_country_flag = ENG_march_temp_east_anglia
		clr_country_flag = ENG_march_temp_gloucestershire
		clr_country_flag = ENG_march_temp_london
		clr_country_flag = ENG_march_temp_cornwall
		clr_country_flag = ENG_march_temp_sussex
		clr_country_flag = ENG_march_timer_flag
		clr_country_flag = ENG_restrained_march_flag
	}
}

# Blackshirt disastrous March in [statenamehere]!
country_event = {
	id = mtg_britain.59
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.59 FROM = [From.GetName]" }
	title = mtg_britain.59.t
	desc = mtg_britain.59.d
	picture = GFX_report_event_generic_riot

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.59.a
		if = {
			limit = {
				has_country_flag = ENG_march_temp_northern_ireland
			}
			add_stability = -0.081
			add_popularity = { ideology = fascism popularity = 0.027 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_NIR
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_highlands
			}
			add_stability = -0.018
			add_popularity = { ideology = fascism popularity = 0.006 }
			158 = { set_state_flag = ENG_has_blackshirt_support }
			161 = { set_state_flag = ENG_has_blackshirt_support }
			169 = { set_state_flag = ENG_has_blackshirt_support }
			183 = { set_state_flag = ENG_has_blackshirt_support }
			199 = { set_state_flag = ENG_has_blackshirt_support }
			2780 = { set_state_flag = ENG_has_blackshirt_support }
			2781 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_aberdeenshire
			}
			add_stability = -0.051
			add_popularity = { ideology = fascism popularity = 0.017 }
			176 = { set_state_flag = ENG_has_blackshirt_support }
			179 = { set_state_flag = ENG_has_blackshirt_support }
			180 = { set_state_flag = ENG_has_blackshirt_support }
			182 = { set_state_flag = ENG_has_blackshirt_support }
			191 = { set_state_flag = ENG_has_blackshirt_support }
			193 = { set_state_flag = ENG_has_blackshirt_support }
			194 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_lanark
			}
			add_stability = -0.153
			add_popularity = { ideology = fascism popularity = 0.051 }
			126 = { set_state_flag = ENG_has_blackshirt_support }
			210 = { set_state_flag = ENG_has_blackshirt_support }
			213 = { set_state_flag = ENG_has_blackshirt_support }
			219 = { set_state_flag = ENG_has_blackshirt_support }
			222 = { set_state_flag = ENG_has_blackshirt_support }
			230 = { set_state_flag = ENG_has_blackshirt_support }
			245 = { set_state_flag = ENG_has_blackshirt_support }
			249 = { set_state_flag = ENG_has_blackshirt_support }
			257 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_lothian
			}
			add_stability = -0.096
			add_popularity = { ideology = fascism popularity = 0.032 }
			204 = { set_state_flag = ENG_has_blackshirt_support }
			211 = { set_state_flag = ENG_has_blackshirt_support }
			214 = { set_state_flag = ENG_has_blackshirt_support }
			217 = { set_state_flag = ENG_has_blackshirt_support }
			220 = { set_state_flag = ENG_has_blackshirt_support }
			221 = { set_state_flag = ENG_has_blackshirt_support }
			224 = { set_state_flag = ENG_has_blackshirt_support }
			233 = { set_state_flag = ENG_has_blackshirt_support }
			237 = { set_state_flag = ENG_has_blackshirt_support }
			239 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_northern_england
			}
			add_stability = -0.144
			add_popularity = { ideology = fascism popularity = 0.048 }
			234 = { set_state_flag = ENG_has_blackshirt_support }
			258 = { set_state_flag = ENG_has_blackshirt_support }
			256 = { set_state_flag = ENG_has_blackshirt_support }
			269 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_yorkshire
			}
			add_stability = -0.303
			add_popularity = { ideology = fascism popularity = 0.101 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_YOR
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_lancashire
			}
			add_stability = -0.39
			add_popularity = { ideology = fascism popularity = 0.13 }
			293 = { set_state_flag = ENG_has_blackshirt_support }
			324 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_wales
			}
			add_stability = -0.156
			add_popularity = { ideology = fascism popularity = 0.052 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_WLS
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_west_midlands
			}
			add_stability = -0.249
			add_popularity = { ideology = fascism popularity = 0.083 }
			344 = { set_state_flag = ENG_has_blackshirt_support }
			355 = { set_state_flag = ENG_has_blackshirt_support }
			374 = { set_state_flag = ENG_has_blackshirt_support }
			390 = { set_state_flag = ENG_has_blackshirt_support }
			396 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_east_midlands
			}
			add_stability = -0.15
			add_popularity = { ideology = fascism popularity = 0.05 }
			313 = { set_state_flag = ENG_has_blackshirt_support }
			325 = { set_state_flag = ENG_has_blackshirt_support }
			328 = { set_state_flag = ENG_has_blackshirt_support }
			357 = { set_state_flag = ENG_has_blackshirt_support }
			369 = { set_state_flag = ENG_has_blackshirt_support }
			375 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_east_anglia
			}
			add_stability = -0.093
			add_popularity = { ideology = fascism popularity = 0.031 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_ESX
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			every_owned_state = {
				limit = {
					has_state_flag = core_of_EAG
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			379 = { set_state_flag = ENG_has_blackshirt_support }
			403 = { set_state_flag = ENG_has_blackshirt_support }
			416 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_gloucestershire
			}
			add_stability = -0.123
			add_popularity = { ideology = fascism popularity = 0.041 }
			410 = { set_state_flag = ENG_has_blackshirt_support }
			437 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_london
			}
			add_stability = -0.666
			add_popularity = { ideology = fascism popularity = 0.222 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_LND
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_cornwall
			}
			add_stability = -0.084
			add_popularity = { ideology = fascism popularity = 0.028 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_WSX
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			every_owned_state = {
				limit = {
					has_state_flag = core_of_KER
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		if = {
			limit = {
				has_country_flag = ENG_march_temp_sussex
			}
			add_stability = -0.216
			add_popularity = { ideology = fascism popularity = 0.072 }
			every_owned_state = {
				limit = {
					has_state_flag = core_of_SSX
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			every_owned_state = {
				limit = {
					has_state_flag = core_of_KNT
				}
				set_state_flag = ENG_has_blackshirt_support
			}
			405 = { set_state_flag = ENG_has_blackshirt_support }
			408 = { set_state_flag = ENG_has_blackshirt_support }
			custom_effect_tooltip = ENG_blackshirt_march_tt
		}
		clr_country_flag = ENG_march_temp_northern_ireland
		clr_country_flag = ENG_march_temp_highlands
		clr_country_flag = ENG_march_temp_aberdeenshire
		clr_country_flag = ENG_march_temp_lanark
		clr_country_flag = ENG_march_temp_lothian
		clr_country_flag = ENG_march_temp_northern_england
		clr_country_flag = ENG_march_temp_yorkshire
		clr_country_flag = ENG_march_temp_lancashire
		clr_country_flag = ENG_march_temp_wales
		clr_country_flag = ENG_march_temp_west_midlands
		clr_country_flag = ENG_march_temp_east_midlands
		clr_country_flag = ENG_march_temp_east_anglia
		clr_country_flag = ENG_march_temp_gloucestershire
		clr_country_flag = ENG_march_temp_london
		clr_country_flag = ENG_march_temp_cornwall
		clr_country_flag = ENG_march_temp_sussex
		clr_country_flag = ENG_march_timer_flag
		clr_country_flag = ENG_restrained_march_flag
	}
}

# Mosley speech against Germany
country_event = {
	id = mtg_britain.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.60 FROM = [From.GetName]" }
	title = mtg_britain.60.t
	desc = mtg_britain.60.d
	picture = GFX_report_event_eng_mosley_speech

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.60.a
		GER = { add_opinion_modifier = { target = ENG modifier = ENG_spoke_out_against_us } }
	}
}

# Appeal to Imperial Loyalists event for dominions
country_event = {
	id = mtg_britain.61
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.61 FROM = [From.GetName]" }
	title = mtg_britain.61.t
	desc = mtg_britain.61.d
	picture = GFX_report_event_french_resistance_02

	is_triggered_only = yes
	
	# The British are plotting!
	option = {
		name = mtg_britain.61.a
	}
}

# Move to Secure the Dominions notification event for the dominions
country_event = {
	id = mtg_britain.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.62 FROM = [From.GetName]" }
	title = mtg_britain.62.t
	desc = mtg_britain.62.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Watch out! The British are coming!
	option = {
		name = mtg_britain.62.a
	}
}

# Move to Secure the Dominions - Martial Law notification event for the dominions
country_event = {
	id = mtg_britain.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.63 FROM = [From.GetName]" }
	title = mtg_britain.63.t
	desc = mtg_britain.63.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.63.a
		custom_effect_tooltip = mtg_britain.62_tt
		hidden_effect = { news_event = { id = mtg_news.31 days = 1 } }
	}
}

# Move to Secure the Dominions - Propaganda notification event for the dominions
country_event = {
	id = mtg_britain.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.64 FROM = [From.GetName]" }
	title = mtg_britain.64.t
	desc = mtg_britain.64.d
	picture = GFX_report_event_generic_rally2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.64.a
		effect_tooltip = {
			if = {
				limit = {
					ENG = { has_government = fascism }
				}
				add_timed_idea = { idea = ENG_dominion_fascist_propaganda days = 90 }
			}
			if = {
				limit = {
					ENG = { has_government = communism }
				}
				add_timed_idea = { idea = ENG_dominion_communist_propaganda days = 90 }
			}
		}
		if = {
			limit = {
				ENG = { has_government = communism }
				NOT = { USA = { has_government = communism } }
				tag = CAN
			}
			USA = { country_event = { id = mtg_britain.68 days = 1 } }
		}
	}
}

# Move to Secure the Dominions - Replace Government notification event for the dominions
country_event = {
	id = mtg_britain.65
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.65 FROM = [From.GetName]" }
	title = mtg_britain.65.t
	desc = mtg_britain.65.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.65.a
		effect_tooltip = {
			if = {
				limit = {
					ENG = { has_government = fascism }
				}
				set_politics = { ruling_party = fascism elections_allowed = no }
				add_popularity = { ideology = fascism popularity = 0.2 }
				add_ideas = fascist_influence
			}
			if = {
				limit = {
					ENG = { has_government = communism }
				}
				set_politics = { ruling_party = communism elections_allowed = no }
				add_popularity = { ideology = communism popularity = 0.2 }
				add_ideas = communist_influence
			}
		}
		hidden_effect = { news_event = { id = mtg_news.32 days = 1 } }
	}
}

# Event for Dominions leaving the Allies after UK switches to Fascism or Communism
country_event = {
	id = mtg_britain.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.66 FROM = [From.GetName]" }
	title = mtg_britain.66.t
	desc = mtg_britain.66.d
	picture = GFX_report_event_generic_sign_treaty3

	trigger = {
		OR = {
			tag = CAN
			tag = EGY
		}
		is_subject_of = ENG
		OR = {
			ENG = { has_government = fascism }
			ENG = { has_government = communism }
		}
		ENG = { has_civil_war = no }
		NOT = { has_country_flag = ENG_cannot_leave_faction }
		NOT = { ENG = { has_country_flag = ENG_switched_to_fascism_communism_dominions_timer_flag } }
		has_dlc = "Man the Guns"
		NOT = { has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag }
		NOT = { has_country_flag = britain_enforced_our_loyalty }
		NOT = { has_country_flag = ENG_already_left_faction_flag }
	}
	
	fire_only_once = no

	mean_time_to_happen = { days = 30 }
	
	# We will stay
	option = {
		name = mtg_britain.66.a
		ai_chance = {
			factor = 0
		}
		set_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
	}

	# We will leave
	option = {
		name = mtg_britain.66.b
		leave_faction = yes
		ENG = {
			set_autonomy = {
			    target = ROOT
			    autonomy_state = autonomy_free
			}
		}
		if = {
			limit = {
				has_idea = ENG_guided_by_britain_1
			}
			remove_ideas = ENG_guided_by_britain_1
		}
		if = {
			limit = {
				has_idea = ENG_guided_by_britain_2
			}
			remove_ideas = ENG_guided_by_britain_2
		}
		if = {
			limit = {
				has_idea = ENG_guided_by_britain_raj_1
			}
			remove_ideas = ENG_guided_by_britain_raj_1
		}
		if = {
			limit = {
				has_idea = ENG_guided_by_britain_raj_2
			}
			remove_ideas = ENG_guided_by_britain_raj_2
		}
		if = {
			limit = {
				tag = RAJ
			}
			drop_cosmetic_tag = yes
			retire_country_leader = yes
		}
		remove_from_tech_sharing_group = commonwealth_research
		set_country_flag = ENG_already_left_faction_flag
		ENG = { country_event = { id = mtg_britain.67 } }
		hidden_effect = { news_event = { id = mtg_news.63 days = 1 } }
	}
}

# Event for Britain notifying that Dominions are leaving
country_event = {
	id = mtg_britain.67
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.67 FROM = [From.GetName]" }
	title = mtg_britain.67.t
	desc = mtg_britain.67.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.67.a
		remove_from_tech_sharing_group = commonwealth_research
		effect_tooltip = {
			FROM = {
				leave_faction = yes
				remove_from_tech_sharing_group = commonwealth_research
				if = {
					limit = {
						has_idea = ENG_guided_by_britain_1
					}
					remove_ideas = ENG_guided_by_britain_1
				}
				if = {
					limit = {
						has_idea = ENG_guided_by_britain_2
					}
					remove_ideas = ENG_guided_by_britain_2
				}
				if = {
					limit = {
						has_idea = ENG_guided_by_britain_raj_1
					}
					remove_ideas = ENG_guided_by_britain_raj_1
				}
				if = {
					limit = {
						has_idea = ENG_guided_by_britain_raj_2
					}
					remove_ideas = ENG_guided_by_britain_raj_2
				}
			}
		}
	}
}

# Event for USA notifying that Britain is forcing through communism in Canada
country_event = {
	id = mtg_britain.68
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.68 FROM = [From.GetName]" }
	title = mtg_britain.68.t
	desc = mtg_britain.68.d
	picture = GFX_report_event_communist_leader

	is_triggered_only = yes
	
	# Object strongly
	option = {
		name = mtg_britain.68.a
		ai_chance = {
			factor = 66
			modifier = {
				factor = 1.5
				strength_ratio = {
					tag = ENG
					ratio > 0.8
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio > 1
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio > 1.2
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio > 1.5
				}
			}
		}
		ENG = { country_event = { id = mtg_britain.69 hours = 6 } }
	}

	# That's fine
	option = {
		name = mtg_britain.68.b
		ai_chance = {
			factor = 34
			modifier = {
				factor = 1.5
				strength_ratio = {
					tag = ENG
					ratio < 0.5
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio < 0.35
				}
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = ENG
					ratio < 0.2
				}
			}
		}
	}
}

# Event for Britain notifying that USA objects to them forcing through communism in Canada
country_event = {
	id = mtg_britain.69
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.69 FROM = [From.GetName]" }
	title = mtg_britain.69.t
	desc = mtg_britain.69.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Bring it
	option = {
		name = mtg_britain.69.a
		ai_chance = {
			factor = 34
		}
		FROM = { country_event = { id = mtg_britain.70 hours = 6 } }
	}

	# Back down
	option = {
		name = mtg_britain.69.b
		ai_chance = {
			factor = 66
		}
		custom_effect_tooltip = mtg_britain.68_tt
		FROM = { country_event = { id = mtg_britain.71 hours = 6 } }
		remove_decision = ENG_propaganda_campaigns_in_canada
		set_country_flag = ENG_secure_the_dominions_backed_down_against_USA
		CAN = { remove_ideas = ENG_dominion_communist_propaganda }
	}
}

# Event for USA notifying that Britain isn't backing down
country_event = {
	id = mtg_britain.70
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.70 FROM = [From.GetName]" }
	title = mtg_britain.70.t
	desc = mtg_britain.70.d
	picture = GFX_report_event_communist_leader

	is_triggered_only = yes
	
	# We'll see about that
	option = {
		name = mtg_britain.70.a
		create_wargoal = {
			type = topple_government
			target = FROM
		}
	}

	# Back down
	option = {
		name = mtg_britain.70.b
		ai_chance = {
			factor = 0
		}
	}
}

# Event for USA notifying that Britain is backing down
country_event = {
	id = mtg_britain.71
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.71 FROM = [From.GetName]" }
	title = mtg_britain.71.t
	desc = mtg_britain.71.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.71.a
	}
}


# Event for Iran/Afghanistan demanding puppet status
country_event = {
	id = mtg_britain.79
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.79 FROM = [From.GetName]" }
	title = mtg_britain.79.t
	desc = mtg_britain.79.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# We have no choice
	option = {
		name = mtg_britain.79.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				strength_ratio = { tag = ENG ratio > 1 }
			}
		}
		effect_tooltip = {
			ENG = {
				puppet = ROOT
			}
		}
		FROM = { country_event = { id = mtg_britain.80 hours = 6 } }
		hidden_effect = { news_event = { id = mtg_news.28 hours = 30 } }
	}

	# Never!
	option = {
		name = mtg_britain.79.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.5 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 99 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.3 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.2 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = ENG ratio < 0.1 }
			}
			modifier = {
				factor = 0.8
				SOV = { has_completed_focus = SOV_liberation_of_the_european_proletariat }
			}
			modifier = {
				factor = 0
				OR = {
					SOV = {
						focus_progress = { focus = SOV_the_southern_thrust progress > 0 }
						has_completed_focus = SOV_the_southern_thrust
					}
					has_war_with = SOV
				}
			}
		}
		effect_tooltip = {
			if = {
				limit = {
					tag = PER
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = PER
				}
			}
		}
		FROM = { country_event = { id = mtg_britain.81 hours = 6 } }
		hidden_effect = { news_event = { id = mtg_news.29 hours = 30 } }
	}
}

# Event for ENG that PER/AFG accepted puppet status
country_event = {
	id = mtg_britain.80
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.80 FROM = [From.GetName]" }
	title = mtg_britain.80.t
	desc = mtg_britain.80.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.80.a
		puppet = FROM
	}
}

# Event for ENG that PER/AFG rejected puppet status
country_event = {
	id = mtg_britain.81
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.81 FROM = [From.GetName]" }
	title = mtg_britain.81.t
	desc = mtg_britain.81.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.81.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
	}
}

# Event for ENG and Dominions notifying of Imperial Conference
country_event = {
	id = mtg_britain.82
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.82 FROM = [From.GetName]" }
	title = mtg_britain.82.t
	desc = mtg_britain.82.d
	picture = GFX_report_event_imperial_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.82.a
		trigger = {
			tag = ENG
		}
		activate_mission = ENG_imperial_conference_decision
		set_country_flag = { flag = ENG_imperial_conference_timer_flag value = 1 days = 60 }
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			add_opinion_modifier = { target = ROOT modifier = ENG_imperial_conference_opinion }
			custom_effect_tooltip = mtg_britain.82_tt
		}
	}

	# Ok
	option = {
		name = mtg_britain.82.b
		trigger = {
			NOT = { tag = ENG }
		}
		effect_tooltip = { add_opinion_modifier = { target = FROM modifier = ENG_imperial_conference_opinion } }
	}
}

# Event for ENG beginning discussions on Imperial Defense
country_event = {
	id = mtg_britain.83
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.83 FROM = [From.GetName]" }
	title = mtg_britain.83.t
	desc = mtg_britain.83.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_defense_flag
		}
	}
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.84 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.84 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.84 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Imperial Defense
country_event = {
	id = mtg_britain.84
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.84 FROM = [From.GetName]" }
	title = mtg_britain.83.t
	desc = mtg_britain.84.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.84.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_political_power = -25
		add_timed_idea = { idea = ENG_imperial_conference_defense_dominion days = 365 }
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		FROM = { country_event = { id = mtg_britain.85 } }
		ENG = {
			if = {
				limit = {
					NOT = {
						check_variable = {
							var = ENG_imperial_conference_defense_accepted
							value = 1
							compare = greater_than_or_equals
						}
					}
				}
				set_variable = {
					var = ENG_imperial_conference_defense_accepted
					value = 0
				}
			}
			add_to_variable = {
				var = ENG_imperial_conference_defense_accepted
				value = 1
			}
		}
	}

	# Reject
	option = {
		name = mtg_britain.84.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = mtg_britain.86 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Defense
country_event = {
	id = mtg_britain.85
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.85 FROM = [From.GetName]" }
	title = mtg_britain.85.t
	desc = mtg_britain.85.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.85.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				add_timed_idea = { idea = ENG_imperial_conference_defense_dominion days = 365 }
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
		}
		ENG_imperial_conference_defense_level_up = yes
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_defense_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_defense_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_defense_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG telling FROM voted no on Imperial Defense
country_event = {
	id = mtg_britain.86
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.86 FROM = [From.GetName]" }
	title = mtg_britain.86.t
	desc = mtg_britain.86.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.86.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_defense_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_defense_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_defense_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG beginning discussions on Imperial Trade
country_event = {
	id = mtg_britain.87
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.87 FROM = [From.GetName]" }
	title = mtg_britain.87.t
	desc = mtg_britain.87.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_trade_flag
		}
	}
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.88 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.88 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.88 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Imperial Trade
country_event = {
	id = mtg_britain.88
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.88 FROM = [From.GetName]" }
	title = mtg_britain.87.t
	desc = mtg_britain.88.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.88.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_ideas = free_trade
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		reverse_add_opinion_modifier = { target = FROM modifier = ENG_imperial_trade }
		FROM = { country_event = { id = mtg_britain.89 } }
	}

	# Reject
	option = {
		name = mtg_britain.88.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = mtg_britain.90 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Trade
country_event = {
	id = mtg_britain.89
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.89 FROM = [From.GetName]" }
	title = mtg_britain.89.t
	desc = mtg_britain.89.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.89.a
		effect_tooltip = {
			FROM = {
				add_ideas = free_trade
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
			add_opinion_modifier = { target = FROM modifier = ENG_imperial_trade }
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_trade_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_trade_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_trade_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG telling FROM voted no on Imperial Trade
country_event = {
	id = mtg_britain.90
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.90 FROM = [From.GetName]" }
	title = mtg_britain.90.t
	desc = mtg_britain.90.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.90.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_trade_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_trade_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_trade_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG beginning discussions on Imperial Economy
country_event = {
	id = mtg_britain.91
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.91 FROM = [From.GetName]" }
	title = mtg_britain.91.t
	desc = mtg_britain.91.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_economy_flag
		}
	}
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.92 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.92 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.92 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Imperial Economy
country_event = {
	id = mtg_britain.92
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.92 FROM = [From.GetName]" }
	title = mtg_britain.91.t
	desc = mtg_britain.92.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.92.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_political_power = -25
		add_timed_idea = { idea = ENG_imperial_conference_economy_dominion days = 365 }
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		FROM = { country_event = { id = mtg_britain.93 } }
		ENG = {
			if = {
				limit = {
					NOT = {
						check_variable = {
							var = ENG_imperial_conference_economy_accepted
							value = 1
							compare = greater_than_or_equals
						}
					}
				}
				set_variable = {
					var = ENG_imperial_conference_economy_accepted
					value = 0
				}
			}
			add_to_variable = {
				var = ENG_imperial_conference_economy_accepted
				value = 1
			}
		}
	}

	# Reject
	option = {
		name = mtg_britain.92.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = mtg_britain.94 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Economy
country_event = {
	id = mtg_britain.93
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.93 FROM = [From.GetName]" }
	title = mtg_britain.93.t
	desc = mtg_britain.93.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.93.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				add_timed_idea = { idea = ENG_imperial_conference_economy_dominion days = 365 }
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
		}
		ENG_imperial_conference_economy_level_up = yes
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_economy_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_economy_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_economy_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG telling FROM voted no on Imperial Economy
country_event = {
	id = mtg_britain.94
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.94 FROM = [From.GetName]" }
	title = mtg_britain.94.t
	desc = mtg_britain.94.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.94.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_economy_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_economy_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_economy_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG beginning discussions on Appeasement
country_event = {
	id = mtg_britain.95
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.95 FROM = [From.GetName]" }
	title = mtg_britain.95.t
	desc = mtg_britain.95.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_appeasement_flag
		}
	}
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.96 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.96 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.96 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Appeasement
country_event = {
	id = mtg_britain.96
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.96 FROM = [From.GetName]" }
	title = mtg_britain.95.t
	desc = mtg_britain.96.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.96.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_political_power = -25
		add_war_support = 0.1
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		effect_tooltip = { FROM = { add_war_support = 0.03 } }
		FROM = { country_event = { id = mtg_britain.97 } }
	}

	# Reject
	option = {
		name = mtg_britain.96.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = mtg_britain.98 } }
	}
}

# Event for ENG telling FROM voted yes on Appeasement
country_event = {
	id = mtg_britain.97
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.97 FROM = [From.GetName]" }
	title = mtg_britain.97.t
	desc = mtg_britain.97.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.97.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				add_war_support = 0.1
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
		}
		add_war_support = 0.03
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_appeasement_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_appeasement_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_appeasement_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG telling FROM voted no on Appeasement
country_event = {
	id = mtg_britain.98
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.98 FROM = [From.GetName]" }
	title = mtg_britain.98.t
	desc = mtg_britain.98.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.98.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_appeasement_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_appeasement_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_appeasement_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG beginning discussions on Imperial Federation
country_event = {
	id = mtg_britain.99
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.99 FROM = [From.GetName]" }
	title = mtg_britain.99.t
	desc = mtg_britain.99.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_federation_flag
		}
	}
	
	# Ask them if they want to agree to Federate
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.100 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.100 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = EGY
					}
					AND = {
						is_subject_of = ENG
						tag = KUW
					}
					AND = {
						is_subject_of = ENG
						tag = QAT
					}
				}
			}
			country_event = { id = mtg_britain.100 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Imperial Federation
country_event = {
	id = mtg_britain.100
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.100 FROM = [From.GetName]" }
	title = mtg_britain.99.t
	desc = mtg_britain.100.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.100.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		custom_effect_tooltip = mtg_britain.100_tt #"If all accept you will get:"
		effect_tooltip = { add_ideas = ENG_federal_integration }
		set_country_flag = ENG_accepted_federation
		FROM = { country_event = { id = mtg_britain.101 } }
	}

	# Reject
	option = {
		name = mtg_britain.100.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		set_country_flag = ENG_rejected_federation
		FROM = { country_event = { id = mtg_britain.102 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Federation
country_event = {
	id = mtg_britain.101
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.101 FROM = [From.GetName]" }
	title = mtg_britain.101.t
	desc = mtg_britain.101.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.101.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_federation_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_federation_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_federation_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
		if = {
			limit = {
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				NOT = {
					any_country = {
						OR = {
							tag = CAN
							tag = EGY
							tag = KUW
							tag = QAT
						}
						has_country_flag = ENG_rejected_federation
					}
				}
			}
			country_event = { id = mtg_britain.103 hours = 6 }
		}
		if = {
			limit = {
				RAJ = {
					is_subject_of = ENG
					has_country_flag = ENG_rejected_federation
				}
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				NOT = {
					any_country = {
						OR = {
							tag = CAN
							tag = EGY
							tag = KUW
							tag = QAT
						}
						has_country_flag = ENG_rejected_federation
					}
				}
			}
			country_event = { id = mtg_britain.104 hours = 6 }
		}
		if = {
			limit = {
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				any_country = {
					OR = {
						tag = CAN
						tag = EGY
						tag = KUW
						tag = QAT
					}
					has_country_flag = ENG_rejected_federation
				}
			}
			country_event = { id = mtg_britain.105 hours = 6 }
		}
	}
}

# Event for ENG telling FROM voted no on Imperial Federation
country_event = {
	id = mtg_britain.102
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.102 FROM = [From.GetName]" }
	title = mtg_britain.102.t
	desc = mtg_britain.102.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.102.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_federation_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_federation_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_federation_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
		if = {
			limit = {
				RAJ = {
					is_subject_of = ENG
					has_country_flag = ENG_rejected_federation
				}
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				NOT = {
					any_country = {
						OR = {
							tag = CAN
							tag = EGY
							tag = KUW
							tag = QAT
						}
						has_country_flag = ENG_rejected_federation
					}
				}
			}
			country_event = { id = mtg_britain.104 hours = 6 }
		}
		if = {
			limit = {
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				any_country = {
					OR = {
						tag = CAN
						tag = EGY
						tag = KUW
						tag = QAT
					}
					has_country_flag = ENG_rejected_federation
				}
			}
			country_event = { id = mtg_britain.105 hours = 6 }
		}
	}
}

# Event for ENG telling all Dominions accepted
country_event = {
	id = mtg_britain.103
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.103 FROM = [From.GetName]" }
	title = mtg_britain.103.t
	desc = mtg_britain.103.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.103.a
		if = {
			limit = {
				OR = {
					has_dlc = "Together for Victory"
					AND = {
						has_dlc = "Death or Dishonor"
						has_government = fascism
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = RAJ
						}
					}
				}
				add_ideas = ENG_federal_integration
			}
		}
		else = {
			every_country = {
				limit = {
					OR = {
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = RAJ
						}
					}
				}
				add_ideas = ENG_federal_integration_tfv
			}
		}
		set_country_flag = ENG_dominions_accepted_federation
	}
}

# Event for ENG telling all Dominions except India accepted
country_event = {
	id = mtg_britain.104
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.104 FROM = [From.GetName]" }
	title = mtg_britain.104.t
	desc = mtg_britain.104.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Go through with it anyway - give India independence
	option = {
		name = mtg_britain.104.a
		if = {
			limit = {
				OR = {
					has_dlc = "Together for Victory"
					AND = {
						has_dlc = "Death or Dishonor"
						has_government = fascism
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = RAJ
						}
					}
				}
				add_ideas = ENG_federal_integration
			}
		}
		else = {
			every_country = {
				limit = {
					OR = {
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = RAJ
						}
					}
				}
				add_ideas = ENG_federal_integration_tfv
			}
		}
		set_country_flag = ENG_dominions_accepted_federation
		set_autonomy = {
			target = RAJ
			autonomy_state = autonomy_free
		}
		remove_from_faction = RAJ
		RAJ = {
			drop_cosmetic_tag = yes
			retire_country_leader = yes
			remove_from_tech_sharing_group = commonwealth_research
		}
	}

	# We're all in this together - unanimous, or not at all
	option = {
		name = mtg_britain.104.b
	}
}

# Event for ENG telling Federation plans fell through
country_event = {
	id = mtg_britain.105
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.105 FROM = [From.GetName]" }
	title = mtg_britain.105.t
	desc = mtg_britain.105.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.105.a
	}
}

# Event for target saying they are in violation of the Washington Naval Treaty and ENG wants them to scuttle some ships
country_event = {
	id = mtg_britain.106
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.106 FROM = [From.GetName]" }
	title = mtg_britain.106.t
	desc = mtg_britain.106.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.106.a
	}
}

# Event for ENG informing them that the target has scuttled some ships and is now compliant with the treaty
country_event = {
	id = mtg_britain.107
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.107 FROM = [From.GetName]" }
	title = mtg_britain.107.t
	desc = mtg_britain.107.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.107.a
	}
}

# Event for ENG saying target refused to get rid of ships and ENG now has a wargoal
country_event = {
	id = mtg_britain.108
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.108 FROM = [From.GetName]" }
	title = mtg_britain.108.t
	desc = mtg_britain.108.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.108.a
		create_wargoal = {
			target = FROM
			type = puppet_wargoal_focus
			expire = 0
		}
	}
}

# Event for RAJ giving BRM independence
country_event = {
	id = mtg_britain.109
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.109 FROM = [From.GetName]" }
	title = mtg_britain.109.t
	desc = mtg_britain.109.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok I guess
	option = {
		name = mtg_britain.109.a
		release = BRM
	}
}

# UK becomes just England
country_event = {
	id = mtg_britain.110
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.110 FROM = [From.GetName]" }
	
	trigger = {
		tag = ENG
		country_exists = NIR
		country_exists = WLS
		country_exists = SCO
		NOT = { has_global_flag = ENG_became_england }
	}

	mean_time_to_happen = { days = 2 }

	hidden = yes

	immediate = {
		set_cosmetic_tag = ENG_england
		set_global_flag = ENG_became_england
	}
}

# UK becomes UK again
country_event = {
	id = mtg_britain.111
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.111 FROM = [From.GetName]" }
	
	trigger = {
		tag = ENG
		NOT = { country_exists = NIR }
		NOT = { country_exists = WLS }
		NOT = { country_exists = SCO }
		owns_state = 126
		owns_state = 253
		owns_state = 426
		owns_state = 130
		owns_state = 2475
		has_global_flag = ENG_became_england
	}

	mean_time_to_happen = { days = 2 }

	hidden = yes

	immediate = {
		drop_cosmetic_tag = yes
		clr_global_flag = ENG_became_england
	}
}

# Bounce event for correct FROM scope for localization in the "British Empire Allies Imperial Loyalists" news event
country_event = {
	id = mtg_britain.112
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.112 FROM = [From.GetName]" }
	
	is_triggered_only = yes

	hidden = yes

	immediate = {
		news_event = { id = mtg_news.27 days = 1 }
	}
}

# Event for imperial loyalists winning civil war and requesting 'guidance'
country_event = {
	id = mtg_britain.113
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.113 FROM = [From.GetName]" }
	title = mtg_britain.113.t
	desc = mtg_britain.113.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok I guess
	option = {
		name = mtg_britain.113.a
		set_autonomy = {
		    target = FROM
		    autonomy_state = autonomy_integrated_puppet
		}
		hidden_effect = {
			if = {
				limit = {
					FROM = { original_tag = CAN }
				}
				FROM = {
					load_focus_tree = { tree = canadian_focus keep_completed = yes }
					CAN_enforce_loyalty = yes
				}
			}
		}
	}
}

####

country_event = {
	id = mtg_britain.999
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.999 FROM = [From.GetName]" }
	title = mtg_britain.999.t
	desc = mtg_britain.999.d
	picture = GFX_report_event_europe_funeral

	trigger = {
		tag = ENG
		has_country_flag = ENG_king_died
		has_dlc = "Man the Guns"
		has_country_flag = ENG_abdication_crisis_morganatic_marriage
		has_country_flag = edward_viii_married_wallis_simpson
		126 = {
			is_controlled_by = ENG
			days_since_last_strategic_bombing < 8
		}
	}
	
	fire_only_once = yes

	mean_time_to_happen = { days = 30 }
	
	option = {
		name = mtg_britain.999.a
		kill_country_leader = yes
		create_country_leader = {
			name = "George VI"
			desc = "POLITICS_GEORGE_VI_DESC"
			picture = GFX_portrait_George_VI
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				popular_figurehead stammer humble
			}
		}
		hidden_effect = { news_event = { id = mtg_news.55 days = 1 } }
	}
}

country_event = {
	id = mtg_britain.1000
	immediate = { log = "[GetDateText]: [Root.GetName]: event mtg_britain.1000 FROM = [From.GetName]" }
	title = mtg_britain.1000.t
	desc = mtg_britain.1000.d
	picture = GFX_report_event_generic_funeral

	fire_only_once = yes
	
	trigger = {
		original_tag = ENG
		has_government = neutrality
		date > 1941.1.1
		has_country_leader = { ruling_only = yes name = "George VI" }
	}

	mean_time_to_happen = {
		days = 1460
	}
	
	option = {
		name = mtg_britain.1000.a
		kill_country_leader = yes
		create_country_leader = {
			name = "Elizabeth II"
			desc = "POLITICS_ELIZABETH_II_DESC"
			picture = "GFX_portrait_eng_elizabeth_ii"
			expire = "1965.1.1"
			ideology = despotism
			female = yes
			traits = {
				inexperienced_monarch headstrong popular_queen
			}
		}
		set_party_name = { ideology = neutrality long_name = ENG_neutrality_party_queens_party_long name = ENG_neutrality_party_queens_party }
		hidden_effect = { news_event = { id = mtg_news.59 days = 1 } }
	}
}