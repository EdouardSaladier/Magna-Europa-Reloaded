add_namespace = wtt_germany

# Event starting neutral civil war
country_event = {
	id = wtt_germany.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.1 FROM = [From.GetName]" }
	title = wtt_germany.1.t
	desc = wtt_germany.1.d
	picture = GFX_report_event_ger_civil_war

	is_triggered_only = yes
	
	#civil war starts
	option = {
		ai_chance = {
			base = 10
		}
		name = wtt_germany.1.a
		hidden_effect = {

			set_capital = { state = 1746 }
			start_civil_war = {
				ruling_party = neutrality
				ideology = fascism
				size = 0.5
				capital = 1650
				states = { 1650 1704 1759 289 1700 1637 1691 1694 2551 1693 1695 1696 1680 2528 1685 1679 440 1681 1686 1689 1688 1774 1775 533 545 1768 1769 581 2549 1654 1655 2667 1656 1657 1659 2664 1658 461 1662 1653 425 252 2484 1614 2335 2334 1615 282 1613 1635 554 1788 576 1791 567 1781 }
			}
			set_party_name = { ideology = neutrality long_name = GER_neutrality_party_civil_war name = GER_neutrality_party_civil_war }
			load_oob = "GER_German_Civil_War_neutrality"
			random_other_country = {
				limit = {
					original_tag = GER
					has_government = fascism
				}
				set_stability = 0.9
				set_war_support = 0.8
				load_oob = "GER_German_Civil_War_fascist"
			}
			hidden_effect = { news_event = { id = wtt_news.1 hours = 6 } }
			
			add_popularity = {
				ideology = communism
				popularity = 0.2
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.30
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.35
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}	
			set_stability = 0.9
			set_war_support = 0.8
		}
		custom_effect_tooltip = GER_fascism_civil_war_tt
		add_stability = -0.25
		hidden_effect = { set_cosmetic_tag = GER_provisional_gvt }
		random_other_country = {
			limit = {
				original_tag = GER
				has_government = fascism
			}
			set_cosmetic_tag = GER_civil_war
			hidden_effect = { activate_mission = GER_mefo_bills_mission }
		}
		GER_august_von_mackensen = {
			add_country_leader_role = {
				country_leader = {
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						great_war_hero
					}
				}
				promote_leader = yes
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = GER
					has_government = fascism
				}
			}
			GER = {
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 10
							has_id = 15
							has_id = 20
							has_id = 24
						}
					}
					set_nationality = event_target:fascist_germany_civil_war
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				add_political_power = 150
				add_equipment_to_stockpile = {
				    type = infantry_equipment
				    amount = 10000
				    producer = GER
				}
				add_equipment_to_stockpile = {
				    type = support_equipment
				    amount = 250
				    producer = GER
				}
				add_equipment_to_stockpile = {
				    type = artillery_equipment
				    amount = 500
				    producer = GER
				}
			}
		}
	}
	option = {
		name = wtt_germany.1.b
			ai_chance = {
				base = 0        # Unfinished
			}
			delete_units = {
				division_template = "Infanterie-Division"
				disband = no
			}
			delete_units = {
				division_template = "Panzer-Division"
				disband = no
			}
			delete_units = {
				division_template = "Infanterie-Division (mot.)"
				disband = no
			}
			delete_units = {
				division_template = "Gebirgs-Brigade"
				disband = no
			}
			delete_units = {
				division_template = "Kavallerie-Brigade"
				disband = no
			}
			delete_units = {
				division_template = "Neubaufahrzeug Panzer-Division"
				disband = no
			}
		
		create_dynamic_country = {
			original_tag = GER
			save_event_target_as = fascist_germany_civil_war
			every_unit_leader = {
				set_nationality = GER
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			promote_character = GER_adolf_hitler
			every_state = {
				limit = {
					is_core_of = GER
					OR = {
						is_core_of = SHL
						is_core_of = HAM
						is_core_of = LBK
						is_core_of = MKW
						is_core_of = MKS
						is_core_of = POM
						is_core_of = WSP
						AND = {
							is_core_of = HAN
							NOT = {
								state = 1714
								state = 2566
								state = 400
								state = 373
								state = 350
								state = 2715
								state = 2714
								state = 1728
								state = 1727
							}
						}
						state = 314
						state = 322
						state = 1707
						state = 2572
						state = 1720
						AND = {
							is_core_of = BRW
							NOT = {
								state = 1711
								state = 2551
							}
						}
						AND = {
							is_core_of = BRN
							NOT = {
								state = 1638
								state = 327
								state = 1639
								is_core_of = BRL
								state = 1644
								state = 2592
								state = 365
							}
						}
						state = 1667
						state = 1668
						state = 2562
						state = 1666
						state = 1665
						state = 1664
						state = 2593
						state = 415
						state = 1755
						is_east_prussia = yes
					}
				}
				transfer_state_to = PREV
			}
			set_cosmetic_tag = GER_civil_war
			division_template = {
						name = "SS-Sturmbrigade"
						is_locked = yes
						template_counter = 6
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
						}
					}
			every_state = {
				limit = {
					is_owned_by = event_target:fascist_germany_civil_war
					any_neighbor_state = {
						NOT = {
							is_owned_by = event_target:fascist_germany_civil_war
						}
						owner = {
							OR = {
								tag = GER
								tag = DDR
							}
						}
					}	
				}
				create_unit = {
					division = "division_template = \"SS-Sturmbrigade\" start_experience_factor = 0.1" 
					owner = event_target:fascist_germany_civil_war
					allow_spawning_on_enemy_provs = yes
					count = 4
				}
			}
			add_political_power = 150
				add_equipment_to_stockpile = {
				    type = infantry_equipment
				    amount = 10000
				    producer = GER
				}
				add_equipment_to_stockpile = {
				    type = support_equipment
				    amount = 250
				    producer = GER
				}
				add_equipment_to_stockpile = {
				    type = artillery_equipment
				    amount = 500
				    producer = GER
				}
		}
		DDR = {
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
				every_state = {
					limit = {
						OR = {
							is_core_of = THU
							AND = {
								is_core_of = SXP
							}
							state = 2533
							is_core_of = SAX
							is_core_of = BRL
							state = 1639
							state = 1638
							state = 353
							state = 1696
							state = 1711
							state = 2566
							state = 327
							state = 2592
							state = 1644
							state = 365
							state = 441
							state = 424
							state = 1749
							state = 431
							state = 2584
							state = 2551
						}
					}
				transfer_state_to = DDR
			}
			division_template = {
						name = "Frontkampferregiment"
						is_locked = yes
						template_counter = 6
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
						}
					}
			every_state = {
				limit = {
					is_owned_by = DDR
					any_neighbor_state = {
						NOT = {
							is_owned_by = DDR
						}
						owner = {
							OR = {
								original_tag = GER
								tag = BAY
							}
						}
					}	
				}
				create_unit = {
					division = "division_template = \"Frontkampferregiment\" start_experience_factor = 0.1" 
					owner = DDR
					allow_spawning_on_enemy_provs = yes
					count = 4
				}
			}
			add_political_power = 150
				add_equipment_to_stockpile = {
				    type = infantry_equipment
				    amount = 10000
				    producer = GER
				}
				add_equipment_to_stockpile = {
				    type = support_equipment
				    amount = 250
				    producer = GER
				}
				add_equipment_to_stockpile = {
				    type = artillery_equipment
				    amount = 500
				    producer = GER
				}
		}
		
		every_state = {
			limit = {
				is_core_of = BAY
				NOT = {
					is_core_of = BPA
				}
			}
			transfer_state_to = BAY
		}
		division_template = {
						name = "Infanterie-Division"
						is_locked = yes
						template_counter = 6
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
						}
					}
			every_state = {
				limit = {
					owner = {
						tag = BAY
					}
					any_neighbor_state = {
						NOT = {
							owner = {
								tag = BAY
							}
						}
						owner = {
							OR = {
								tag = event_target:fascist_germany_civil_war
								tag = DDR
								tag = GER
							}
						}
					}	
				}
				create_unit = {
					division = "division_template = \"Infanterie-Division\" start_experience_factor = 0.1" 
					owner = BAY
					allow_spawning_on_enemy_provs = yes
					count = 3
				}
			}
		every_state = {
			limit = {
				is_core_of = GER
			}
			add_core_of = DDR
		}
		GER_august_von_mackensen = {
			add_country_leader_role = {
				country_leader = {
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						great_war_hero
					}
				}
				promote_leader = yes
			}
		}
		division_template = {
						name = "Landsturmregiment"
						is_locked = yes
						template_counter = 6
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
						}
					}
			every_state = {
				limit = {
					owner = {
						tag = GER
					}
					any_neighbor_state = {
						NOT = {
							owner = {
								tag = GER
							}
						}
						owner = {
							OR = {
								original_tag = GER
								tag = DDR
								tag = BAY
							}
						}
					}	
				}
				create_unit = {
					division = "division_template = \"Landsturmregiment\" start_experience_factor = 0.1" 
					owner = GER
					allow_spawning_on_enemy_provs = yes
					count = 3
				}
			}
		set_party_name = { 
			ideology = neutrality 
			long_name = GER_neutrality_party_civil_war 	
			name = GER_neutrality_party_civil_war 
		}
		set_politics = {
			ruling_party = neutrality
		}
		GER = {
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 10
							has_id = 15
							has_id = 20
							has_id = 24
						}
					}
					set_nationality = event_target:fascist_germany_civil_war
				}
			}
		hidden_effect = { set_cosmetic_tag = GER_provisional_gvt }
		set_capital = {
			 state = 469
			 remember_old_capital = yes
		}
		every_country = {
			limit = {
				OR = {
					original_tag = GER
					tag = BAY
					tag = DDR
				}
			}
			declare_war_on = {
				target = GER
				type = civil_war
			}
		}
		every_country = {
			limit = {
				OR = {
					original_tag = GER
					tag = BAY
					tag = DDR
				}
			}
			declare_war_on = {
				target = event_target:fascist_germany_civil_war
				type = civil_war
			}
		}
		every_country = {
			limit = {
				OR = {
					original_tag = GER
					tag = DDR
				}
			}
			declare_war_on = {
				target = BAY
				type = civil_war
			}
		}
		every_country = {
			limit = {
				OR = {
					original_tag = GER
					tag = BAY
				}
			}
			declare_war_on = {
				target = DDR
				type = civil_war
			}
		}
		
	}
}

#Notification event for Spain for getting troops from German Expatriate Communists focus
country_event = {
	id = wtt_germany.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.2 FROM = [From.GetName]" }
	title = wtt_germany.2.t
	desc = wtt_germany.2.d
	picture = GFX_report_event_spain_civil_war_volunteers_02

	is_triggered_only = yes
	
	#accept
	option = {
		name = excellent
		add_manpower = 40000
		if = {
			limit = {
				controls_state = 896
			}
			load_oob = "SPR_German_Expatriates_Barcelona" #spawn units in Barcelona
		}
		if = {
			limit = {
				controls_state = 951
				NOT = { controls_state = 896 }
			}
			load_oob = "SPR_German_Expatriates_Madrid" #spawn units in Madrid
		}
	}
}

#Event for Netherlands demanding return of Kaiser
country_event = {
	id = wtt_germany.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.3 FROM = [From.GetName]" }
	title = wtt_germany.3.t
	desc = wtt_germany.3.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	#accept
	option = {
		name = wtt_germany.3.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				strength_ratio = { tag = GER ratio > 1.5 }
			}
			modifier = {
				factor = 0.2
				strength_ratio = { tag = GER ratio > 3 }
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = GER ratio > 5 }
			}
		}
		GER = {
			add_opinion_modifier = {
				target = ROOT
				modifier = GER_netherlands_kaiser_accept_opinion
			}
			country_event = { id = wtt_germany.4 days = 1 }
		}
		FRA = { country_event = { id = wtt_germany.28 } }
	}

	#refuse
	option = {
		name = wtt_germany.3.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				strength_ratio = { tag = GER ratio < 1 }
			}
			modifier = {
				factor = 0.2
				strength_ratio = { tag = GER ratio < 0.5 }
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = GER ratio < 0.2 }
			}
		}
		set_country_flag = netherlands_refused_return_kaiser
		GER = {
			add_opinion_modifier = {
				target = ROOT
				modifier = GER_netherlands_kaiser_decline_opinion
			}
			country_event = { id = wtt_germany.5 days = 1 }
			hidden_effect = { news_event = { id = wtt_news.2 hours = 30 } }
		}
	}
}

#Notification event for Germany that the Kaiser is returned
country_event = {
	id = wtt_germany.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.4 FROM = [From.GetName]" }
	title = wtt_germany.4.t
	desc = wtt_germany.4.d
	picture = GFX_report_event_royal_parade

	is_triggered_only = yes
	
	#accept
	option = {
		name = wtt_germany.4.a
		set_country_flag = kaiser_wilhelm_ii
		GER_wilhelm_ii = {
			add_country_leader_role = {
			country_leader = {
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					anti_democrat
					imperial_connections				}
			}
			promote_leader = yes
			}
		}
		hidden_effect = { 
			news_event = { id = wtt_news.3 hours = 6 } 
			set_cosmetic_tag = GER_neutrality
		}
	}
}

#Netherlands refuses to return the Kaiser!
country_event = {
	id = wtt_germany.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.5 FROM = [From.GetName]" }
	title = wtt_germany.5.t
	desc = wtt_germany.5.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	#War!
	option = {
		ai_chance = {
			factor = 20
		}
		name = wtt_germany.5.a
		set_country_flag = germany_war_return_kaiser
		declare_war_on = { target = HOL type = puppet_wargoal_focus }
		FRA = { country_event = { id = wtt_germany.28 } }
	}

	#Back down.
	option = {
		ai_chance = {
			factor = 80
		}
		name = wtt_germany.5.b
		hidden_effect = {
			set_country_flag = backed_down_netherlands_kaiser
		}
		GER_wilhelm_iii = {
			add_country_leader_role = {
			country_leader = {
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					popular_figurehead2
				}
			}
			promote_leader = yes
			}
		}
		custom_effect_tooltip = wtt_germany.5_tt
	}
}

#Kaiser returned through war
country_event = {
	id = wtt_germany.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.6 FROM = [From.GetName]" }
	title = wtt_germany.6.t
	desc = wtt_germany.6.d
	picture = GFX_report_event_royal_parade

	is_triggered_only = yes

	option = {
		name = wtt_germany.6.a
		clr_country_flag = germany_war_return_kaiser
		HOL = { clr_country_flag = netherlands_refused_return_kaiser }
		set_country_flag = kaiser_wilhelm_ii
		GER_wilhelm_iii = {
			add_country_leader_role = {
			country_leader = {
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					popular_figurehead2
				}
			}
			promote_leader = yes
			}
		}
		hidden_effect = { 
			news_event = { id = wtt_news.4 hours = 6 } 
			set_cosmetic_tag = GER_neutrality
		}
	}
}

#Notification event for Hungary and Romania for Integrate War Economies
country_event = {
	id = wtt_germany.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.7 FROM = [From.GetName]" }
	title = wtt_germany.7.t
	desc = wtt_germany.7.d
	picture = GFX_report_event_tank_factory

	is_triggered_only = yes

	option = {
		name = wtt_germany.7.a
		effect_tooltip = {
			if = {
				limit = { 
					tag = HUN
				}
				GER = { puppet = HUN }
			}
			if = {
				limit = { 
					tag = ROM
				}
				GER = { puppet = ROM }
			}
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
}

# Event for Italy Offering Support for Coup
country_event = {
	id = wtt_germany.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.8 FROM = [From.GetName]" }
	title = wtt_germany.8.t
	desc = wtt_germany.8.d
	picture = GFX_report_event_french_resistance_02

	is_triggered_only = yes

	# Accept
	option = {
		name = wtt_germany.8.a
		ai_chance = {
			factor = 100
		}
		add_timed_idea = { idea = GER_preparing_ITA_coup days = 1095 }
		GER = {
			country_event = { id = wtt_germany.9 days = 1 random_days = 2 }
		}
	}

	# Decline
	option = {
		name = wtt_germany.8.b
		ai_chance = {
			factor = 0
		}
		GER = {
			country_event = { id = wtt_germany.10 days = 1 random_days = 2 }
		}
	}
}

# German Notification Event for Italy Accepting Offer of Support for Coup
country_event = {
	id = wtt_germany.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.9 FROM = [From.GetName]" }
	title = wtt_germany.9.t
	desc = wtt_germany.9.d
	picture = GFX_report_event_french_resistance_02

	is_triggered_only = yes

	# Great
	option = {
		name = wtt_germany.9.a
	}
}

# German Notification Event for Italy Rejecting Offer of Support for Coup
country_event = {
	id = wtt_germany.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.10 FROM = [From.GetName]" }
	title = wtt_germany.10.t
	desc = wtt_germany.10.d
	picture = GFX_report_event_french_resistance_02

	is_triggered_only = yes

	# Drat
	option = {
		name = wtt_germany.10.a
	}
}

# Event for Italy Launching Coup
country_event = {
	id = wtt_germany.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.11 FROM = [From.GetName]" }
	title = wtt_germany.11.t
	desc = wtt_germany.11.d
	picture = GFX_report_event_french_resistance_02

	is_triggered_only = yes

	# It is done (no choice needed because decision was taken in previous focus's events)
	option = {
		name = wtt_germany.11.a
		set_politics = { ruling_party = neutrality elections_allowed = no }
		add_popularity = { ideology = neutrality popularity = 0.1 }
		swap_ideas = {
			remove_idea = GER_preparing_ITA_coup
			add_idea = GER_preparing_ITA_coup2
		}
		remove_ideas = victor_emmanuel
		ITA_victor_emmanuel_iii = {
			promote_character = { ideology = despotism }
		}
		add_ai_strategy = {
			type = alliance
			id = "GER"			
			value = 200
		}	
		GER = {
			add_to_faction = ITA
			country_event = { id = wtt_germany.12 }
		}
	}
}

# Notification event for Germany upon successful coup
country_event = {
	id = wtt_germany.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.12 FROM = [From.GetName]" }
	title = wtt_germany.12.t
	desc = wtt_germany.12.d
	picture = GFX_report_event_french_resistance_02

	is_triggered_only = yes

	# Great
	option = {
		name = wtt_germany.12.a
		hidden_effect = { news_event = { id = wtt_news.5 hours = 6 } }
	}
}

# Notification event for Germany upon formation of Austria-Hungary
country_event = {
	id = wtt_germany.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.13 FROM = [From.GetName]" }
	title = wtt_germany.13.t
	desc = wtt_germany.13.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes

	# Great
	option = {
		name = wtt_germany.13.a
		hidden_effect = { news_event = { id = wtt_news.6 hours = 6 } }
	}
}

# Danzig for Guarantees event for Poland
country_event = {
	id = wtt_germany.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.14 FROM = [From.GetName]" }
	title = wtt_germany.14.t
	desc = wtt_germany.14.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes

	# Accept
	option = {
		name = wtt_germany.14.a
		ai_chance = {
			factor = 50
		}
		effect_tooltip = {
			GER = { custom_effect_tooltip = mer_GER_transfer_polish_states }
			GER = { add_ideas = anti_soviet_pact }
			add_ideas = anti_soviet_pact
			add_opinion_modifier = { target = GER modifier = danzig_for_guarantees }
		}
		GER = {
			country_event = { id = wtt_germany.15 days = 1 }
		}
	}

	# Decline
	option = {
		name = wtt_germany.14.b
		ai_chance = {
			#factor = 50
			modifier = {
				factor = 0.5
				strength_ratio = { tag = GER ratio < 1 }
			}
			modifier = {
				factor = 0.2
				strength_ratio = { tag = GER ratio < 0.5 }
			}
			modifier = {
				factor = 0.5
				GER = { strength_ratio = { tag = SOV ratio > 0.8 } }
			}
			modifier = {
				factor = 0
				GER = { strength_ratio = { tag = SOV ratio > 0.8 } }
				strength_ratio = { tag = GER ratio < 0.5 }
			}
		}
		GER = {
			country_event = { id = wtt_germany.16 days = 1 }
		}
	}
}

# Danzig for Guarantees acceptance event for Germany
country_event = {
	id = wtt_germany.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.15 FROM = [From.GetName]" }
	title = wtt_germany.15.t
	desc = wtt_germany.15.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes

	# Great
	option = {
		name = wtt_germany.15.a
		custom_effect_tooltip = mer_GER_transfer_polish_states
		custom_effect_tooltip = mer_GER_core_polish_states
		hidden_effect = {
			# west prussia
			transfer_state = 287
			transfer_state = 310
			transfer_state = 2567
			transfer_state = 546
			transfer_state = 2341
			transfer_state = 264
			transfer_state = 267
			add_state_core = 287
			add_state_core = 310
			add_state_core = 2567
			add_state_core = 546
			add_state_core = 2341
			add_state_core = 264
			add_state_core = 267
			# posnan
			transfer_state = 80
			transfer_state = 335
			transfer_state = 243
			transfer_state = 79
			transfer_state = 122
			transfer_state = 99
			transfer_state = 82
			transfer_state = 549
			add_state_core = 80
			add_state_core = 335
			add_state_core = 243
			add_state_core = 79
			add_state_core = 122
			add_state_core = 99
			add_state_core = 82
			add_state_core = 549
			# katowice
			transfer_state = 2329
			transfer_state = 481
			transfer_state = 2262
			add_state_core = 2329
			add_state_core = 481
			add_state_core = 2262
		}
		add_ideas = anti_soviet_pact
		POL = { 
			add_ideas = anti_soviet_pact
			add_opinion_modifier = { target = GER modifier = danzig_for_guarantees }
		}
		hidden_effect = {
			news_event = { id = wtt_news.7 hours = 6 }
			set_country_flag = poland_traded_danzig
			POL = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ENG
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = ENG
					value = -200
				}
			}
		}
	}
}

# Danzig for Guarantees rejection event for Germany
country_event = {
	id = wtt_germany.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.16 FROM = [From.GetName]" }
	title = wtt_germany.16.t
	desc = wtt_germany.16.d
	picture = GFX_report_event_poland_rejects

	is_triggered_only = yes

	# We will never let go of our claims!
	option = {
		name = wtt_germany.16.a
		custom_effect_tooltip = mer_GER_claim_polish_states
		hidden_effect = {
			# west prussia
			add_state_claim = 287
			add_state_claim = 310
			add_state_claim = 2567
			add_state_claim = 546
			add_state_claim = 2341
			add_state_claim = 264
			add_state_claim = 267
			# posnan
			add_state_claim = 80
			add_state_claim = 335
			add_state_claim = 243
			add_state_claim = 79
			add_state_claim = 122
			add_state_claim = 99
			add_state_claim = 82
			add_state_claim = 549
			# katowice
			add_state_claim = 2329
			add_state_claim = 481
			add_state_claim = 2262
		}
	}

	# Give it up
	option = {
		name = wtt_germany.16.b
	}
}

# Notification event for France on German expatriation of Communists
country_event = {
	id = wtt_germany.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.17 FROM = [From.GetName]" }
	title = wtt_germany.17.t
	desc = wtt_germany.17.d
	picture = GFX_report_event_gathering_protest

	is_triggered_only = yes

	# Oh dear
	option = {
		name = wtt_germany.17.a
		effect_tooltip = {
			add_ideas = GER_communist_refugees
		}
	}
}

# Event for end of civil war
country_event = {
	id = wtt_germany.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.18 FROM = [From.GetName]" }
	title = wtt_germany.18.t
	desc = wtt_germany.18.d
	picture = GFX_report_event_fascists_posing

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			news_event = { id = wtt_news.8 hours = 6 }
			set_global_flag = GER_civil_war_end
		}
	}

	# Execute head nazis Publically
	option = {
		name = wtt_germany.18.a
		add_stability = 0.05
		add_popularity = { ideology = fascism popularity = -0.05 }
		delete_unit_template_and_units = { division_template = "Landsturmregiment" }
		if = { 
			limit = { is_faction_leader = yes } 
			leave_faction = yes
		}
	}

	# Imprison head nazis for life
	option = {
		name = wtt_germany.18.b
		add_political_power = 75
		add_popularity = { ideology = fascism popularity = 0.05 }
		set_country_flag = GER_imprisoned_fascist_leadership
		delete_unit_template_and_units = { division_template = "Landsturmregiment" }
		if = { 
			limit = { is_faction_leader = yes } 
			leave_faction = yes
		}
	}
}

# Event for Soviet Union on Great Red Menace
country_event = {
	id = wtt_germany.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.19 FROM = [From.GetName]" }
	title = wtt_germany.19.t
	desc = wtt_germany.19.d
	picture = GFX_report_event_german_politician_speech

	is_triggered_only = yes

	# Hold massive military exercises to intimidate the Germans into shutting up
	option = {
		name = wtt_germany.19.a
		ai_chance = {
			factor = 90
		}
		add_named_threat = { threat = 10 name = GER_soviet_military_exercises }
		add_timed_idea = { idea = GER_soviet_military_exercises days = 365 }
		army_experience = 50
		add_political_power = 100
		hidden_effect = { news_event = { id = wtt_news.9 hours = 6 } }
	}

	# Reduce tensions
	option = {
		name = wtt_germany.19.b
		ai_chance = {
			factor = 5
		}
		add_named_threat = { threat = -5 name = GER_soviet_smoothes_relationships }
		add_political_power = -50
		every_country = {
			limit = {
				has_idea = GER_the_great_red_menace
			}
			country_event = { id = wtt_germany.25 days = 1 random_days = 2 }
			random_list = {
				80 = {
					# No effect
				}
				20 = {
					remove_ideas = GER_the_great_red_menace
				}
			}
		}
		GER = { country_event = { id = wtt_germany.25 days = 1 random_days = 2 } }
	}

	# Do nothing
	option = {
		name = wtt_germany.19.c
		ai_chance = {
			factor = 5
		}
	}
}

# Event for Soviet Union on Central European Alliance
country_event = {
	id = wtt_germany.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.20 FROM = [From.GetName]" }
	title = wtt_germany.20.t
	desc = wtt_germany.20.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	# Public statement re-iterating Baltics, Poland, Finland, and Romania as part of Soviet sphere
	option = {
		name = wtt_germany.20.a
		ai_chance = {
			factor = 90
		}
		add_named_threat = { threat = 5 name = GER_soviet_reiterated_claims }
		add_timed_idea = { idea = GER_soviet_protect_our_sphere days = 365 }
		add_political_power = 100
		add_state_claim = 77
		add_state_claim = 33
		add_state_claim = 2786
		add_state_claim = 17
		custom_effect_tooltip = mer_claims_on_estonia
		custom_effect_tooltip = mer_claims_on_latvia
		custom_effect_tooltip = mer_claims_on_lithuania
		custom_effect_tooltip = mer_claims_on_belarussian_poland
		custom_effect_tooltip = mer_claims_on_ukrainian_poland
		custom_effect_tooltip = mer_claims_on_besserabia
		hidden_effect = {
			add_state_claim = 113
			add_state_claim = 2783
			add_state_claim = 100
			add_state_claim = 22
			every_state = {
				limit = { 
					is_core_of = EST
					NOT = {
						is_core_of = FIN
						is_core_of = LAT
						is_core_of = LIT
						is_core_of = SOV
					}
				}
				add_claim_by = SOV
			}
			every_state = {
				limit = { 
					is_core_of = LAT
					NOT = {
						is_core_of = FIN
						is_core_of = EST
						is_core_of = LIT
						is_core_of = SOV
					}
				}
				add_claim_by = SOV
			}
			add_state_claim = 2371
			add_state_claim = 208
			add_state_claim = 101
			add_state_claim = 205
			add_state_claim = 107
			add_state_claim = 206
			add_state_claim = 1246
			add_state_claim = 238
			add_state_claim = 1104
			add_state_claim = 1178
			add_state_claim = 259
			add_state_claim = 242
			add_state_claim = 1339
			add_state_claim = 207
			add_state_claim = 1280
			add_state_claim = 1296
			add_state_claim = 225
			add_state_claim = 244
			add_state_claim = 275
			add_state_claim = 274
			add_state_claim = 1309
			add_state_claim = 294
			add_state_claim = 1304
			add_state_claim = 1135
			add_state_claim = 241
			add_state_claim = 1329
			add_state_claim = 236
			every_state = {
				limit = { 
					is_core_of = BLR
					is_owned_by = POL
				}
				add_claim_by = SOV
			}
			every_state = {
				limit = { 
					is_core_of = UKR
					is_owned_by = POL
				}
				add_claim_by = SOV
			}
			add_state_claim = 590
			add_state_claim = 1600
			add_state_claim = 1599
			add_state_claim = 592
			add_state_claim = 600
			add_state_claim = 1606
			add_state_claim = 1605
			add_state_claim = 1604
			add_state_claim = 1603
			add_state_claim = 2744
			add_state_claim = 2745
			add_state_claim = 1601
			add_state_claim = 794
		}
		hidden_effect = { news_event = { id = wtt_news.10 hours = 6 } }
	}

	# We must hold back
	option = {
		name = wtt_germany.20.b
		ai_chance = {
			factor = 10
		}
	}
}

# Event for Soviet Union upon membership of Baltics
country_event = {
	id = wtt_germany.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.21 FROM = [From.GetName]" }
	title = wtt_germany.21.t
	desc = wtt_germany.21.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	# Public statement on threat against Soviet sphere - Union will take action
	option = {
		name = wtt_germany.21.a
		ai_chance = {
			factor = 90
		}
		add_named_threat = { threat = 10 name = GER_soviet_securing_sphere }
		add_political_power = 100
		create_wargoal = {
			type = annex_everything
			target = FIN
		}
		create_wargoal = {
			type = annex_everything
			target = POL
		}
		hidden_effect = { news_event = { id = wtt_news.11 hours = 6 } }
	}

	# We must hold back
	option = {
		name = wtt_germany.21.b
		ai_chance = {
			factor = 10
			modifier = {
				has_war = no
				factor = 0
			}
		}
	}
}

# Event for Soviet Union upon membership of Poland
country_event = {
	id = wtt_germany.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.22 FROM = [From.GetName]" }
	title = wtt_germany.22.t
	desc = wtt_germany.21.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	# Public statement on threat against Soviet sphere - Union will take action
	option = {
		name = wtt_germany.21.a
		ai_chance = {
			factor = 90
		}
		add_named_threat = { threat = 10 name = GER_soviet_securing_sphere }
		add_political_power = 100
		create_wargoal = {
			type = annex_everything
			target = FIN
		}
		create_wargoal = {
			type = annex_everything
			target = EST
		}
		create_wargoal = {
			type = annex_everything
			target = LAT
		}
		create_wargoal = {
			type = annex_everything
			target = LIT
		}
		hidden_effect = { news_event = { id = wtt_news.11 hours = 6 } }
	}

	# We must hold back
	option = {
		name = wtt_germany.21.b
		ai_chance = {
			factor = 10
			modifier = {
				has_war = no
				factor = 0
			}
		}
	}
}

# Event for Soviet Union upon membership of Finland
country_event = {
	id = wtt_germany.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.23 FROM = [From.GetName]" }
	title = wtt_germany.23.t
	desc = wtt_germany.21.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	# Public statement on threat against Soviet sphere - Union will take action
	option = {
		name = wtt_germany.21.a
		ai_chance = {
			factor = 90
		}
		add_named_threat = { threat = 10 name = GER_soviet_securing_sphere }
		add_political_power = 100
		create_wargoal = {
			type = annex_everything
			target = EST
		}
		create_wargoal = {
			type = annex_everything
			target = LAT
		}
		create_wargoal = {
			type = annex_everything
			target = LIT
		}
		create_wargoal = {
			type = annex_everything
			target = POL
		}
		hidden_effect = { news_event = { id = wtt_news.11 hours = 6 } }
	}

	# We must hold back
	option = {
		name = wtt_germany.21.b
		ai_chance = {
			factor = 10
			modifier = {
				has_war = no
				factor = 0
			}
		}
	}
}

# Event for all nations receiving the Great Red Menace
country_event = {
	id = wtt_germany.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.24 FROM = [From.GetName]" }
	title = wtt_germany.24.t
	desc = wtt_germany.24.d
	picture = GFX_report_event_german_politician_speech

	is_triggered_only = yes

	# Oh dear
	option = {
		name = wtt_germany.24.a
		effect_tooltip = { add_ideas = GER_the_great_red_menace }
	}
}

# Event for all nations with Great Red Menace if Soviet smoothes relations
country_event = {
	id = wtt_germany.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.25 FROM = [From.GetName]" }
	title = wtt_germany.25.t
	desc = wtt_germany.25.d
	picture = GFX_report_event_communist_leader

	is_triggered_only = yes

	# Oh dear
	option = {
		name = wtt_germany.25.a
	}
}

# Wilhelm II dies
country_event = {
	id = wtt_germany.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.26 FROM = [From.GetName]" }
	title = wtt_germany.26.t
	desc = wtt_germany.26.d
	picture = GFX_report_event_generic_funeral

	fire_only_once = yes
	
	trigger = {
		original_tag = GER
		has_government = neutrality
		date > 1939.1.1
		has_country_leader = { ruling_only = yes character = GER_wilhelm_ii }
	}

	mean_time_to_happen = {
		days = 1460	# Died in 1941
	}
	
	#ok I guess
	option = {
		name = wtt_germany.26.a
		kill_country_leader = yes
		GER_wilhelm_iii = {
			add_country_leader_role = {
			country_leader = {
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					popular_figurehead2
				}
			}
			promote_leader = yes
			}
		}
	}
}

# Von Mackensen dies
country_event = {
	id = wtt_germany.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.27 FROM = [From.GetName]" }
	title = wtt_germany.27.t
	desc = wtt_germany.27.d
	picture = GFX_report_event_generic_funeral

	fire_only_once = yes
	
	trigger = {
		tag = GER
		has_government = neutrality
		date > 1940.1.1
		has_country_leader = { ruling_only = yes character = GER_august_von_mackensen }
	}

	mean_time_to_happen = {
		days = 1825	# Died in 1945
	}
	
	#nooooo sadface :(
	option = {
		name = wtt_germany.26.a
		kill_country_leader = yes
		set_country_flag = GER_mackensen_dead
		GER_wilhelm_iii = {
			add_country_leader_role = {
			country_leader = {
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					popular_figurehead2
				}
			}
			promote_leader = yes
			}
		}
	}
}

### Allied response to inviting the kaiser

# French Response
country_event = {
	id = wtt_germany.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.28 FROM = [From.GetName]" }
	title = wtt_germany.28.t
	desc = {
		text = wtt_germany.28.d
		trigger = {
			NOT = { GER = { has_country_flag = germany_war_return_kaiser } }
		}
	}
	desc = {
		text = wtt_germany.28.d.2
		trigger = {
			GER = { has_country_flag = germany_war_return_kaiser }
		}
	}
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = { # This means war!
		name = germany.60.a
		trigger = {
			NOT = { GER = { has_country_flag = germany_war_return_kaiser } }
		}
		ai_chance = { 
			factor = 1 
			modifier = {
				factor = 10
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
				NOT = { has_idea = FRA_disjointed_government }
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = GER
					ratio > 1
				}
				NOT = { has_idea = FRA_disjointed_government }
			}
		}
		add_political_power = -150
		add_stability = -0.1
		if = {
			limit = {
				ENG = {
					is_puppet = no
					NOT = { has_war_with = FRA }
				}
			}
			ENG = {
				country_event = wtt_germany.29
				custom_effect_tooltip = needs_approval
				effect_tooltip = { add_to_faction = FRA }
			}
		}
		if = {
			limit = {
				has_idea = FRA_disjointed_government
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = { #you're not getting around that, comrade
			limit = {
				has_idea = FRA_disjointed_government
				has_government = communism
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}

	option = { # This means war! (in case of German war on HOL)
		name = germany.60.c
		trigger = {
			GER = { has_country_flag = germany_war_return_kaiser }
		}
		ai_chance = { 
			factor = 1 
			modifier = {
				factor = 10
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
				NOT = { has_idea = FRA_disjointed_government }
			}
			modifier = {
				factor = 2
				strength_ratio = {
					tag = GER
					ratio > 1
				}
				NOT = { has_idea = FRA_disjointed_government }
			}
			modifier = {
				factor = 20
				GER = { has_country_flag = germany_war_return_kaiser }
			}
		}
		add_political_power = -150
		add_stability = -0.1
		if = {
			limit = {
				ENG = {
					is_puppet = no
					NOT = { has_war_with = FRA }
				}
			}
			ENG = {
				country_event = wtt_germany.29
				custom_effect_tooltip = needs_approval
				effect_tooltip = { add_to_faction = FRA }
			}
		}
		if = {
			limit = {
				has_idea = FRA_disjointed_government
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = { #you're not getting around that, comrade
			limit = {
				has_idea = FRA_disjointed_government
				has_government = communism
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}

	option = { # Diplomatic response
		name = germany.60.b
		ai_chance = { 
			factor = 99 
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
		}
		ENG = { country_event = wtt_germany.30 }
		add_opinion_modifier = { target = GER modifier = protest_action }
	}
}

# British Response (French Press for War)
country_event = {
	id = wtt_germany.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.29 FROM = [From.GetName]" }
	title = wtt_germany.28.t
	desc = {
		text = wtt_germany.29.d
		trigger = {
			NOT = { GER = { has_country_flag = germany_war_return_kaiser } }
		}
	}
	desc = {
		text = wtt_germany.29.d.2
		trigger = {
			GER = { has_country_flag = germany_war_return_kaiser }
		}
	}
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = { # War out of the question
		name = germany.61.a
		ai_chance = { 
			factor = 90 
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
		}
		FRA = { 
			country_event = { hours = 6 id = wtt_germany.31 }
		}
	}
	option = { # Support France
		name = germany.61.b
		trigger = {
			NOT = { GER = { has_country_flag = germany_war_return_kaiser } }
			NOT = { has_completed_focus = ENG_a_change_in_course }
		}
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 10
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
			} 
			modifier = {
				factor = 4
				GER = { has_country_flag = germany_war_return_kaiser }
			}
		}
		add_political_power = -150
		add_stability = -0.2
		add_popularity = {
			ideology = communism
			popularity = 0.25
		}
		if = {
			limit = {
				FRA = { is_faction_leader = yes }
			}
			every_other_country = {
				limit = { is_in_faction_with = FRA NOT = { has_war_with = ENG } }
				ENG = { add_to_faction = PREV }
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		if = {
			limit = { FRA = { is_in_faction = no } }
			add_to_faction = FRA
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		FRA = { 
			country_event = { hours = 6 id = wtt_germany.32 }
		}
	}
	option = { # Support France (war with HOL)
		name = germany.61.c
		trigger = {
			GER = { has_country_flag = germany_war_return_kaiser }
			NOT = { has_completed_focus = ENG_a_change_in_course }
		}
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 10
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
			} 
			modifier = {
				factor = 20
				GER = { has_country_flag = germany_war_return_kaiser }
			}
		}
		add_political_power = -150
		add_stability = -0.2
		add_popularity = {
			ideology = communism
			popularity = 0.25
		}
		if = {
			limit = {
				FRA = { is_faction_leader = yes }
			}
			every_other_country = {
				limit = { is_in_faction_with = FRA NOT = { has_war_with = ENG } }
				ENG = { add_to_faction = PREV }
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		if = {
			limit = { FRA = { is_in_faction = no } }
			add_to_faction = FRA
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		FRA = { 
			country_event = { hours = 6 id = wtt_germany.32 }
		}
	}
}

# British Response (French Want Peace)
country_event = {
	id = wtt_germany.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.30 FROM = [From.GetName]" }
	title = wtt_germany.28.t
	desc = wtt_germany.30.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.62.a
		trigger = { NOT = { has_completed_focus = ENG_a_change_in_course } }
		add_opinion_modifier = { target = GER modifier = protest_action }
		GER = {
			add_war_support = 0.1
		}
	}

	option = {
		name = germany.62.b
		trigger = { has_completed_focus = ENG_a_change_in_course }
	}
}

# France (Britain Refuses Support)
country_event = {
	id = wtt_germany.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.31 FROM = [From.GetName]" }
	title = germany.63.t
	desc = wtt_germany.31.d
	picture = GFX_report_event_chamberlain_announce
	
	
	is_triggered_only = yes
	
	option = { # Push Ahead
		name = germany.63.a
		ai_chance = { 
			factor = 60
			modifier = {
				factor = 3
				strength_ratio = {
					tag = GER
					ratio > 1.0
				}
				NOT = { has_idea = FRA_disjointed_government }
			}
			modifier = {
				factor = 0
				has_idea = FRA_disjointed_government
			}			
		}		
		GER = { country_event = wtt_germany.34 }
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				NOT = { has_government = communism }
				}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				has_government = communism
				}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}
	option = { # Back Down
		name = germany.63.b
		ai_chance = { factor = 40 }
		ENG = { country_event = wtt_germany.35 }
		add_opinion_modifier = { target = GER modifier = protest_action }
	}
}

# France (Britain Gives Support)
country_event = {
	id = wtt_germany.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.32 FROM = [From.GetName]" }
	title = germany.64.t
	desc = wtt_germany.32.d
	picture = GFX_report_event_british_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.64.a
		GER = { country_event = wtt_germany.33 }
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				has_government = communism
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}
}

# Germany (France and Britain go to war)
country_event = {
	id = wtt_germany.33
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.33 FROM = [From.GetName]" }
	title = germany.65.t
	desc = wtt_germany.33.d
	picture = GFX_report_event_british_artillery
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio < 1
				}
				strength_ratio = {
					tag = ENG
					ratio < 1
				}
			}
		}
		name = wtt_germany.33.a
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 42 51 } 
			}
			country_event = wtt_germany.37
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { id = wtt_news.12 hours = 6 }
		}
	}
	option = {
		name = germany.65.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio > 1
				}
				strength_ratio = {
					tag = ENG
					ratio > 1
				}
			}
		}
		hidden_effect = {
			news_event = { id = wtt_news.13 hours = 6 }
		}
		set_country_flag = GER_rhineland_backed_down
		if = {
			limit = {
				has_country_flag = kaiser_wilhelm_ii
			}
			GER_wilhelm_iii = {
				add_country_leader_role = {
				country_leader = {
					expire = "1965.1.1"
					ideology = despotism
					traits = {}
				}
				promote_leader = yes
				}
			}
		}
		white_peace = HOL
		add_timed_idea = {
			idea = kaiser_challenge_met
			days = 183
		}
	}
}

# Germany (France goes to war)
country_event = {
	id = wtt_germany.34
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.34 FROM = [From.GetName]" }
	title = germany.66.t
	desc = wtt_germany.34.d
	picture = GFX_report_event_degaulle_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = wtt_germany.33.a
		add_war_support = 0.1 #original German clay
		ENG = { 
			country_event = wtt_germany.36 
			if = {
				limit = {
					ENG = { 
						is_in_faction_with = FRA 
						is_faction_leader = yes
					}
				}
				remove_from_faction = FRA
			}
		}
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 42 51 } 
			}
			country_event = wtt_germany.37
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { id = wtt_news.14 hours = 6 }
		}
	}

	option = {
		name = germany.65.b
		hidden_effect = {
			news_event = { id = wtt_news.15 hours = 6 }
		}
		set_country_flag = GER_rhineland_backed_down
		add_war_support = -0.2 #That was scary for a moment there!
		if = {
			limit = {
				has_country_flag = kaiser_wilhelm_ii
			}
			GER_wilhelm_iii = {
				add_country_leader_role = {
				country_leader = {
					expire = "1965.1.1"
					ideology = despotism
					traits = {}
				}
				promote_leader = yes
				}
			}
		}
		add_timed_idea = {
			idea = rhineland_challenge_met
			days = 183
		}
	}
}

# Britain (France Backs Down)
country_event = {
	id = wtt_germany.35
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.35 FROM = [From.GetName]" }
	title = germany.67.t
	desc = germany.67.d
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.67.a
		add_opinion_modifier = { target = GER modifier = protest_action }
		GER = {
			add_war_support = 0.1
		}
	}
}

# Britain (France Goes Ahead Anyway)
country_event = {
	id = wtt_germany.36
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.36 FROM = [From.GetName]" }
	title = germany.68.t
	desc = germany.68.d
	picture = GFX_report_event_french_liberation
	
	is_triggered_only = yes
	
	option = {
		name = germany.68.a
	}
}

# France/England (Germany Refuses Ultimatum)
country_event = {
	id = wtt_germany.37
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.37 FROM = [From.GetName]" }
	title = germany.92.t
	desc = wtt_germany.35.d
	picture = GFX_report_event_worried_french
	
	is_triggered_only = yes
	
	option = {
		name = germany.92.a
	}
}

### Tsingtao return

#China

# Germans demand return of Tsingtao # simply remove event, irrelevant
country_event = {
	id = wtt_germany.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.38 FROM = [From.GetName]" }
	title = wtt_germany.38.t
	desc = wtt_germany.38.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Demand continued support of Von Falkenhausen in return
	option = {
		name = wtt_germany.38.a
		ai_chance = {
			factor = 80
		}
		trigger = {
			event_target:WTT_current_china_leader = {
				OR = {
					has_idea = german_advisors 
					has_completed_focus = CHI_give_falkenhausen_citizenship
				}
			}
		}
		GER = { country_event = { id = wtt_germany.39 days = 1 } }
	}

	# Accept
	option = {
		name = wtt_germany.38.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				has_war_with = JAP
			}
		}
		effect_tooltip = {
			GER = { transfer_state = 743 }
			743 = { set_state_name = "Tsingtao" }
			set_province_name = { id = 10000 name = "Tsingtao" }
		}
		GER = { country_event = { id = wtt_germany.48 days = 1 } }
		hidden_effect = { news_event = { id = wtt_news.16 hours = 30 } }
	}

	# No!
	option = {
		name = wtt_germany.38.c
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				has_war_with = JAP
			}
		}
		GER = { country_event = { id = wtt_germany.40 days = 1 } }
	}
}

# China demands continued support of Von Falkenhausen in return # simply remove event, irrelevant
country_event = {
	id = wtt_germany.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.39 FROM = [From.GetName]" }
	title = wtt_germany.39.t
	desc = wtt_germany.39.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Accept
	option = {
		name = wtt_germany.39.a
		set_country_flag = GER_von_falkenhausen_promise_to_china
		transfer_state = 743
		743 = { set_state_name = "Tsingtao" }
		set_province_name = { id = 10000 name = "Tsingtao" }
		FROM = { country_event = { id = wtt_germany.41 } }
	}

	# No!
	option = {
		name = wtt_germany.39.b
		FROM = { country_event = { id = wtt_germany.42 } }
	}
}

# German notification event that China rejected request # simply remove event, irrelevant
country_event = {
	id = wtt_germany.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.40 FROM = [From.GetName]" }
	title = wtt_germany.40.t
	desc = wtt_germany.40.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Too bad
	option = {
		name = wtt_germany.40.a
		add_state_claim = 743
	}
}

# Chinese notification event that Germany accepted offer # simply remove event, irrelevant
country_event = {
	id = wtt_germany.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.41 FROM = [From.GetName]" }
	title = wtt_germany.41.t
	desc = wtt_germany.41.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# excellent
	option = {
		name = excellent
		hidden_effect = { news_event = { id = wtt_news.16 hours = 6 } }
	}
}

# Chinese notification event that Germany rejected offer # simply remove event, irrelevant
country_event = {
	id = wtt_germany.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.42 FROM = [From.GetName]" }
	title = wtt_germany.42.t
	desc = wtt_germany.42.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Too bad
	option = {
		name = unfortunate
	}
}

# Japan 

# Germans demand return of Tsingtao # simply remove event, irrelevant
country_event = {
	id = wtt_germany.43
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.43 FROM = [From.GetName]" }
	title = wtt_germany.43.t
	desc = wtt_germany.43.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Demand Germans withdraw support of Von Falkenhausen to China in return
	option = {
		name = wtt_germany.43.a
		ai_chance = {
			factor = 60
			modifier = {
				factor = 0
				NOT = { has_war_with = CHI }
			}
		}
		trigger = {
			CHI = { has_idea = german_advisors }
		}
		GER = { country_event = { id = wtt_germany.44 days = 1 } }
	}

	# Accept
	option = {
		name = wtt_germany.38.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				has_war_with = CHI
			}
		}
		effect_tooltip = {
			GER = { transfer_state = 743 }
			743 = { set_state_name = "Tsingtao" }
			set_province_name = { id = 10000 name = "Tsingtao" }
		}
		GER = { country_event = { id = wtt_germany.48 days = 1 } }
		hidden_effect = { news_event = { id = wtt_news.17 hours = 30 } }
	}

	# No!
	option = {
		name = wtt_germany.43.b
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0
				has_war_with = CHI
			}
		}
		GER = { country_event = { id = wtt_germany.45 days = 1 } }
	}
}

# Japan demands withdraw support of Von Falkenhausen in return # simply remove event, irrelevant
country_event = {
	id = wtt_germany.44
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.44 FROM = [From.GetName]" }
	title = wtt_germany.44.t
	desc = wtt_germany.44.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Accept
	option = {
		name = wtt_germany.39.a
		transfer_state = 743
		743 = { set_state_name = "Tsingtao" }
		set_province_name = { id = 10000 name = "Tsingtao" }
		JAP = { country_event = { id = wtt_germany.46 } }
		CHI = {
			country_event = { days = 1 id = china.2 }
			effect_tooltip = {
				remove_ideas = german_advisors
				show_ideas_tooltip = german_advisors
			}
		}
		hidden_effect = { 
			every_other_country = {
				limit = {
					has_character = CHI_alexander_von_falkenhausen
				}
				retire_character = CHI_alexander_von_falkenhausen
			}
		}
		set_global_flag = falkenhausen_recalled
	}

	# No!
	option = {
		name = wtt_germany.39.b
		JAP = { country_event = { id = wtt_germany.47 } }
	}
}

# German notification event that Japan rejected request # simply remove event, irrelevant
country_event = {
	id = wtt_germany.45
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.45 FROM = [From.GetName]" }
	title = wtt_germany.40.t
	desc = wtt_germany.40.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Too bad
	option = {
		name = wtt_germany.40.a
		add_state_claim = 743
	}
}

# Japanese notification event that Germany accepted offer # simply remove event, irrelevant
country_event = {
	id = wtt_germany.46
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.46 FROM = [From.GetName]" }
	title = wtt_germany.41.t
	desc = wtt_germany.46.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# excellent
	option = {
		name = excellent
		hidden_effect = { news_event = { id = wtt_news.17 hours = 6 } }
	}
}

# Japanese notification event that Germany rejected offer # simply remove event, irrelevant
country_event = {
	id = wtt_germany.47
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.47 FROM = [From.GetName]" }
	title = wtt_germany.42.t
	desc = wtt_germany.42.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Too bad
	option = {
		name = unfortunate
	}
}

# German notification event that China/Japan acceded to demands # simply remove event, irrelevant
country_event = {
	id = wtt_germany.48
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.48 FROM = [From.GetName]" }
	title = wtt_germany.48.t
	desc = wtt_germany.48.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Too bad
	option = {
		name = excellent
		transfer_state = 743
		743 = { set_state_name = "Tsingtao" }
		set_province_name = { id = 10000 name = "Tsingtao" }
	}
}

### Germany Civil War Events

# Nazis fall back from state, heavy fighting/scorched earth destroys infrastructure and industry
state_event = {
	id = wtt_germany.49
	title = wtt_germany.49.t
	desc = wtt_germany.49.desc
	picture = GFX_report_event_ger_civil_war
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_state = {
				limit = {
					OR = {
						has_state_flag = nazi_state_withdrawn
					}
				}
				clr_state_flag = nazi_state_withdrawn
				save_event_target_as = nazi_state_withdrawn
			}
			event_target:nazi_state_withdrawn = {
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn1
					}
					damage_building = { type = industrial_complex damage = 0.5 }
					damage_building = { type = arms_factory damage = 0.5 }
					damage_building = { type = infrastructure damage = 0.5 }
				}
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn2
					}
					damage_building = { type = industrial_complex damage = 0.8 }
					damage_building = { type = arms_factory damage = 0.8 }
					damage_building = { type = infrastructure damage = 0.8 }
				}
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn3
					}
					damage_building = { type = industrial_complex damage = 1.2 }
					damage_building = { type = arms_factory damage = 1.2 }
					damage_building = { type = infrastructure damage = 1.2 }
				}
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn4
					}
					damage_building = { type = industrial_complex damage = 1.8 }
					damage_building = { type = arms_factory damage = 1.8 }
					damage_building = { type = infrastructure damage = 1.8 }
				}
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn5
					}
					damage_building = { type = industrial_complex damage = 2.5 }
					damage_building = { type = arms_factory damage = 2.5 }
					damage_building = { type = infrastructure damage = 2.5 }
				}
			}
		}
	}
	
	# Hey! That's a Russian tactic, you bastards!
	option = {
		name = wtt_germany.49.a
		effect_tooltip = {
			event_target:nazi_state_withdrawn = {
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn1
					}
					damage_building = { type = industrial_complex damage = 0.5 }
					damage_building = { type = arms_factory damage = 0.5 }
					damage_building = { type = infrastructure damage = 0.5 }
				}
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn2
					}
					damage_building = { type = industrial_complex damage = 0.8 }
					damage_building = { type = arms_factory damage = 0.8 }
					damage_building = { type = infrastructure damage = 0.8 }
				}
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn3
					}
					damage_building = { type = industrial_complex damage = 1.2 }
					damage_building = { type = arms_factory damage = 1.2 }
					damage_building = { type = infrastructure damage = 1.2 }
				}
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn4
					}
					damage_building = { type = industrial_complex damage = 1.8 }
					damage_building = { type = arms_factory damage = 1.8 }
					damage_building = { type = infrastructure damage = 1.8 }
				}
				if = {
					limit = {
						has_state_flag = nazi_state_withdrawn5
					}
					damage_building = { type = industrial_complex damage = 2.5 }
					damage_building = { type = arms_factory damage = 2.5 }
					damage_building = { type = infrastructure damage = 2.5 }
				}
			}
		}
		event_target:nazi_state_withdrawn = {
			if = {
				limit = {
					has_state_flag = nazi_state_withdrawn1
				}
				hidden_effect = { clr_state_flag = nazi_state_withdrawn1 }
			}
			if = {
				limit = {
					has_state_flag = nazi_state_withdrawn2
				}
				hidden_effect = { clr_state_flag = nazi_state_withdrawn2 }
			}
			if = {
				limit = {
					has_state_flag = nazi_state_withdrawn3
				}
				hidden_effect = { clr_state_flag = nazi_state_withdrawn3 }
			}
			if = {
				limit = {
					has_state_flag = nazi_state_withdrawn4
				}
				hidden_effect = { clr_state_flag = nazi_state_withdrawn4 }
			}
			if = {
				limit = {
					has_state_flag = nazi_state_withdrawn5
				}
				hidden_effect = { clr_state_flag = nazi_state_withdrawn5 }
			}
		}
	}
}

# Hitler suicide upon fall of Berlin in civil war
country_event = {
	id = wtt_germany.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.50 FROM = [From.GetName]" }
	title = wtt_germany.50.t
	desc = wtt_germany.50.desc
	picture = GFX_report_event_german_reichstag_bombed

	is_triggered_only = yes
	
	option = {
		name = wtt_germany.50.a
		random_other_country = {
			limit = {
				original_tag = GER
				has_government = fascism
			}
			kill_country_leader = yes
			GER_heinrich_himmler = {
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = nazism
						expire = "1965.1.1.1"
						traits = {}
					}
				}		
			}
		}
		hidden_effect = {
			random_list = {
				1 = {
					if = {
						limit = {
							ARG = {
								is_ai = yes
							}
						}
						ARG = {
							add_timed_idea = { idea = fascism_drift_ARG days = 1460 }
							country_event = { id = wtt_germany.1004 days = 1095 random_days = 365 }
						}
					}
				}
				1 = {
					set_global_flag = MTG_flag_955
				}
				1 = { 
					if = { 
						limit = { has_dlc = "La Resistance" }
						country_event = { id = wtt_germany.1005 days = 1095 random_days = 365 } 
					} 
				}
				297 = {}
			}
		}
	}
}

# Reinstate Nazi advisors and generals?
country_event = {
	id = wtt_germany.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.51 FROM = [From.GetName]" }
	title = wtt_germany.51.t
	desc = wtt_germany.51.desc
	picture = GFX_report_event_fascists_posing

	trigger = {
		tag = GER
		NOT = { has_government = communism }
		NOT = { has_government = fascism }
		has_war = yes
		has_country_flag = GER_imprisoned_fascist_leadership
		has_idea = all_adults_serve
	}

	mean_time_to_happen = { days = 30 }

	fire_only_once = yes

	immediate = {
		hidden_effect = {
			random_list = {
				80 = {
					set_country_flag = model_survived
				}
				20 = { } # No effect
			}
			random_list = {
				60 = {
					set_country_flag = kruger_survived
				}
				40 = { } # No effect
			}
			random_list = {
				90 = {
					set_country_flag = hausser_survived
				}
				10 = { } # No effect
			}
			random_list = {
				75 = {
					set_country_flag = dietrich_survived
				}
				25 = { } # No effect
			}
		}
	}
	
	# Yes, reinstate them.
	option = {
		name = wtt_germany.51.a
		add_political_power = 75
		add_popularity = { ideology = fascism popularity = 0.05 }
		custom_effect_tooltip = reinstate_nazi_leadership_TT
		set_country_flag = GER_reinstated_nazi_leadership
		if = {  #I'm leaving these guys in the old system for now because it would be a lot of trouble to make them work properly and need not sure if it's worth it right now.
			limit = {
				has_country_flag = model_survived
			}
			create_field_marshal = {
				name = GER_walter_model
				picture = GFX_portrait_GER_walter_model
				traits = { defensive_doctrine brilliant_strategist trait_cautious }
				skill = 3
				id = 10
				attack_skill = 2
				defense_skill = 4
				planning_skill = 2
				logistics_skill = 2
			}
			clr_country_flag = model_survived
		}
		if = {
			limit = {
				has_country_flag = kruger_survived
			}
			create_corps_commander = {
				name = "Walter Krüger"
				picture = GFX_portrait_Walter_Kruger
				traits = { panzer_leader trait_reckless }
				skill = 3
				id = 15
				attack_skill = 3
				defense_skill = 3
				planning_skill = 1
				logistics_skill = 3
			}
			clr_country_flag = kruger_survived
		}
		if = {
			limit = {
				has_country_flag = hausser_survived
			}
			create_corps_commander = {
				name = "Paul Hausser"
				picture = GFX_portrait_Paul_Hausser
				traits = {  armor_officer }
				skill = 4
				id = 20
				attack_skill = 3
				defense_skill = 3
				planning_skill = 4
				logistics_skill = 3
			}
			clr_country_flag = hausser_survived
		}
		if = {
			limit = {
				has_country_flag = dietrich_survived
			}
			create_corps_commander = {
				name = "Sepp Dietrich"
				picture = GFX_portrait_Sepp_Dietrich
				traits = { armor_officer brilliant_strategist trait_reckless }
				skill = 4
				id = 24
				attack_skill = 3
				defense_skill = 3
				planning_skill = 5
				logistics_skill = 4
			}
			clr_country_flag = dietrich_survived
		}
	}

	# No.
	option = {
		name = wtt_germany.51.b
	}

	# On second thought, hang them anyway.
	option = {
		name = wtt_germany.51.c
		add_stability = 0.05
		add_popularity = { ideology = fascism popularity = -0.05 }
		clr_country_flag = model_survived
		clr_country_flag = kruger_survived
		clr_country_flag = hausser_survived
		clr_country_flag = dietrich_survived
	}
}

# Undemocratic faction member civil war aid event for Germany
country_event = {
	id = wtt_germany.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.52 FROM = [From.GetName]" }
	title = wtt_germany.52.t
	desc = wtt_germany.52.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	# Help them
	option = {
		name = wtt_germany.52.a
		GER = { add_to_war = { targeted_alliance = FROM enemy = FROM.FROM hostility_reason = asked_to_join } }
	}

	#They're on their own
	option = {
		name = wtt_germany.52.b
		ai_chance = {
			factor = 0
		}
		
	}
}

# German event for Austrian referendum to join Democratic Germany
country_event = {
	id = wtt_germany.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.53 FROM = [From.GetName]" }
	title = wtt_germany.53.t
	desc = wtt_germany.53.desc
	picture = GFX_report_event_generic_parliament

	trigger = {
		original_tag = GER
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		is_in_faction_with = AUS
		AUS = {
			is_major = no
		}
		OR = {
			AUS = { has_government = democratic }
			AUS = { has_government = neutrality }
		}
		NOT = { has_global_flag = GER_reformed_austro_hungarian_empire }
	}

	mean_time_to_happen = { days = 60 }

	fire_only_once = yes
	
	# Yes
	option = {
		name = wtt_germany.53.a
		ai_chance = {
			factor = 90
		}
		AUS = { country_event = { id = wtt_germany.54 days = 1 random_days = 6 } }
	}

	# No
	option = {
		name = wtt_germany.53.b
		ai_chance = {
			factor = 10
		}
		
	}
}

# Austrian event for Austrian referendum to join Democratic Germany
country_event = {
	id = wtt_germany.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.54 FROM = [From.GetName]" }
	title = wtt_germany.54.t
	desc = wtt_germany.54.desc
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	# Yes we will join them
	option = {
		name = wtt_germany.54.a
		ai_chance = {
			factor = 100
		}
		custom_effect_tooltip = GAME_OVER_TT
		GER = { country_event = { id = wtt_germany.55 days = 1 random_days = 6 } }
	}

	# No we will remain independent
	option = {
		name = wtt_germany.54.b	
	}
}

# German confirmation event for Austrian referendum to join Democratic Germany
country_event = {
	id = wtt_germany.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.55 FROM = [From.GetName]" }
	title = wtt_germany.55.t
	desc = wtt_germany.55.desc
	picture = GFX_report_event_generic_peaceful_annexation

	is_triggered_only = yes
	
	# Excellent
	option = {
		name = wtt_germany.55.a
		every_state = {
			limit = { 
				is_core_of = AUS 
				owner = { tag = AUS }
			}
			add_core_of = GER
		}
		AUS = {
			every_unit_leader = {
				set_nationality = GER
			}
		}
		annex_country = { target = AUS transfer_troops = yes }
		hidden_effect = { news_event = { id = wtt_news.18 hours = 6 } }
	}
}

# Polish event when attacked by SOV and not in faction with democratic Germany
country_event = {
	id = wtt_germany.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.56 FROM = [From.GetName]" }
	title = wtt_germany.56.t
	desc = wtt_germany.56.desc
	picture = GFX_report_event_generic_parliament

	trigger = {
		tag = POL
		has_full_control_of_state = 280
		has_full_control_of_state = 122
		owns_state = 280
		owns_state = 122
		has_idea = GER_the_great_red_menace
		surrender_progress > 0.3
		has_defensive_war_with = SOV
		NOT = { has_government = communism }
		NOT = { has_government = fascism }
		GER = { has_government = democratic }
		NOT = { GER = { has_war_together_with = POL } }
		NOT = { is_in_faction_with = GER }	
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes
	
	# Yes
	option = {
		name = wtt_germany.56.a
		ai_chance = {
			factor = 90
		}
		GER = { country_event = { id = wtt_germany.57 hours = 2 random_hours = 4 } }
	}

	# No
	option = {
		name = wtt_germany.56.b
		ai_chance = {
			factor = 10
		}
		
	}
}

# German event giving back Danzig and Poznan if POL almost losing to SOV
country_event = {
	id = wtt_germany.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.57 FROM = [From.GetName]" }
	title = wtt_germany.57.t
	desc = wtt_germany.57.desc
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	# Yes we will accept that
	option = {
		name = wtt_germany.57.a
		ai_chance = {
			factor = 90
		}
		transfer_state = 280
		transfer_state = 122
		add_state_core = 280
		add_state_core = 122
		280 = { add_claim_by = SOV }
		122 = { add_claim_by = SOV }
		POL = { country_event = { id = wtt_germany.59 } }
	}

	# No we don't want the risk
	option = {
		name = wtt_germany.57.b
		ai_chance = {
			factor = 10
		}
		POL = { country_event = { id = wtt_germany.60 } }
	}
}

# German notification event for Austrian rejection of referendum to join Democratic Germany
country_event = {
	id = wtt_germany.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.58 FROM = [From.GetName]" }
	title = wtt_germany.58.t
	desc = wtt_germany.58.desc
	picture = GFX_report_event_gathering_protest

	is_triggered_only = yes
	
	# Damn!
	option = {
		name = wtt_germany.58.a
	}
}

# Polish confirmation event for Germany accepting Danzig and Poznan
country_event = {
	id = wtt_germany.59
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.59 FROM = [From.GetName]" }
	title = wtt_germany.59.t
	desc = wtt_germany.59.desc
	picture = GFX_report_event_generic_peaceful_annexation

	is_triggered_only = yes
	
	# Excellent
	option = {
		name = wtt_germany.59.a
		hidden_effect = { news_event = { id = wtt_news.19 hours = 6 } }
	}
}

# Polish notification event for Germany rejecting Danzig and Poznan
country_event = {
	id = wtt_germany.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.60 FROM = [From.GetName]" }
	title = wtt_germany.60.t
	desc = wtt_germany.60.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# When the Soviets have eaten all their friends and come for the Germans, who will be left to help them?
	option = {
		name = wtt_germany.60.a
	}
}

#Removed event ID 61

#Anti-smartass event to give penalty of mefo_bills_ended effect if MEFO bills have been removed through a (potentially insignificant) war.
country_event = {
	id = wtt_germany.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.62 FROM = [From.GetName]" }
	title = wtt_germany.62.t
	desc = wtt_germany.62.desc
	picture = GFX_report_event_tank_factory

	trigger = {
		original_tag = GER
		has_government = fascism
		has_country_flag = mefo_bills_removed_through_war
		has_war = no
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	option = {
		name = wtt_germany.62.a
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
			}
			add_political_power = -20
			add_timed_idea = { idea = GER_mefo_bills_ended days = 60 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 15 compare = equals }
			}
			add_political_power = -30
			add_timed_idea = { idea = GER_mefo_bills_ended days = 70 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 20 compare = equals }
			}
			add_political_power = -40
			add_timed_idea = { idea = GER_mefo_bills_ended days = 80 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 25 compare = equals }
			}
			add_political_power = -50
			add_timed_idea = { idea = GER_mefo_bills_ended days = 90 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 30 compare = equals }
			}
			add_political_power = -60
			add_timed_idea = { idea = GER_mefo_bills_ended days = 100 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 35 compare = equals }
			}
			add_political_power = -70
			add_timed_idea = { idea = GER_mefo_bills_ended days = 110 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 40 compare = equals }
			}
			add_political_power = -80
			add_timed_idea = { idea = GER_mefo_bills_ended days = 120 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 45 compare = equals }
			}
			add_political_power = -90
			add_timed_idea = { idea = GER_mefo_bills_ended days = 130 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 50 compare = equals }
			}
			add_political_power = -100
			add_timed_idea = { idea = GER_mefo_bills_ended days = 140 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 55 compare = equals }
			}
			add_political_power = -110
			add_timed_idea = { idea = GER_mefo_bills_ended days = 150 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 60 compare = equals }
			}
			add_political_power = -120
			add_timed_idea = { idea = GER_mefo_bills_ended days = 160 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 65 compare = equals }
			}
			add_political_power = -130
			add_timed_idea = { idea = GER_mefo_bills_ended days = 170 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 70 compare = equals }
			}
			add_political_power = -140
			add_timed_idea = { idea = GER_mefo_bills_ended days = 180 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 75 compare = equals }
			}
			add_political_power = -150
			add_timed_idea = { idea = GER_mefo_bills_ended days = 190 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 80 compare = equals }
			}
			add_political_power = -160
			add_timed_idea = { idea = GER_mefo_bills_ended days = 200 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 85 compare = equals }
			}
			add_political_power = -170
			add_timed_idea = { idea = GER_mefo_bills_ended days = 210 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 90 compare = equals }
			}
			add_political_power = -180
			add_timed_idea = { idea = GER_mefo_bills_ended days = 220 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 95 compare = equals }
			}
			add_political_power = -190
			add_timed_idea = { idea = GER_mefo_bills_ended days = 230 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 100 compare = equals }
			}
			add_political_power = -200
			add_timed_idea = { idea = GER_mefo_bills_ended days = 240 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 105 compare = equals }
			}
			add_political_power = -210
			add_timed_idea = { idea = GER_mefo_bills_ended days = 250 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 110 compare = equals }
			}
			add_political_power = -220
			add_timed_idea = { idea = GER_mefo_bills_ended days = 260 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 115 compare = equals }
			}
			add_political_power = -230
			add_timed_idea = { idea = GER_mefo_bills_ended days = 270 }
		}
		if = {
			limit = {
				check_variable = { var = GER_mefo_bill_counter value = 115 compare = greater_than }
			}
			add_political_power = -240
			add_timed_idea = { idea = GER_mefo_bills_ended days = 280 }
		}
		clr_country_flag = mefo_bills_removed_through_war
	}
}

# Reintegration remove cores for Alsace and notification for France
country_event = {
	id = wtt_germany.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.63 FROM = [From.GetName]" }
	title = wtt_germany.63.t
	desc = wtt_germany.63.desc
	picture = GFX_report_event_generic_peaceful_annexation

	is_triggered_only = yes
	
	option = {
		name = wtt_germany.63.a
		effect_tooltip = {
			GER = {
				custom_effect_tooltip = mer_GER_reintegrate_luxemburg_and_alsace_lorraine_core_tt
			}
		}
	}
}

# Reintegration notification for Luxemburg
country_event = {
	id = wtt_germany.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.64 FROM = [From.GetName]" }
	title = wtt_germany.64.t
	desc = wtt_germany.63.desc
	picture = GFX_report_event_generic_peaceful_annexation

	is_triggered_only = yes
	
	option = {
		name = wtt_germany.64.a
		effect_tooltip = {
			GER = {
				custom_effect_tooltip = mer_GER_reintegrate_luxemburg_and_alsace_lorraine_core_tt
			}
		}
	}
}

# Event for POL - GER Pressures POL to Join War against SOV
country_event = {
	id = wtt_germany.65
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.65 FROM = [From.GetName]" }
	title = wtt_germany.65.t
	desc = wtt_germany.65.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	# Accept
	option = {
		name = wtt_germany.65.a
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.5
				has_opinion = { target = GER value < 0 }
			}
			modifier = {
				factor = 0.2
				has_opinion = { target = GER value < -50 }
			}
			modifier = {
				factor = 0.5
				GER = { strength_ratio = { tag = SOV ratio < 1 } }
			}
			modifier = {
				factor = 0.2
				GER = { strength_ratio = { tag = SOV ratio < 0.8 } }
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				has_war = no
				is_faction_leader = no
			}
			random_other_country = {
				limit = {
					is_in_faction_with = POL
					is_faction_leader = yes
				}
				remove_from_faction = POL
			}
			GER = { add_to_faction = POL }
			add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = ally }
		}
		if = {
			limit = {
				is_in_faction = yes
				has_war = no
				is_faction_leader = yes
			}
			dismantle_faction = yes
			GER = { add_to_faction = POL }
			add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = ally }
		}
		if = {
			limit = {
				is_in_faction = no
			}
			GER = { add_to_faction = POL }
			add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = ally }
		}
		GER = { country_event = { id = wtt_germany.66 } }
	}

	# Reject
	option = {
		name = wtt_germany.65.b
		ai_chance = {
			factor = 0
			modifier = {
				factor = 0.5
				has_opinion = { target = GER value > 50 }
			}
			modifier = {
				factor = 0.5
				GER = { strength_ratio = { tag = SOV ratio > 1 } }
			}
			modifier = {
				factor = 0.2
				GER = { strength_ratio = { tag = SOV ratio > 1.5 } }
			}
		}
		GER = {
			create_wargoal = {
				type = annex_everything
				target = POL
			}
			country_event = { id = wtt_germany.67 }
		}
	}
}

# Event for GER - POL Joins Faction and War against SOV
country_event = {
	id = wtt_germany.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.66 FROM = [From.GetName]" }
	title = wtt_germany.66.t
	desc = wtt_germany.66.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	option = {
		name = excellent
		effect_tooltip = {
			add_to_faction = POL
			POL = { add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = ally } }
		}
	}
}

# Event for GER - POL Rejects Demands
country_event = {
	id = wtt_germany.67
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.67 FROM = [From.GetName]" }
	title = wtt_germany.67.t
	desc = wtt_germany.67.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	option = {
		name = wtt_germany.67.a
		effect_tooltip = {
			create_wargoal = {
				type = annex_everything
				target = POL
			}
		}
	}
}

# Event for other nations (HUN/AUS/CZE) to accept becoming annex by new Austria-Hungary
country_event = {
	id = wtt_germany.68
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.68 FROM = [From.GetName]" }
	title = wtt_germany.68.t
	desc = wtt_germany.68.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = wtt_germany.68.a
		custom_effect_tooltip = GAME_OVER_TT
		FROM = { country_event = { id = wtt_germany.69 hours = 6 } }
	}

	# Decline
	option = {
		name = wtt_germany.68.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = wtt_germany.70 hours = 6 } }
	}
}

# Event for original nation (HUN/AUS/CZE) notifying another nation accepted
country_event = {
	id = wtt_germany.69
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.69 FROM = [From.GetName]" }
	title = wtt_germany.69.t
	desc = wtt_germany.69.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	option = {
		name = excellent
		if = {
			limit = {
				has_country_flag = GER_austria_hungary_accepted_integration
			}
			country_event = { id = wtt_germany.71 days = 1 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = GER_austria_hungary_accepted_integration }
			}
			hidden_effect = { set_country_flag = GER_austria_hungary_accepted_integration }
		}
	}
}

# Event for original nation (HUN/AUS/CZE) notifying another nation rejected
country_event = {
	id = wtt_germany.70
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.70 FROM = [From.GetName]" }
	title = wtt_germany.70.t
	desc = wtt_germany.70.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	option = {
		name = unfortunate
		hidden_effect = { clr_global_flag = GER_reformed_austro_hungarian_empire }
	}
}

# Event for original nation (HUN/AUS/CZE) notifying of integration and formation of Austria-Hungary
country_event = {
	id = wtt_germany.71
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.71 FROM = [From.GetName]" }
	title = wtt_germany.71.t
	desc = wtt_germany.71.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	option = {
		name = wtt_germany.71.a
		if = {
			limit = {
				NOT = { has_government = neutrality }
			}
			set_politics = { ruling_party = neutrality elections_allowed = no }
		}
		
		promote_character = HUN_otto_von_habsburg #Already a country leader (Non-Aligned -> Despotism)

		if = {
			limit = {
				tag = AUS
			}
			HUN = { ROOT_inherit_current_scope_wars_effect = yes }
			CZE = { ROOT_inherit_current_scope_wars_effect = yes }
			annex_country = { target = HUN transfer_troops = yes }
			annex_country = { target = CZE transfer_troops = yes }
			every_state = {
				limit = {
					is_core_of = CZE
				}
				add_core_of = ROOT
			}
			every_state = {
				limit = {
					is_core_of = HUN
				}
				add_core_of = ROOT
			}
			GER = { add_to_faction = AUS }
		}
		if = {
			limit = {
				tag = HUN
			}
			AUS = { ROOT_inherit_current_scope_wars_effect = yes }
			CZE = { ROOT_inherit_current_scope_wars_effect = yes }
			annex_country = { target = AUS transfer_troops = yes }
			annex_country = { target = CZE transfer_troops = yes }
			every_state = {
				limit = {
					is_core_of = CZE
				}
				add_core_of = ROOT
			}
			every_state = {
				limit = {
					is_core_of = AUS
				}
				add_core_of = ROOT
			}
			GER = { add_to_faction = HUN }
		}
		if = {
			limit = {
				tag = CZE
			}
			HUN = { ROOT_inherit_current_scope_wars_effect = yes }
			AUS = { ROOT_inherit_current_scope_wars_effect = yes }
			annex_country = { target = HUN transfer_troops = yes }
			annex_country = { target = AUS transfer_troops = yes }
			every_state = {
				limit = {
					is_core_of = AUS
				}
				add_core_of = ROOT
			}
			every_state = {
				limit = {
					is_core_of = HUN
				}
				add_core_of = ROOT
			}
			GER = { add_to_faction = CZE }
		}
		set_cosmetic_tag = HUN_EMPIRE
		GER = {
			country_event = { id = wtt_germany.13 }
		}
		if = {
			limit = {
				NOT = { has_government = neutrality }
			}
			set_politics = { ruling_party = neutrality elections_allowed = no }
		}
		add_ai_strategy = {
			type = alliance
			id = "GER"			
			value = 200
		}
	}
}

# Event asking whether HUN/ROM want to become puppet in return for factories.
country_event = {
	id = wtt_germany.72
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.72 FROM = [From.GetName]" }
	title = wtt_germany.72.t
	desc = wtt_germany.72.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = { # Yaplx
		name = wtt_germany.72.a
		effect_tooltip = {
			GER = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = GER_integrate_war_economies }
						NOT = { 
							has_state_category = wasteland
							has_state_category = enclave
							has_state_category = tiny_island
							has_state_category = small_island
							has_state_category = pastoral
							has_state_category = rural
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = GER_integrate_war_economies }
						NOT = { 
							has_state_category = wasteland
							has_state_category = enclave
							has_state_category = tiny_island
							has_state_category = small_island
							has_state_category = pastoral
							has_state_category = rural
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					NOT = { 
						has_state_category = wasteland
						has_state_category = enclave
						has_state_category = tiny_island
						has_state_category = small_island
						has_state_category = pastoral
						has_state_category = rural
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_integrate_war_economies_1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					NOT = { 
						has_state_category = wasteland
						has_state_category = enclave
						has_state_category = tiny_island
						has_state_category = small_island
						has_state_category = pastoral
						has_state_category = rural
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_integrate_war_economies_2
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor" 
					is_in_faction_with = FROM
					FROM = { is_subject = no }
				}
				FROM = {
					set_autonomy = { target = ROOT autonomy_state = autonomy_satellite }
				}
			}
			if = {
				limit = { 
					has_dlc = "Together for Victory"
					NOT = { has_dlc = "Death or Dishonor" } 
					is_in_faction_with = FROM
					FROM = { is_subject = no }
				}
				FROM = {
					set_autonomy = { target = ROOT autonomy_state = autonomy_dominion }
				}
			}
			if = {
				limit = { 
					NOT = { has_dlc = "Together for Victory" }
					NOT = { has_dlc = "Death or Dishonor" }
					is_in_faction_with = FROM
					FROM = { is_subject = no }
				}
				FROM = { puppet = ROOT }
			}
		}
		custom_effect_tooltip = wtt_germany.72_tt
		FROM = {
			country_event = { id = wtt_germany.73 days = 1 }
		}
	}
	option = { # Hell naw
		name = wtt_germany.72.b
		ai_chance = {
			factor = 0
		}
		FROM = {
			country_event = { id = wtt_germany.74 days = 1 }
		}
	}
}

# Event for GER saying HUN/ROM accepted
country_event = {
	id = wtt_germany.73
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.73 FROM = [From.GetName]" }
	title = wtt_germany.73.t
	desc = wtt_germany.73.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = {
		name = wtt_germany.73.a
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
				NOT = { has_state_flag = GER_integrate_war_economies }
				NOT = { 
					has_state_category = wasteland
					has_state_category = enclave
					has_state_category = tiny_island
					has_state_category = small_island
					has_state_category = pastoral
					has_state_category = rural
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = GER_integrate_war_economies
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
				NOT = { has_state_flag = GER_integrate_war_economies }
				NOT = { 
					has_state_category = wasteland
					has_state_category = enclave
					has_state_category = tiny_island
					has_state_category = small_island
					has_state_category = pastoral
					has_state_category = rural
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = GER_integrate_war_economies
		}
		FROM = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					NOT = { 
						has_state_category = wasteland
						has_state_category = enclave
						has_state_category = tiny_island
						has_state_category = small_island
						has_state_category = pastoral
						has_state_category = rural
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_integrate_war_economies_1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					NOT = { 
						has_state_category = wasteland
						has_state_category = enclave
						has_state_category = tiny_island
						has_state_category = small_island
						has_state_category = pastoral
						has_state_category = rural
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_integrate_war_economies_2
			}
		}
		if = {
			limit = {
				has_dlc = "Death or Dishonor" 
				is_subject = no
			}
			every_country = {
				limit = {
					is_subject_of = FROM
				}
				ROOT = { set_autonomy = { target = PREV autonomy_state = autonomy_satellite } }
			}
			set_autonomy = { target = FROM autonomy_state = autonomy_satellite }
		}
		if = {
			limit = { 
				has_dlc = "Together for Victory"
				NOT = { has_dlc = "Death or Dishonor" } 
				is_subject = no
			}
			every_country = {
				limit = {
					is_subject_of = FROM
				}
				ROOT = { set_autonomy = { target = PREV autonomy_state = autonomy_dominion } }
			}
			set_autonomy = { target = FROM autonomy_state = autonomy_dominion }
		}
		if = {
			limit = { 
				NOT = { has_dlc = "Together for Victory" }
				NOT = { has_dlc = "Death or Dishonor" }
				is_subject = no
			}
			every_country = {
				limit = {
					is_subject_of = FROM
				}
				ROOT = { puppet = PREV }
			}
			puppet = FROM
		}
	}
}

# Event for GER saying HUN/ROM rejected
country_event = {
	id = wtt_germany.74
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.74 FROM = [From.GetName]" }
	title = wtt_germany.74.t
	desc = wtt_germany.74.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = {
		name = wtt_germany.74.a
	}
}

#################

country_event = {
	id = wtt_germany.999
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.999 FROM = [From.GetName]" }
	title = wtt_germany.999.t
	desc = wtt_germany.999.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = wtt_germany.999.a
		ai_chance = {
			factor = 100
		}
		FROM = { country_event = { id = wtt_germany.1000 days = 1 } }
	}
	option = {
		name = wtt_germany.999.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = wtt_germany.1003 days = 1 } }
	}
}


country_event = {
	id = wtt_germany.1000
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.1000 FROM = [From.GetName]" }
	title = wtt_germany.1000.t
	desc = wtt_germany.1000.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = wtt_germany.1000.a
		custom_effect_tooltip = wtt_germany.1000.a_tt
		add_political_power = -50
		ENG = { add_opinion_modifier = { target = GER modifier = GER_aided_in_ceremony_preparations } }
		hidden_effect = {
			country_event = { id = wtt_germany.1001 days = 3 random_days = 4 }
		}
	}
	option = {
		name = wtt_germany.1000.b
		custom_effect_tooltip = wtt_germany.1000.b_tt
		add_political_power = 50
		hidden_effect = {
			country_event = { id = wtt_germany.1002 days = 3 random_days = 4 }
		}
	}
}

country_event = {
	id = wtt_germany.1001
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.1001 FROM = [From.GetName]" }
	title = wtt_germany.1001.t
	desc = wtt_germany.1001.desc
	picture = GFX_report_event_hindenburg_flames

	is_triggered_only = yes

	option = {
		name = wtt_germany.1001.a
		add_stability = -0.1
		kill_country_leader = yes
		GER_victoria = {
			add_country_leader_role = {
				country_leader = {
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						kaiserin_of_the_people
						victoria_iii # Third Victoria counting from Queen Victoria hurr durr
					}
				}
				promote_leader = yes
			}
		}
		hidden_effect = { set_global_flag = hindenburg_destroyed }
	}
}

country_event = {
	id = wtt_germany.1002
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.1002 FROM = [From.GetName]" }
	title = wtt_germany.1001.t
	desc = wtt_germany.1002.desc
	picture = GFX_report_event_hindenburg_flames

	is_triggered_only = yes

	option = {
		name = wtt_germany.1002.a
		add_stability = -0.2
		kill_country_leader = yes
		hidden_effect = { set_global_flag = hindenburg_destroyed }
	}
}

country_event = {
	id = wtt_germany.1003
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.1003 FROM = [From.GetName]" }
	title = wtt_germany.1003.t
	desc = wtt_germany.1003.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = wtt_germany.1003.a
		hidden_effect = {
			country_event = { id = wtt_germany.1000 days = 1 }
		}
	}
}

country_event = {
	id = wtt_germany.1004
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.1004 FROM = [From.GetName]" }

	hidden = yes

	is_triggered_only = yes

	immediate = {
		set_politics = { 
			ruling_party = fascism 
			elections_allowed = no 
		}
		add_country_leader_role = {
			character = ARG_senor_hitler
			country_leader={
				expire = "1965.1.1"
				ideology = nazism
				traits = {
					dictator
					incognito
				}
			}
			promote_leader = yes
		}
	}
}

country_event = {
	id = wtt_germany.1005
	immediate = { log = "[GetDateText]: [Root.GetName]: event wtt_germany.1005 FROM = [From.GetName]" }

	hidden = yes

	is_triggered_only = yes

	immediate = {
		random_list = {
			50 = {
				create_operative_leader = {
					name = "Achim Hund"
					GFX = GFX_portrait_germany_agent_h_m
					traits = { operative_natural_orator }
					bypass_recruitment = no
					available_to_spy_master = yes
				}
			}
			50 = {
				create_operative_leader = {
					name = "Andrea Hund"
					GFX = GFX_portrait_germany_agent_h_f
					traits = { operative_seducer operative_natural_orator }
					bypass_recruitment = no
					available_to_spy_master = yes
					female = yes
				}
			}
		}
	}
}