###########################
# German Events
###########################

add_namespace = germany

# Austrian Anschluss Completed
country_event = {
	id = germany.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.4 FROM = [From.GetName]" }
	title = germany.4.t
	desc = germany.4.d
	picture = GFX_report_event_german_speech

	is_triggered_only = yes

 	immediate = {
 		hidden_effect = {
 			add_named_threat = { threat = 10 name = germany.4.t }
 		}
 	}

	option = {
		name = germany.4.a
		every_state = {
			limit = { 
				is_core_of = AUS 
				owner = { tag = AUS }
			}
			add_core_of = GER
		}
		AUS = {
			every_unit_leader = {
				set_nationality = GER
			}
		}
		annex_country = { target = AUS transfer_troops = yes }
		add_political_power = 75
		set_country_flag = AUS_annexed
		add_war_support = 0.1
		add_stability = 0.05
		USA = {
			set_country_flag = { flag = USA_anschluss_window days = 60 value = 1 }
		}
		custom_effect_tooltip = anschluss_mefo_bills_tt
		hidden_effect = { # Having it appear twice might be confusing
			GER_mefo_bills_level_down = yes
			GER_mefo_bills_level_down = yes
		}
		custom_effect_tooltip = anschluss_mefo_bills_double_reduction
		add_to_variable = { var = GER_mefo_bill_counter value = -10 }

		if = {
			limit = {
				has_dlc = "Death or Dishonor"
				country_exists = YUG
				YUG = { has_war = no }
			}
			country_event = {
				id = DOD_yugoslavia.30
				days = 4
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.36 }
			AUS = {
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				set_popularities = {
					democratic = 60
					neutrality = 20
					fascism = 0
					communism = 20
				}
			}
		}
	}
}

#anti_comintern_pact
# nations are asked to join pact, agreeing = relations with GER and hit with SOV

country_event = {
	id = germany.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.5 FROM = [From.GetName]" }
	title = germany.5.t
	desc = germany.5.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes

	option = {
		name = germany.5.a		#join
		ai_chance = {
			factor = 75
			modifier = {
				factor = 4
				has_opinion = {
					target = SOV
					value < -10
				}
			}
			modifier = {
				factor = 0.5
				has_opinion = {
					target = GER
					value < -10
				}
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		set_country_flag = anti_comintern_member
		GER = { add_opinion_modifier = { target = ROOT modifier = anti_comintern_pact_opinion } }
		add_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		SOV  = { add_opinion_modifier = { target = ROOT modifier = pact_against_us } }
	}

	option = {
		name = germany.5.b		#refuse
		trigger = { NOT = { is_puppet_of = GER } }
		ai_chance = {
			factor = 25
		}
		GER =  { add_opinion_modifier = { target = ROOT modifier = refused_anti_comintern_pact_opinion } }
	}

}

# tripartite_pact
# anti_comintern_pact nations are asked to join pact, agreeing = relations with GER and hit with SOV

country_event = {
	id = germany.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.6 FROM = [From.GetName]" }
	title = germany.6.t
	desc = germany.6.d
	picture = GFX_report_event_hitler_croatia_handshake


	is_triggered_only = yes

	option = {
		name = germany.6.a		#join
		remove_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		add_opinion_modifier = { target = GER modifier = tripartite_pact_opinion }
		remove_opinion_modifier = { target = SOV modifier = pact_against_us }
		add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
	}

	option = {
		name = germany.6.b		#refuse
		trigger = { NOT = { is_puppet_of = GER } }
		add_opinion_modifier = { target = GER modifier = refused_tripartite_pact_opinion }
	}

}

#molotov_ribbentrop_pact
# fire event to SOV to accept or not. adds claims
# SOV events sends reply to GER, adds claims if they said yes, hurts relations if they say no

# Molotov-Ribbentrop Pact (Soviets)
country_event = {
	id = germany.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.11 FROM = [From.GetName]" }
	title = germany.11.t
	desc = germany.11.d
	picture = GFX_report_event_molotov_ribentrop_handshake

	is_triggered_only = yes

	option = {
		name = germany.11.a	#sounds good
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				GER = {
					OR = {
						has_wargoal_against = SOV
						is_justifying_wargoal_against = SOV
					}
					NOT = {
						is_in_faction_with = SOV
					}
				}
			}
		}
		add_opinion_modifier = { target = GER modifier = MR_pact }# pact
		custom_effect_tooltip = germany.11.a.tt
		if = {
			limit = {
				NOT = { owns_state = 77 }
			}
			add_state_claim = 77 #KARELIA (FIN)
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = { owns_state = 113 }
				}
				add_state_claim = 113
			}
			if = {
				limit = {
					NOT = { owns_state = 2783 }
				}
				add_state_claim = 2783
			}
			if = {
				limit = {
					NOT = { owns_state = 100 }
				}
				add_state_claim = 100
			}
		}
		if = {
			limit = {
				NOT = { owns_state = 33 }
			}
			add_state_claim = 33 #SALLA (FIN)
		}
		if = {
			limit = {
				NOT = { owns_state = 2786 }
			}
			add_state_claim = 2786 #SALLA (FIN)
		}
		if = {
			limit = {
				NOT = { owns_state = 17 }
			}
			add_state_claim = 17 #PETSAMO (FIN)
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = { owns_state = 22 }
				}
				add_state_claim = 22 
			}
		}
		custom_effect_tooltip = mer_claims_on_estonia
		hidden_effect = {
			every_state = {
				limit = { 
					is_core_of = EST
					NOT = {
						is_core_of = FIN
						is_core_of = LAT
						is_core_of = LIT
						is_core_of = SOV
					}
				}
				add_claim_by = SOV
			}
		}
		custom_effect_tooltip = mer_claims_on_latvia
		hidden_effect = {
			every_state = {
				limit = { 
					is_core_of = LAT
					NOT = {
						is_core_of = FIN
						is_core_of = EST
						is_core_of = LIT
						is_core_of = SOV
					}
				}
				add_claim_by = SOV
			}
		}
		custom_effect_tooltip = mer_claims_on_lithuania
		hidden_effect = {
			SOV = {
				add_state_claim = 2371
				add_state_claim = 208
				add_state_claim = 101
				add_state_claim = 205
				add_state_claim = 107
				add_state_claim = 206
				add_state_claim = 1246
				add_state_claim = 238
				add_state_claim = 1104
				add_state_claim = 1178
				add_state_claim = 259
				add_state_claim = 242
				add_state_claim = 1339
				add_state_claim = 207
				add_state_claim = 1280
				add_state_claim = 1296
				add_state_claim = 225
				add_state_claim = 244
				add_state_claim = 275
				add_state_claim = 274
				add_state_claim = 1309
				add_state_claim = 294
				add_state_claim = 1304
				add_state_claim = 1135
				add_state_claim = 241
				add_state_claim = 1329
				add_state_claim = 236
			}
		}
		custom_effect_tooltip = mer_claims_on_belarussian_poland
		custom_effect_tooltip = mer_claims_on_ukrainian_poland
		hidden_effect = {
			every_state = {
				limit = { 
					is_soviet_mr = yes
				}
				add_claim_by = SOV
			}
		}
		add_ideas = export_focus
		hidden_effect =  { add_timed_idea = { idea = SOV_molotov_ribbentrop_pact days = 730 } }
		GER = {
			country_event = { days = 1 id = germany.12 }
			effect_tooltip = {
				add_opinion_modifier = { target = SOV modifier = MR_pact }# pact
			}
		}
		set_global_flag = sov_yes_pact
	}

	option = {
		name = germany.11.b	#no way
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				GER = {
					NOT = { has_wargoal_against = SOV }
					NOT = { is_justifying_wargoal_against = SOV }
				}
			}
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		add_political_power = -50
		add_opinion_modifier = { target = GER modifier = refused_MR_pact }# no pact
		GER = {
			country_event = { days = 1 id = germany.13 }
		}
		set_global_flag = sov_no_pact
	}
}

# Soviets Sign MR Pact
country_event = {
	id = germany.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.12 FROM = [From.GetName]" }
	title = germany.12.t
	desc = germany.12.d
	picture = GFX_report_event_molotov_signing_pact

	is_triggered_only = yes

	option = {
		name = germany.12.a	#neat
		every_other_country = {
			limit = {
				NOT = { tag = GER }
				has_government = fascism
			}
			add_opinion_modifier = { target = GER modifier = MR_pact_fascists }
		}
		diplomatic_relation = { country = SOV relation = non_aggression_pact }
		add_opinion_modifier = { target = SOV modifier = MR_pact }# pact
		USA = {
			set_country_flag = { flag = USA_MR_window days = 60 value = 1 }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.32 }
		}
	}
}

# Soviets Reject MR Pact
country_event = {
	id = germany.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.13 FROM = [From.GetName]" }
	title = germany.13.t
	desc = germany.13.d
	picture = GFX_report_event_stalin_01

	is_triggered_only = yes

	option = {
		name = germany.13.a	#bah
		add_opinion_modifier = { target = SOV modifier = refused_MR_pact }# no pact
	}
}

# Poland conquered... honor MR Pact?
country_event = {
	id = germany.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.14 FROM = [From.GetName]" }
	title = germany.14.t
	desc = germany.14.d
	picture = GFX_report_event_german_troops

	fire_only_once = yes

	trigger = {
		OR = {
			tag = GER
			AND = {
				tag = LIT
				is_ai = no
				has_global_flag = LIT_occupies_POL
			}
		}
		has_global_flag = sov_yes_pact
		SOU = { exists = yes }
		NOT =  { has_war_with = SOU }
		OR = {
			custom_trigger_tooltip = {
				tooltip =  "Soviet Molotov-Ribbentrop States are owned by Germany or its allies"
				POL = {
					all_core_state = {
						if = {
							limit = {
								is_soviet_mr = yes
							}
							OR = {
								is_owned_by = GER
								owner = {
									is_in_faction_with = GER
									GER = {
										is_faction_leader = yes
									}
								}
							}
							
						}
					}
				}
			}
			
			AND = {
				POL = { has_capitulated = yes }
				custom_trigger_tooltip = {
					tooltip =  "Soviet Molotov-Ribbentrop States are controlled by Germany or its allies"
					POL = {
						all_core_state = {
							if = {
								limit = {
									is_soviet_mr = yes
								}
								OR = {
									is_controlled_by = GER
									controller = {
										is_in_faction_with = GER
										GER = {
											is_faction_leader = yes
										}
									}
								}
								
							}
						}
					}
				}
			}
			AND = {
				POL = { has_capitulated = yes }
				custom_trigger_tooltip = {
					tooltip =  "Soviet Molotov-Ribbentrop States are controlled by Germany or its allies or Russia"
					POL = {
						all_core_state = {
							if = {
								limit = {
									is_soviet_mr = yes
								}
								OR = {
									is_controlled_by = GER
									controller = {
										is_in_faction_with = GER
										GER = {
											is_faction_leader = yes
										}
									}
									OR = {
										is_controlled_by = SOV
										controller = { is_subject_of = SOV }
									}
								}
								
							}
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				AND = {
					POL = {
						is_ai = no
						has_civil_war = no
					}
					is_in_faction_with = POL
				}
			}
		}
		name = germany.14.a
		if = { #MR Pact if ally has taken some of Poland
			limit = {
				GER = { is_faction_leader = yes }
				any_allied_country = {
					NOT = { is_subject_of = GER }
					NOT = { tag = SOU }
					any_owned_state = {
						is_soviet_mr = yes
					}
				}
			}
			random_country = {
				limit = {
					is_in_faction_with = ROOT
					NOT = { is_subject_of = GER }
					NOT = { tag = SOU }
					any_controlled_state = {
						is_soviet_mr = yes
					}
				}
				if = {
					limit = {
						is_subject = yes
					}
					OVERLORD = { country_event = germany.1002 }
				}
				else = {
					country_event = { id = germany.1002 hours = 3 }
				}
			}
		}
		else = { #MR Pact as normal
			MR_pact_transfer_state_effect = yes
			SOU = { country_event = { id = germany.15 hours = 3 } }
		}
		set_global_flag = mr_honoured
	}
	option = {
		name = germany.14.b
		ai_chance = {
			base = 1
			modifier = {
				add = -1
				is_historical_focus_on = yes
				NOT = {
					AND = {
						POL = {
							is_ai = no
							has_civil_war = no
						}
						is_in_faction_with = POL
					}
				}
			}
		}
		SOU = { country_event = germany.16 }
		clr_global_flag = sov_yes_pact
		diplomatic_relation = {
			country = SOV
			relation = non_aggression_pact
			active = no
		}
		SOU = {
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = GER
				}
			}
		}
		every_state = {
			limit = {
				NOT = { is_owned_by = SOU }
				OR = {
					is_core_of = EST
					is_core_of = LAT
					is_core_of = LIT
					is_soviet_mr = yes
				}
			}
			add_claim_by = SOU
		}
	}
}

#Event for allies signing MR pact
country_event = {
	id = germany.1002
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.1002 FROM = [From.GetName]" }
	title = germany.1002.t
	desc = germany.1002.desc
	picture = GFX_report_event_molotov_signing_pact

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = responded_to_MR_allied_pact
			every_other_country = {
				limit = {
					is_subject_of = ROOT
				}
				set_country_flag = responded_to_MR_allied_pact
			}
		}
	}

	option = { #Agree to honor the pact
		name = germany.14.a
		ai_chance = {
			base = 100 #ai should always say yes if Germany said yes
		}
		effect_tooltip = {
			MR_pact_transfer_state_effect = yes
		}
		hidden_effect = { #Keep going around all of Germany's allies who own parts of Poland until they have all made a decision
			if = {
				limit = {
					any_allied_country = {
						NOT = { is_subject_of = ROOT }
						NOT = { has_country_flag = responded_to_MR_allied_pact }
						any_owned_state = {
							is_soviet_mr = yes
						}
					}
				}
				random_country = {
					limit = {
						is_in_faction_with = ROOT
						NOT = { is_subject_of = ROOT }
						NOT = { has_country_flag = responded_to_MR_allied_pact }
						any_owned_state = {
							is_soviet_mr = yes
						}
					}
					if = {
						limit = {
							is_subject = yes
						}
						OVERLORD = { country_event = germany.1002 }
					}
					else = {
						country_event = germany.1002
					}
				}
			}
			else = { #No more allies left to ask, actually do the MR pact
				MR_pact_transfer_faction_state_effect = yes
				SOU = { country_event = germany.15 }
			}
		}
	}
	option = {
		name = germany.1002.b
		ai_chance = {
			base = 0 #AI should never refuse
		}
		every_country = {
			limit = {
				NOT = { tag = ROOT }
				is_in_faction_with = ROOT
			}
			country_event = germany.1003
		}
		SOU = { country_event = germany.16 }
		clr_global_flag = sov_yes_pact
		GER = {
			diplomatic_relation = {
				country = SOV
				relation = non_aggression_pact
				active = no
			}
		}
		SOU = {
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = GER
				}
			}
		}
		every_state = {
			limit = {
				NOT = { is_owned_by = SOU }
				OR = {
					is_core_of = EST
					is_core_of = LAT
					is_core_of = LIT
					is_soviet_mr = yes
				}
			}
			add_claim_by = SOU
		}
	}
}

#Event telling Germany their ally broke the pact
country_event = {
	id = germany.1003
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.1003 FROM = [From.GetName]" }
	title = germany.1003.t
	desc = germany.1003.desc
	picture = GFX_report_event_molotov_signing_pact

	is_triggered_only = yes

	option = {
		name = germany.1003.a
		ai_chance = {
			base = 1
		}
		effect_tooltip = {
			GER = {
				diplomatic_relation = {
					country = SOV
					relation = non_aggression_pact
					active = no
				}
			}
			SOU = {
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = GER
				}
			}
		}
		every_state = {
			limit = {
				NOT = { is_owned_by = SOU }
				OR = {
					is_core_of = EST
					is_core_of = LAT
					is_core_of = LIT
					is_soviet_mr = yes
				}
			}
			add_claim_by = SOU
		}
		}
	}
}

# Germany honors MR Pact (Soviets)
country_event = {
	id = germany.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.15 FROM = [From.GetName]" }
	title = germany.15.t
	desc = germany.15.d
	picture = GFX_report_event_soviet_german_soldier_handshake

	is_triggered_only = yes

	option = {
		name = germany.12.a
		if = {
			limit = {
				SOU = {
					controls_state = 1030
					controls_state = 1164
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.33 }
			}
		}
	}
}


# Germany betrays MR Pact (Soviets)
country_event = {
	id = germany.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.16 FROM = [From.GetName]" }
	title = germany.16.t
	desc = germany.16.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = germany.16.a
		hidden_effect = {
			news_event = news.153
		}
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

# Second Vienna Award
country_event = {
	id = germany.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.20 FROM = [From.GetName]" }
	title = germany.20.t
	desc = germany.20.d
	picture = GFX_report_event_vienna_award_hungary

	is_triggered_only = yes

	option = { # Give Hungary Northern Transylvania
		name = germany.20.a
		ai_chance = { factor = 80 }
		add_named_threat = { threat = 2 name = GER_second_vienna_award_HUN_north }
		HUN = {
			set_country_flag = GER_second_vienna_award_HUN_north
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_HUN_north }
		}
		ROM = {
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_ROM_north }
			country_event = { id = romania.2 }
		}
	}
	option = { # Give Hungary all of Transylvania
		trigger = {
			ROM = {
				all_state = {
					region = 12 #transylvania strat region
					is_controlled_by = ROM
				}
			}
		}
		name = germany.20.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_named_threat = { threat = 3 name = GER_second_vienna_award_HUN_all }
		HUN = {
			set_country_flag = GER_second_vienna_award_HUN_all
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_HUN_all }
		}
		ROM = {
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_ROM_all }
			country_event = { id = romania.3 }
		}
	}
	option = { # Give Hungary nothing
		name = germany.20.c
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		ROM = {
			country_event = { id = romania.4 }
		}
		HUN = {
			set_country_flag = GER_second_vienna_award_noland
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_noland }
			country_event = { id = hungary.1 }
		}
	}
}

# Romania Rejects Decision!
country_event = {
	id = germany.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.21 FROM = [From.GetName]" }
	title = germany.21.t
	desc = germany.21.d
	picture = GFX_report_event_vienna_award_hungary

	is_triggered_only = yes

	option = {
		name = germany.21.a
		create_wargoal = {
			type = take_state_focus
			target = ROM
			generator = { 665 }
		}
	}
}

# Claim Memel - Lithuania Folds
country_event = {
	id = germany.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.22 FROM = [From.GetName]" }
	title = germany.22.t
	desc = germany.22.d
	picture = GFX_report_event_vienna_award_hungary

	is_triggered_only = yes

	option = {
		name = germany.22.a
		GER = {
			transfer_state = 227
			add_state_core = 227
		}
		hidden_effect = {
			country_event = { days = 1 id = news.19 }
		}
	}
}

# Claim Memel - Lithuania Rejects Demand
country_event = {
	id = germany.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.23 FROM = [From.GetName]" }
	title = germany.23.t
	desc = germany.23.d
	picture = GFX_report_event_lithuania_army

	is_triggered_only = yes

	option = {
		name = germany.23.a
		create_wargoal = {
			type = take_state_focus
			target = LIT
			generator = { 227 }
		}
		hidden_effect = {
			country_event = { days = 1 id = news.20 }
		}
	}
}

# Japan Demands Withdrawal of Falkenhausen
country_event = {
	id = germany.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.24 FROM = [From.GetName]" }
	title = germany.24.t
	desc = germany.24.d
	picture = GFX_report_event_hitler_china

	is_triggered_only = yes

	option = { # Agree
		name = germany.24.a
		trigger = {
			NOT = { has_country_flag = GER_von_falkenhausen_promise_to_china }
		}
		JAP = {
			country_event = { days = 1 id = japan.8 }
		}
		CHI = {
			country_event = { days = 1 id = china.2 }
			effect_tooltip = {
				remove_ideas = german_advisors
				show_ideas_tooltip = german_advisors
			}
		}
	}
	option = { # Refuse
		name = germany.24.b
		trigger = {
			NOT = { has_country_flag = GER_von_falkenhausen_promise_to_china }
		}
		JAP = {
			country_event = { days = 1 id = japan.9 }
		}
	}

	option = { # Refuse, promised the Chinese in return for Tsingtao
		name = germany.24.c
		trigger = {
			has_country_flag = GER_von_falkenhausen_promise_to_china
		}
		JAP = {
			country_event = { days = 1 id = japan.9 }
		}
	}
}

# German - Chinese Relations Poor, Mission Recalled
country_event = {
	id = germany.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.25 FROM = [From.GetName]" }
	title = germany.25.t
	desc = germany.25.d
	picture = GFX_report_event_chinese_army_training

	fire_only_once = yes

	trigger = {
		tag = GER
		#CHI = { has_idea = german_advisors }
		has_opinion = { target = CHI value < -20 }
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		CHI = { remove_ideas = german_advisors }
	}

	option = {
		name = germany.25.a
		CHI = {
			country_event = { id = china.3 }
		}
	}
}

# Germany at war with China, Advisors Detained
country_event = {
	id = germany.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.26 FROM = [From.GetName]" }
	title = germany.26.t
	desc = germany.26.d
	picture = GFX_report_event_german_detained_china

	fire_only_once = yes

	trigger = {
		tag = GER
		CHI = { has_idea = german_advisors }
		has_war_with = CHI
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		#CHI = { remove_ideas = german_advisors }
	}

	option = {
		name = germany.26.a
		CHI = {
			country_event = { id = china.4 }
		}
	}
}

# Fortifying the Westwall
country_event = {
	id = germany.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.27 FROM = [From.GetName]" }
	title = germany.27.t
	desc = germany.27.d
	picture = GFX_report_event_bunker_01

	is_triggered_only = yes

	option = {
		name = germany.27.a
		50 = {
			add_building_construction = {
				type = bunker
				province = 11640
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 6712
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 6542
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 3530
				level = 5
			}
		}
		42 = {
			add_building_construction = {
				type = bunker
				province = 3558
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 563
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 11531
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 9575
				level = 5
			}
		}
	}
}

# Austria asked about Anschluss
country_event = {
	id = germany.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.28 FROM = [From.GetName]" }
	title = germany.28.t
	desc = germany.28.d
	picture = GFX_report_event_hitler_parade

	is_triggered_only = yes

	option = { # Accept
		name = germany.28.a
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				GER = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 100
				GER = { has_army_size = { size > 39 } }
			}
			modifier = {
				add = 20
				is_in_faction_with = GER
			}
		}
		GER = {
			country_event = { hours = 2 id = germany.4 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = { # Refuse
		name = germany.28.b
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = { HUN = { has_completed_focus = HUN_protect_austria } }
			}
			modifier = {
				GER = { has_army_size = { size > 39 } }
				factor = 0.5
			}
			modifier = {
				add = 20
				GER = { has_army_size = { size < 30 } }
			}
			modifier = {
				add = 100
				HUN = {
					OR = {
						has_completed_focus = HUN_protect_austria
						is_in_faction_with = AUS
					}
				}
			}
			modifier = {
				factor = 2
				is_in_faction = yes
				NOT = { is_in_faction_with = GER }
			}
			modifier = {
				any_other_country = {
					has_guaranteed = AUS
				}
				factor = 5 #i've got friends
			}
			modifier = {
				any_other_country = {
					is_major = yes
					has_guaranteed = AUS
				}
				factor = 5 #i've got big friends
			}
		}
		GER = {
			add_opinion_modifier = { target = ROOT modifier = GER_anschluss_rejected }
			country_event = { hours = 2 id = germany.29 }
			if = { limit = { is_in_faction_with = AUS }
				remove_from_faction = AUS
			}
		}
	}
}

# Austria refuses Anschluss
country_event = {
	id = germany.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.29 FROM = [From.GetName]" }
	title = germany.29.t
	desc = germany.29.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = germany.29.a
		custom_effect_tooltip = mer_GER_claims_on_austria
		hidden_effect = {
			add_state_claim = 1792
			add_state_claim = 1793
			add_state_claim = 1794
			add_state_claim = 1795
			add_state_claim = 1796
			add_state_claim = 1797
			add_state_claim = 1798
			add_state_claim = 1799
			add_state_claim = 1800
			add_state_claim = 1801
			add_state_claim = 1802
			add_state_claim = 1803
			add_state_claim = 1804
			add_state_claim = 1805
			add_state_claim = 1806
			add_state_claim = 1807
			add_state_claim = 1808
			add_state_claim = 1809
			add_state_claim = 1810
			add_state_claim = 1811
			add_state_claim = 1812
			add_state_claim = 1813
			add_state_claim = 1814
			add_state_claim = 1815
			add_state_claim = 1816
			add_state_claim = 1817
			add_state_claim = 1818
			add_state_claim = 568
			add_state_claim = 582
			add_state_claim = 621
			add_state_claim = 625
			add_state_claim = 635
			add_state_claim = 644
			add_state_claim = 654
			add_state_claim = 679
			add_state_claim = 681
		}
		create_wargoal = {
			type = annex_everything
			target = AUS
		}
	}
}

### Munich Conference

# Britain
country_event = {
	id = germany.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.40 FROM = [From.GetName]" }
	title = germany.40.t
	desc = {
		text = germany.40.d
		trigger = { NOT = { has_war_with = GER } }
	}
	desc = {
		text = germany.40.d_2
		trigger = { has_war_with = GER }
	}
	desc = {
		text = germany.40.d_3
		trigger = {
			NOT = { has_war_with = GER }
			tag = HOL
		}
	}
	picture = GFX_report_event_german_politician_speech

	is_triggered_only = yes

	option = { # Abandon the Czechs
		name = germany.40.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0.3
				has_government = communism
				CZE = { has_government = communism }
			}
			modifier = {
				has_global_flag = GER_has_started_war
				NOT = { is_in_faction_with = GER }
				factor = 0
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = ENG_ai_behavior
						option = DEMOCRATIC_HISTORICAL
					}
					has_game_rule = {
						rule = ENG_ai_behavior
						option = DEMOCRATIC_ALTERNATE
					}
					has_game_rule = {
						rule = ENG_ai_behavior
						option = FASCIST
					}
					has_war_with = GER
					is_in_faction_with = CZE
				}
			}
		}
		trigger = {
			NOT = { has_war_with = GER }
			is_puppet = no # can't do anything if puppet
		}
		if = {
			limit = {
				has_completed_focus = ENG_no_further_appeasement
			}
			add_political_power = -200
		}
		if = {
			limit = {
				tag = HOL
			}
			ENG = { country_event = germany.40 }
		}
		if = {
			limit = {
				tag = ENG
			}
			FRA = { country_event = germany.41 }
		}
		CZE = {
			add_opinion_modifier = { target = ROOT modifier = western_betrayal }
		}
		if = {
			limit = {
				tag = HOL
				CZE = { is_guaranteed_by = HOL }
			}
			HOL = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = protect
					id = "CZE"
					value = -100
				}
			}
		}
		if = {
			limit = {
				tag = ENG
				CZE = { is_guaranteed_by = ENG }
			}
			ENG = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = protect
					id = "CZE"
					value = -100
				}
			}
		}
		if = {
			limit = {
				CZE = { is_in_faction_with = ROOT }
				is_faction_leader = yes
			}
			remove_from_faction = CZE
		}
	}
	option = { # Support the Czechs
		name = germany.40.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
			modifier = {
				factor = 0
				ENG_is_on_historical_plan_trigger = yes
				NOT = {
					OR = {
						is_in_faction_with = CZE
						has_war_with = GER
					}
				}
			}
			modifier = {
				factor = 3
				has_government = communism
				CZE = { has_government = communism }
			}
			modifier = {
				factor = 0
				AND = {
					OR = {
						has_game_rule = {
							rule = ENG_ai_behavior
							option = NEUTRALITY
						}
						has_game_rule = {
							rule = ENG_ai_behavior
							option = COMMUNIST
						}
					}
					NOT = {
						OR = {
							is_in_faction_with = CZE
							has_war_with = GER
						}
					}
				}
			}
		}
		if = {
			limit = {
				is_in_faction_with = GER
				is_faction_leader = yes
			}
			remove_from_faction = GER
		}
		if = {
			limit = {
				is_in_faction_with = GER
				is_faction_leader = no
			}
			GER = { remove_from_faction = ENG }
		}
		if = {
			limit = {
				NOT = { has_completed_focus = ENG_no_further_appeasement }
			}
			add_political_power = -200
		}
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 }
				}
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				CZE = { is_in_faction = no }
			}
			random_country = {
				limit = {
					is_faction_leader = yes
					is_in_faction_with = ROOT #this may in fact be ROOT, since countries are in a faction with themselves!
				}
				add_to_faction = CZE
			}
		}
		if = {
			limit = {
				tag = HOL
			}
			CZE = {
				add_ai_strategy = {
					type = alliance
					id = "HOL"
					value = 200
				}
			}
		}
		if = {
			limit = {
				tag = HOL
			}
			CZE = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		if = {
			limit = {
				NOT = { tag = HOL }
				FRA = {
					NOT = { has_war_with = CZE }
				}
			}
			FRA = { country_event = germany.42 }
		}
		CZE = {
			add_opinion_modifier = { target = ROOT modifier = offered_support }
		}
	}
}

# France (Britain Backs Down)
country_event = {
	id = germany.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.41 FROM = [From.GetName]" }
	title = germany.40.t
	desc = germany.41.d
	picture = GFX_report_event_chamberlain_announce

	is_triggered_only = yes

	option = { # Follow Britain's lead
		name = germany.41.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = CZE
			}
			modifier = {
				factor = 0.3
				has_government = communism
				CZE = { has_government = communism }
			}
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
		}
		CZE = {
			country_event = germany.46
			add_opinion_modifier = { target = FRA modifier = western_betrayal }
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				is_faction_leader = yes
			}
			if = {
				limit = {
					NOT = {
						any_other_country = { #check if CZE and FRA are the only countries in this faction
							NOT = { original_tag = CZE }
							is_in_faction_with = ROOT
						}
					}
				}
				dismantle_faction = yes
			}
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				is_faction_leader = no
			}
			random_other_country = {
				limit = {
					is_in_faction_with = FRA
					is_faction_leader = yes
				}
				remove_from_faction = FRA
			}
		}
		if = {
			limit = {
				CZE = { is_guaranteed_by = FRA }
			}
			FRA = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = protect
					id = "CZE"
					value = -100
				}
			}
		}
		if = {
			limit = {
				YUG = { is_guaranteed_by = FRA }
			}
			FRA = {
				diplomatic_relation = {
   					country = YUG
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = protect
					id = "YUG"
					value = -100
				}
			}
			YUG = {
				add_opinion_modifier = { target = FRA modifier = western_betrayal }
			}
		}
	}
	option = { # Support the Czechs alone
		name = germany.41.b
		trigger = { is_puppet = no }
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					is_in_faction_with = CZE
				}
			}
			modifier = {
				factor = 6
				has_government = communism
				CZE = { has_government = communism }
			}
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				has_completed_focus = FRA_strengthen_the_little_entente
			}
			add_political_power = -100
		}
		if = {
			limit = {
				OR = {
					NOT = { has_completed_focus = FRA_strengthen_the_little_entente }
					NOT = { is_in_faction_with = CZE }
				}
			}
			add_political_power = -200
		}
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		CZE = {
			country_event = germany.45
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = germany.48
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 }
				}
			}
		}
		if = {
			limit = { is_in_faction_with = ENG }
			ENG = {
				country_event = germany.43
				if = {
					limit = {
						is_faction_leader = yes
					}
					remove_from_faction = FRA
					else = {
						FRA = { remove_from_faction = ENG }
					}
				}
			}
		}
		if = {
			limit = { is_in_faction_with = GER }
			if = {
				limit = { GER = { is_faction_leader = yes } }
				GER = {
					remove_from_faction = FRA
				}
				else = {
					remove_from_faction = GER
				}
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = yes
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = GER }
				NOT = { is_in_faction_with = CZE }
				CZE = { is_in_faction = no }
			}
			add_to_faction = CZE
			CZE = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = {
				OR = {
					is_in_faction = no
					AND = {
						is_faction_leader = no
						is_in_faction_with = ENG
					}
					is_in_faction_with = GER
				}
				CZE = { is_in_faction = no }
			}
			create_faction = "french_alliance"
			set_rule = { can_create_factions = yes }
			add_to_faction = CZE
			CZE = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = {
				is_in_faction = no
				CZE = {
					is_faction_leader = yes
					has_completed_focus = CZE_an_entente_of_our_own
				}
			}
			CZE = { add_to_faction = FRA }
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "CZE"
					value = 200
				}
			}
		}
		if = {
			limit = { NOT = { has_completed_focus = FRA_strengthen_the_little_entente } }
			add_stability = 0.05
		}
	}
}

# France (Britain Supports the Czechs)
country_event = {
	id = germany.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.42 FROM = [From.GetName]" }
	title = germany.40.t
	desc = germany.42.d
	picture = GFX_report_event_czech_soldiers_01

	is_triggered_only = yes

	#Support
	option = {
		name = germany.42.a
		trigger = {
			is_subject = no
		}
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = CZE }
				NOT = { has_guaranteed = CZE }
			}
			give_guarantee = CZE
		}
		if = {
			limit = {
				is_in_faction = no
			}
			ENG = { add_to_faction = FRA }
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				has_completed_focus = FRA_strengthen_the_little_entente
				is_faction_leader = yes
				NOT = { is_in_faction_with = ENG }
			}
			add_to_faction = ENG #Britain joins the little entente
			every_other_country = {
				limit = { is_subject_of = ENG }
				ROOT = { add_to_faction = PREV }
			}
		}
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		CZE = {
			country_event = germany.44
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = germany.47
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 }
				}
			}
		}
	}

	#Abandon
	option = {
		name = germany.42.b
		trigger = {
			NOT = { is_in_faction_with = ENG }
			NOT = { is_in_faction_with = CZE }
		}
		ai_chance = {
			factor = 10
			modifier = {
				has_global_flag = GER_has_started_war
				NOT = { is_in_faction_with = GER } #FRA doesn't care if in faction
				factor = 0
			}
		}
		if = {
			limit = {
				CZE = { is_guaranteed_by = FRA }
			}
			FRA = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = protect
					id = "CZE"
					value = -100
				}
			}
		}
		if = {
			limit = {
				YUG = { is_guaranteed_by = FRA }
			}
			FRA = {
				diplomatic_relation = {
   					country = YUG
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = protect
					id = "YUG"
					value = -100
				}
			}
			YUG = {
				add_opinion_modifier = { target = FRA modifier = western_betrayal }
			}
		}
		CZE = {
			country_event = germany.44
			add_opinion_modifier = { target = FRA modifier = western_betrayal }
		}
		GER = {
			country_event = germany.47
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 }
				}
			}
		}
	}
}

# France leaves the Allies
country_event = {
	id = germany.43
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.43 FROM = [From.GetName]" }
	title = germany.43.t
	desc = germany.43.d
	picture = GFX_report_event_french_british_officers

	is_triggered_only = yes

	option = {
		name = germany.43.a
		FRA = {
			add_opinion_modifier = { target = ENG modifier = abandoned_czechs }
		}
	}
}

# Czechoslovakia (British and (possibly) French Support)
country_event = {
	id = germany.44
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.44 FROM = [From.GetName]" }
	title = germany.40.t
	desc = germany.44.d
	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.44.a
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 }
				}
			}
		}
	}
}

# Czechoslovakia (French Support)
country_event = {
	id = germany.45
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.45 FROM = [From.GetName]" }
	title = germany.40.t
	desc = germany.45.d
	picture = GFX_report_event_chamberlain_announce

	is_triggered_only = yes

	option = {
		name = germany.45.a
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 }
				}
			}
		}
	}
}

# Czechoslovakia (Abandoned)
country_event = {
	id = germany.46
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.46 FROM = [From.GetName]" }
	title = germany.46.t
	desc = germany.46.d
	picture = GFX_report_event_czech_soldiers_01

	is_triggered_only = yes

	option = { # Surrender the Sudetenland
		name = germany.46.a
		ai_chance = {
			factor = 90
			modifier = { # Decrease chance CZE resists if AUS isn't taken first
				AUS = { exists = yes }
				factor = 0.5
			}
			modifier = { # If they stand a chance they will fight
				factor = 0
				strength_ratio = {
					tag = GER
					ratio > 0.75
				}
				NOT = {
					any_neighbor_country = {
						NOT = { tag = GER }
						is_in_faction_with = GER
					}
				}
			}
			modifier = {
				factor = 0 #if you lead a faction, fight
				is_faction_leader = yes
			}
			modifier = {
				factor = 0.5 #if you are in a faction, maybe fight
				is_faction_leader = no
				is_in_faction = yes
			}
			modifier = {
				factor = 0.05 #if you are in a faction with a major, probably fight
				is_faction_leader = no
				is_in_faction = yes
				any_allied_country = {
					is_major = yes
				}
			}
			modifier = {
				factor = 0
				is_puppet = yes
				NOT = { is_puppet_of = GER } #puppeted CZE wouldn't surrender Sudetenland otherwise
			}
			modifier = { # Increase it again if other bordering nations are in Axis
				any_neighbor_country = {
					NOT = { tag = GER }
					is_in_faction_with = GER
				}
				factor = 2.0
			}
		}
		GER = { country_event = germany.50 }
	}
	option = { # Refuse anyway
		name = germany.46.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.5
				strength_ratio = {
					tag = GER
					ratio < 0.5
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		GER = {
			add_opinion_modifier = { target = ROOT modifier = GER_demand_sudetenland_rejected }
			set_global_flag = CZE_refused_sudetenland
			country_event = germany.49
			effect_tooltip = {
				if = {
					limit = {
						CZE = {
							is_in_faction_with = GER
						}
					}
					GER = { remove_from_faction = CZE }
				}
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 504 499 1428 507 1977 }
				}
			}
		}
	}
}

# Germany (British and (possibly) French Support for Czechoslovakia)
country_event = {
	id = germany.47
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.47 FROM = [From.GetName]" }
	title = germany.40.t
	desc = germany.47.d
	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.47.a
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 504 499 1428 507 1977 }
		}
		add_state_claim = 69
		add_state_claim = 74
		hidden_effect = {
			news_event = { hours = 6 id = news.57 }
		}
		set_country_flag = allies_support_czechs
	}
}

# Germany (French Support for Czechoslovakia)
country_event = {
	id = germany.48
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.48 FROM = [From.GetName]" }
	title = germany.40.t
	desc = germany.48.d
	picture = GFX_report_event_chamberlain_announce

	is_triggered_only = yes

	option = {
		name = germany.48.a
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 504 499 1428 507 1977 }
		}
		add_state_claim = 69
		add_state_claim = 74
		hidden_effect = {
			country_event = { hours = 6 id = news.58 }
		}
	}
}

# Germany (Czechoslovakia Refuses Demands)
country_event = {
	id = germany.49
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.49 FROM = [From.GetName]" }
	title = germany.40.t
	desc = germany.49.d
	picture = GFX_report_event_czech_soldiers_02

	is_triggered_only = yes

	option = {
		name = germany.49.a
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 504 499 1428 507 1977 }
		}
		custom_effect_tooltip = mer_GER_claim_all_of_sudetenland
		hidden_effect = {
			add_state_claim = 1433
			add_state_claim = 1432
			add_state_claim = 1431
			add_state_claim = 1430
			add_state_claim = 522
			add_state_claim = 498
			add_state_claim = 1434
			add_state_claim = 471
			add_state_claim = 473
			add_state_claim = 1435
			add_state_claim = 504
			add_state_claim = 499
			add_state_claim = 1428
			add_state_claim = 507
			add_state_claim = 1977
		}
		if = {
			limit = {
				CZE = {
					is_in_faction_with = GER
				}
			}
			GER = { remove_from_faction = CZE }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.59 }
		}
	}
}

# Germany (Czechoslovakia Surrenders Sudetenland)
country_event = {
	id = germany.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.50 FROM = [From.GetName]" }
	title = germany.40.t
	desc = germany.50.d
	picture = GFX_report_event_german_politician_speech

	is_triggered_only = yes

	option = {
		name = germany.50.a
		custom_effect_tooltip = mer_GER_core_all_of_sudetenland
		custom_effect_tooltip = mer_GER_transfer_all_of_sudetenland
		hidden_effect = {
			add_state_core = 1433
			add_state_core = 1432
			add_state_core = 1431
			add_state_core = 1430
			add_state_core = 522
			add_state_core = 498
			add_state_core = 1434
			add_state_core = 471
			add_state_core = 473
			add_state_core = 1435
			add_state_core = 504
			add_state_core = 499
			add_state_core = 1428
			add_state_core = 507
			add_state_core = 1977
			transfer_state = 1433
			transfer_state = 1432
			transfer_state = 1431
			transfer_state = 1430
			transfer_state = 522
			transfer_state = 498
			transfer_state = 1434
			transfer_state = 471
			transfer_state = 473
			transfer_state = 1435
			transfer_state = 504
			transfer_state = 499
			transfer_state = 1428
			transfer_state = 507
			transfer_state = 1977
		}
		set_country_flag = sudetenland_acquired
		add_war_support = 0.1
		add_stability = 0.05
		play_peace_in_our_time_effect = yes
		USA = {
			set_country_flag = { flag = USA_munich_window days = 60 value = 1 }
		}
		if = {
			limit = {
				OR = {
					1975 = { is_owned_by = POL }
					2329 = { is_owned_by = POL }
				}
				NOT = {
					526 = { is_owned_by = POL }
				}
			}
			POL = {
				country_event = { hours = 6 id = germany.52 }
			}
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.56 }
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
					country_exists = YUG
					YUG = { has_war = no }
					ENG = { NOT = { has_war_with = YUG } }
					ENG = { has_government = democratic }
				}
				ENG = {
					country_event = {
						id = DOD_yugoslavia.42
						days = 3
					}
				}
			}
		}
	}
}

# Hungary (First Vienna Award)
country_event = {
	id = germany.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.51 FROM = [From.GetName]" }
	title = germany.51.t
	desc = germany.51.d
	picture = GFX_report_event_vienna_award_negotiations

	is_triggered_only = yes

	option = {
		name = germany.51.a
		HUN = {
			custom_effect_tooltip = mer_first_vienna_award_transfer_southern_slovakia
			hidden_effect = {
				transfer_state = 610
				transfer_state = 580
				transfer_state = 1439
				transfer_state = 1438
				transfer_state = 1442
				transfer_state = 2930
				transfer_state = 593
				transfer_state = 2246
			}
		}
	}
}

# Poland (Zaolzie)
country_event = {
	id = germany.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.52 FROM = [From.GetName]" }
	title = germany.52.t
	desc = germany.52.d
	picture = GFX_report_event_polish_tanks_01

	is_triggered_only = yes

	option = {
		name = germany.52.a
		526 = { add_core_of = POL }
		POL = { transfer_state = 526 }
	}
}

# Czechoslovakia (The Fate of Czechoslovakia)
country_event = {
	id = germany.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.53 FROM = [From.GetName]" }
	title = germany.53.t
	desc = germany.53.d
	picture = GFX_report_event_german_politician_speech

	is_triggered_only = yes

	option = { # Agree
		name = germany.53.a
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					is_in_faction_with = ENG
					is_in_faction_with = FRA
					is_puppet = yes
					GER = {
						AND = {
							has_war_with = ENG
							has_war_with = FRA
						}
					}
					GER = {
						AND = {
							has_war_with = SOV
							OR = {
								has_war_with = ENG
								has_war_with = FRA
							}
						}
					}
				}
			}
			modifier = {
				factor = 0.5
				GER = {
					OR = {
						AND = {
							has_war_with = ENG
							NOT = {
								has_war_with = FRA
							}
						}
						AND = {
							has_war_with = FRA
							NOT = {
								has_war_with = ENG
							}
						}
					}
				}
			}
		}
		GER = { country_event = germany.55 }
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.1
				send_embargo = GER
			}
			UAE = {
				send_embargo = GER
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.1
				send_embargo = GER
			}
		}
		if = {
			limit = {
				USA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			USA = {
				send_embargo = GER
			}
		}
		if = {
			limit = {
				has_DLC = "Death or Dishonor"
				country_exists = YUG
				YUG = { has_war = no }
			}
			GER = {
				country_event = {
					id = DOD_yugoslavia.32
					hours = 6
				}
			}
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = { # Refuse
		name = germany.53.b
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = FRA }
				is_puppet = no
				NOT = {
					GER = {
						has_war_with = ENG
						has_war_with = FRA
					}
				}
				NOT = {
					GER = {
						has_war_with = SOV
						OR = {
							has_war_with = ENG
							has_war_with = FRA
						}
					}
				}
			}
			modifier = {
				factor = 0.5
				GER = {
					OR = {
						AND = {
							has_war_with = ENG
							NOT = {
								has_war_with = FRA
							}
						}
						AND = {
							has_war_with = FRA
							NOT = {
								has_war_with = ENG
							}
						}
					}
				}
			}
		}
		GER = {
			country_event = { id = germany.54 days = 1 }
		}
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.1
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.1
			}
		}
	}
}

# The Czechs Resist
country_event = {
	id = germany.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.54 FROM = [From.GetName]" }
	title = germany.54.t
	desc = germany.54.d
	picture = GFX_report_event_czech_soldiers_01

	is_triggered_only = yes

	option = {
		name = germany.54.a
		custom_effect_tooltip = mer_GER_claim_bohemia_and_moravia
		hidden_effect = {
			#bohemia
			if = {
				limit = {
					1425 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 1425
			}
			if = {
				limit = {
					539 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 539
			}
			if = {
				limit = {
					523 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 523
			}
			if = {
				limit = {
					1426 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 1426
			}
			if = {
				limit = {
					489 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 489
			}
			if = {
				limit = {
					513 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 513
			}
			if = {
				limit = {
					1427 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 1427
			}
			if = {
				limit = {
					529 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 529
			}
			if = {
				limit = {
					514 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 514
			}
			if = {
				limit = {
					486 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 486
			}
			#moravia
			if = {
				limit = {
					535 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 535
			}
			if = {
				limit = {
					536 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 536
			}
			if = {
				limit = {
					532 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 532
			}
			if = {
				limit = {
					528 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 528
			}
			if = {
				limit = {
					1429 = {
						is_owned_and_controlled_by = CZE
					}
				}
				add_state_claim = 1429
			}
		}
		create_wargoal = {
			type = annex_everything
			target = CZE
		}
	}
}

# The Fate of Czechoslovakia
country_event = {
	id = germany.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.55 FROM = [From.GetName]" }
	title = germany.53.t
	desc = {
		text = germany.55.d
		trigger = { has_global_flag = end_of_czechoslovakia }
	}
	desc = {
		text = germany.55.d_2
		trigger = { NOT = { has_global_flag = end_of_czechoslovakia } }
	}
	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.55.a
		ai_chance = { factor = 80 }
		custom_effect_tooltip = mer_release_slovakia
		hidden_effect = {
			if = {
				limit = {
					1437 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 1437 }
			}
			if = {
				limit = {
					591 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 591 }
			}
			if = {
				limit = {
					555 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 555 }
			}
			if = {
				limit = {
					2662 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2662 }
			}
			if = {
				limit = {
					586 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 586 }
			}
			if = {
				limit = {
					2663 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2663 }
			}
			if = {
				limit = {
					577 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 577 }
			}
			if = {
				limit = {
					541 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 541 }
			}
			if = {
				limit = {
					574 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 574 }
			}
			if = {
				limit = {
					2660 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2660 }
			}
			if = {
				limit = {
					2661 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2661 }
			}
			if = {
				limit = {
					569 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 569 }
			}
			if = {
				limit = {
					550 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 550 }
			}
			if = {
				limit = {
					2313 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2313 }
			}
			if = {
				limit = {
					562 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 562 }
			}
		}
		if = {
			limit = {
				593 = { is_owned_by = HUN }
				HUN = {
					is_friend_or_potential_friend_of_GER = yes
				}
				AND = {
					2929 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
					1607 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
					1608 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
					2247 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
					564 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				country_exists = HUN
			}
			HUN = {
				custom_effect_tooltip = mer_transfer_transcarpathia
				hidden_effect = {
					transfer_state = 2929
					transfer_state = 1607
					transfer_state = 1608
					transfer_state = 2247
					transfer_state = 564
				}
			}
		}


		if = {
			limit = {
				OR = {
					NOT = { 593 = { is_owned_by = HUN } }
					HUN = { is_friend_or_potential_friend_of_GER = no }
				}
				AND = {
					2929 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
					1607 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
					1608 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
					2247 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
					564 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
			}
			SLO = {
				custom_effect_tooltip = mer_transfer_transcarpathia
				hidden_effect = {
					transfer_state = 2929
					transfer_state = 1607
					transfer_state = 1608
					transfer_state = 2247
					transfer_state = 564
				}
			}
		}

		if = {
			limit = {
				610 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				580 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				1439 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				1438 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				1442 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				2930 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				593 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				2246 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = {
				custom_effect_tooltip = mer_first_vienna_award_transfer_southern_slovakia
				hidden_effect = {
					transfer_state = 610
					transfer_state = 580
					transfer_state = 1439
					transfer_state = 1438
					transfer_state = 1442
					transfer_state = 2930
					transfer_state = 593
					transfer_state = 2246
				}
			}
		}
		if = {
			limit = { country_exists = CZE }
			SLO = {
				inherit_technology = CZE
			}
			annex_country = { target = CZE }
			add_war_support = 0.1
		}
		puppet = SLO
		every_state = {
			limit = {
				is_core_of = CZE
				is_controlled_by = ROOT
			}
			set_compliance = 50
		}
		if = {
			limit = {
				526 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				country_exists = POL
			}
			POL = { transfer_state = 526 } # Give Poland Zaolzie
		}

		every_state = {
			limit = {
				is_core_of = CZE
				NOT = { is_core_of = SLO }
				NOT = { state = 526 }
			}
			add_claim_by = GER
		}

		if = {
			limit = { has_global_flag = GER_HUN_CZE_split }
			HUN = { country_event = DOD_hungary.106 }
		}

		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes

		hidden_effect = {
			country_event = { hours = 6 id = news.60 }
			every_state = {
				limit = {
					is_owned_by = SLO
				}
				add_core_of = SLO
			}
			SLO = {
				load_oob = SLO_1939
				add_manpower = 9876
			}
		}
	}
	option = {
		name = germany.55.b
		add_political_power = -20
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		trigger = {
			664 = { is_owned_by = HUN }
			HUN = {
				is_friend_or_potential_friend_of_GER = yes
			}
			NOT = { has_global_flag = GER_HUN_CZE_split }
		}
		HUN = { country_event = germany.56 }
		add_war_support = 0.1
		if = {
			limit = {
				526 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				country_exists = POL
			}
			POL = { transfer_state = 526 } # Give Poland Zaolzie
		}
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
	}
	option = {
		name = germany.55.c
		add_political_power = -50
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		if = {
			limit = { country_exists = CZE }
			annex_country = { target = CZE }
			add_war_support = 0.1
		}
		if = {
			limit = { has_global_flag = GER_HUN_CZE_split }
			HUN = { country_event = DOD_hungary.106 }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.62 }
		}
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
	}

	option = {
		name = germany.55.do
		trigger = {
			has_global_flag = GER_HUN_CZE_split #promised Hungary Slovakia in earlier event
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10
				is_in_faction_with = HUN
			}
		}
		HUN = { country_event = DOD_hungary.101 }
		add_war_support = 0.1
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
	}
}

# Hungary asked to partition Czechoslovakia
country_event = {
	id = germany.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.56 FROM = [From.GetName]" }
	title = germany.56.t
	desc = {
		text = germany.56.d
		trigger = { has_global_flag = end_of_czechoslovakia }
	}
	desc = {
		text = germany.56.d_2
		trigger = { NOT = { has_global_flag = end_of_czechoslovakia } }
	}
	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.56.a
		ai_chance = { factor = 100 }
		custom_effect_tooltip = mer_transfer_slovakia
		custom_effect_tooltip = mer_transfer_transcarpathia
		hidden_effect = {
			transfer_state = 1437
			transfer_state = 591
			transfer_state = 555
			transfer_state = 2662
			transfer_state = 586
			transfer_state = 2663
			transfer_state = 577
			transfer_state = 541
			transfer_state = 574
			transfer_state = 2660
			transfer_state = 2661
			transfer_state = 569
			transfer_state = 550
			transfer_state = 2313
			transfer_state = 562
			transfer_state = 2929
			transfer_state = 1607
			transfer_state = 1608
			transfer_state = 2247
			transfer_state = 564
		}
		hidden_effect = {
			GER = {
				annex_country = { target = CZE }
				add_to_faction = HUN
			}
			HUN = {
				add_ai_strategy = {
					type = alliance
					id = "GER"
					value = 200
				}
			}
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.61 }
		}
	}
	option = {
		name = germany.56.b
		ai_chance = { factor = 0 }
		trigger = {
			NOT = { is_puppet_of = GER }
		}
		GER = {
			country_event = { hours = 6 id = germany.57 }
		}
	}
}

# Hungary refuses partition!
country_event = {
	id = germany.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.57 FROM = [From.GetName]" }
	title = germany.57.t
	desc = germany.57.d
	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.57.a
		add_political_power = -20
		ai_chance = { factor = 60 }
		custom_effect_tooltip = mer_release_slovakia
		hidden_effect = {
			if = {
				limit = {
					1437 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 1437 }
			}
			if = {
				limit = {
					591 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 591 }
			}
			if = {
				limit = {
					555 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 555 }
			}
			if = {
				limit = {
					2662 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2662 }
			}
			if = {
				limit = {
					586 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 586 }
			}
			if = {
				limit = {
					2663 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2663 }
			}
			if = {
				limit = {
					577 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 577 }
			}
			if = {
				limit = {
					541 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 541 }
			}
			if = {
				limit = {
					574 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 574 }
			}
			if = {
				limit = {
					2660 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2660 }
			}
			if = {
				limit = {
					2661 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2661 }
			}
			if = {
				limit = {
					569 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 569 }
			}
			if = {
				limit = {
					550 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 550 }
			}
			if = {
				limit = {
					2313 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = { transfer_state = 2313 }
			}
		}
		if = {
			limit = {
				1442 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = {
				custom_effect_tooltip = mer_first_vienna_award_transfer_southern_slovakia
				hidden_effect = {
					transfer_state = 610
					transfer_state = 580
					transfer_state = 1439
					transfer_state = 1438
					transfer_state = 1442
					transfer_state = 2930
					transfer_state = 593
					transfer_state = 2246
				}
			}
		}
		if = {
			limit = {
				564 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = {
				custom_effect_tooltip = mer_transfer_transcarpathia
				hidden_effect = {
					transfer_state = 562
					transfer_state = 2929
					transfer_state = 1607
					transfer_state = 1608
					transfer_state = 2247
					transfer_state = 564
				}
			}
		}
		if = {
			limit = { country_exists = CZE }
			annex_country = { target = CZE }
		}
		add_to_faction = SLO
		SLO = {
			add_ai_strategy = {
				type = alliance
				id = "GER"
				value = 200
			}
		}
		if = {
			limit = {
				526 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			POL = { transfer_state = 526 } # Give Poland Zaolzie
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.60 }
		}
	}
	option = {
		name = germany.57.b
		add_political_power = -40
		ai_chance = { factor = 40 }
		if = {
			limit = { country_exists = CZE }
			annex_country = { target = CZE }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.62 }
		}
	}
}

# Polish Question Completed
country_event = {
	id = germany.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.58 FROM = [From.GetName]" }
	title = germany.58.t
	desc = germany.58.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = germany.58.a
		add_political_power = 150
	}

}

### Remilitarization of the Rhineland

# French Response
country_event = {
	id = germany.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.60 FROM = [From.GetName]" }
	title = germany.60.t
	desc = germany.60.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = { # This means war!
		name = germany.60.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 20
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
				NOT = { has_idea = FRA_disjointed_government }
			}

			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_political_power = -150
		add_stability = -0.1
		if = {
			limit = {
				ENG = {
					is_puppet = no
					NOT = { has_war_with = FRA }
				}
			}
			ENG = {
				country_event = germany.61
				custom_effect_tooltip = needs_approval
				effect_tooltip = { add_to_faction = FRA }
			}
		}
		if = {
			limit = {
				has_idea = FRA_disjointed_government
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = { #you're not getting around that, comrade
			limit = {
				has_idea = FRA_disjointed_government
				has_government = communism
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}

	option = { # Diplomatic response
		name = germany.60.b
		ai_chance = {
			factor = 99
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
		}
		ENG = { country_event = germany.62 }
		add_opinion_modifier = { target = GER modifier = protest_action }
	}
}

# British Response (French Press for War)
country_event = {
	id = germany.61
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.61 FROM = [From.GetName]" }
	title = germany.60.t
	desc = germany.61.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = { # War out of the question
		name = germany.61.a
		ai_chance = {
			factor = 90
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = ENG_ai_behavior
						option = DEMOCRATIC_ALTERNATE
					}
					has_game_rule = {
						rule = ENG_ai_behavior
						option = FASCIST
					}
				}
			}
		}
		FRA = {
			country_event = { hours = 6 id = germany.63 }
		}
	}
	option = { # Support France
		name = germany.61.b
		trigger = {
			NOT = { has_completed_focus = ENG_a_change_in_course }
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = ENG_ai_behavior
					option = NEUTRALITY
				}
			}
		}
		add_political_power = -150
		add_stability = -0.2
		add_popularity = {
			ideology = communism
			popularity = 0.25
		}
		if = {
			limit = {
				FRA = { is_faction_leader = yes }
			}
			every_other_country = {
				limit = { is_in_faction_with = FRA NOT = { has_war_with = ENG } }
				ENG = { add_to_faction = PREV }
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		if = {
			limit = { FRA = { is_in_faction = no } }
			add_to_faction = FRA
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		FRA = {
			country_event = { hours = 6 id = germany.64 }
		}
	}
}

# British Response (French Want Peace)
country_event = {
	id = germany.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.62 FROM = [From.GetName]" }
	title = germany.60.t
	desc = germany.62.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = germany.62.a
		trigger = {
			NOT = { has_completed_focus = ENG_a_change_in_course }
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.25 }
		}
		add_opinion_modifier = { target = GER modifier = protest_action }
		GER = {
			add_war_support = 0.1
		}
	}

	option = {
		name = germany.62.b
		trigger = {
			has_completed_focus = ENG_a_change_in_course
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.25 }
		}
	}

}

# France (Britain Refuses Support)
country_event = {
	id = germany.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.63 FROM = [From.GetName]" }
	title = germany.63.t
	desc = germany.63.d
	picture = GFX_report_event_chamberlain_announce

	is_triggered_only = yes

	option = { # Push Ahead
		name = germany.63.a
		ai_chance = {
			factor = 60
			modifier = {
				factor = 3
				strength_ratio = {
					tag = GER
					ratio > 1.0
				}
				NOT = { has_idea = FRA_disjointed_government }
			}
			modifier = {
				factor = 0
				has_idea = FRA_disjointed_government
			}
		}
		GER = { country_event = germany.66 }
		if = {
			limit = {
				has_idea = FRA_disjointed_government
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = {
			limit = {
				has_idea = FRA_disjointed_government
				has_government = communism
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}
	option = { # Back Down
		name = germany.63.b
		ai_chance = { factor = 40 }
		ENG = { country_event = germany.67 }
		add_opinion_modifier = { target = GER modifier = protest_action }
	}
}

# France (Britain Gives Support)
country_event = {
	id = germany.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.64 FROM = [From.GetName]" }
	title = germany.64.t
	desc = germany.64.d
	picture = GFX_report_event_british_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.64.a
		GER = { country_event = germany.65 }
		if = {
			limit = {
				has_idea = FRA_disjointed_government
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = {
			limit = {
				has_idea = FRA_disjointed_government
				has_government = communism
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}
}

# Germany (France and Britain go to war)
country_event = {
	id = germany.65
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.65 FROM = [From.GetName]" }
	title = germany.65.t
	desc = germany.65.d
	picture = GFX_report_event_british_artillery

	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio < 1
				}
				strength_ratio = {
					tag = ENG
					ratio < 1
				}
			}
		}
		name = germany.65.a
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 42 51 }
			}
			country_event = germany.92
			if = {
				limit = {
					has_idea = FRA_disjointed_government
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = {
					has_idea = FRA_disjointed_government
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.26 }
		}
	}
	option = {
		name = germany.65.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio > 1
				}
				strength_ratio = {
					tag = ENG
					ratio > 1
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.151 }
		}
		set_country_flag = GER_rhineland_backed_down
		custom_effect_tooltip = mer_GER_rhineland_demilitarized_states_tt
		hidden_effect = { 
			1763 = { set_demilitarized_zone = yes }
			589 = { set_demilitarized_zone = yes }
			1766 = { set_demilitarized_zone = yes }
			1764 = { set_demilitarized_zone = yes }
			2583 = { set_demilitarized_zone = yes }
			556 = { set_demilitarized_zone = yes }
			1765 = { set_demilitarized_zone = yes }
			1747 = { set_demilitarized_zone = yes }
			516 = { set_demilitarized_zone = yes }
			1744 = { set_demilitarized_zone = yes }
			1746 = { set_demilitarized_zone = yes }
			2580 = { set_demilitarized_zone = yes }
			474 = { set_demilitarized_zone = yes }
			1745 = { set_demilitarized_zone = yes }
			483 = { set_demilitarized_zone = yes }
			475 = { set_demilitarized_zone = yes }
			465 = { set_demilitarized_zone = yes }
			431 = { set_demilitarized_zone = yes }
			2584 = { set_demilitarized_zone = yes }
			1749 = { set_demilitarized_zone = yes }
			424 = { set_demilitarized_zone = yes }
			1730 = { set_demilitarized_zone = yes }
			1748 = { set_demilitarized_zone = yes }
			423 = { set_demilitarized_zone = yes }
			1750 = { set_demilitarized_zone = yes }
			2718 = { set_demilitarized_zone = yes }
			2338 = { set_demilitarized_zone = yes }
			1751 = { set_demilitarized_zone = yes }
			460 = { set_demilitarized_zone = yes }
			2339 = { set_demilitarized_zone = yes }
			477 = { set_demilitarized_zone = yes }
			469 = { set_demilitarized_zone = yes }
			503 = { set_demilitarized_zone = yes }
			1752 = { set_demilitarized_zone = yes }
			488 = { set_demilitarized_zone = yes }
			1753 = { set_demilitarized_zone = yes }
			2337 = { set_demilitarized_zone = yes }
			537 = { set_demilitarized_zone = yes }
			2343 = { set_demilitarized_zone = yes }
			1758 = { set_demilitarized_zone = yes }
			1760 = { set_demilitarized_zone = yes }
			506 = { set_demilitarized_zone = yes }
			1756 = { set_demilitarized_zone = yes }
			521 = { set_demilitarized_zone = yes }
			1757 = { set_demilitarized_zone = yes }
			524 = { set_demilitarized_zone = yes }
			2340 = { set_demilitarized_zone = yes }
		}
		add_timed_idea = {
			idea = rhineland_challenge_met
			days = 183
		}
	}
}

# Germany (France goes to war)
country_event = {
	id = germany.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.66 FROM = [From.GetName]" }
	title = germany.66.t
	desc = germany.66.d
	picture = GFX_report_event_degaulle_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.65.a
		add_war_support = 0.1 #original German clay
		ENG = {
			country_event = germany.68
			if = {
				limit = {
					ENG = {
						is_in_faction_with = FRA
						is_faction_leader = yes
					}
				}
				remove_from_faction = FRA
			}
		}
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 537 }
			}
			country_event = germany.92
			if = {
				limit = {
					has_idea = FRA_disjointed_government
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = {
					has_idea = FRA_disjointed_government
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.27 }
		}
	}

	option = {
		name = germany.65.b
		hidden_effect = {
			news_event = { hours = 6 id = news.152 }
		}
		set_country_flag = GER_rhineland_backed_down
		add_war_support = -0.2 #That was scary for a moment there!
		custom_effect_tooltip = mer_GER_rhineland_demilitarized_states_tt
		hidden_effect = { 
			1763 = { set_demilitarized_zone = yes }
			589 = { set_demilitarized_zone = yes }
			1766 = { set_demilitarized_zone = yes }
			1764 = { set_demilitarized_zone = yes }
			2583 = { set_demilitarized_zone = yes }
			556 = { set_demilitarized_zone = yes }
			1765 = { set_demilitarized_zone = yes }
			1747 = { set_demilitarized_zone = yes }
			516 = { set_demilitarized_zone = yes }
			1744 = { set_demilitarized_zone = yes }
			1746 = { set_demilitarized_zone = yes }
			2580 = { set_demilitarized_zone = yes }
			474 = { set_demilitarized_zone = yes }
			1745 = { set_demilitarized_zone = yes }
			483 = { set_demilitarized_zone = yes }
			475 = { set_demilitarized_zone = yes }
			465 = { set_demilitarized_zone = yes }
			431 = { set_demilitarized_zone = yes }
			2584 = { set_demilitarized_zone = yes }
			1749 = { set_demilitarized_zone = yes }
			424 = { set_demilitarized_zone = yes }
			1730 = { set_demilitarized_zone = yes }
			1748 = { set_demilitarized_zone = yes }
			423 = { set_demilitarized_zone = yes }
			1750 = { set_demilitarized_zone = yes }
			2718 = { set_demilitarized_zone = yes }
			2338 = { set_demilitarized_zone = yes }
			1751 = { set_demilitarized_zone = yes }
			460 = { set_demilitarized_zone = yes }
			2339 = { set_demilitarized_zone = yes }
			477 = { set_demilitarized_zone = yes }
			469 = { set_demilitarized_zone = yes }
			503 = { set_demilitarized_zone = yes }
			1752 = { set_demilitarized_zone = yes }
			488 = { set_demilitarized_zone = yes }
			1753 = { set_demilitarized_zone = yes }
			2337 = { set_demilitarized_zone = yes }
			537 = { set_demilitarized_zone = yes }
			2343 = { set_demilitarized_zone = yes }
			1758 = { set_demilitarized_zone = yes }
			1760 = { set_demilitarized_zone = yes }
			506 = { set_demilitarized_zone = yes }
			1756 = { set_demilitarized_zone = yes }
			521 = { set_demilitarized_zone = yes }
			1757 = { set_demilitarized_zone = yes }
			524 = { set_demilitarized_zone = yes }
			2340 = { set_demilitarized_zone = yes }
		}
		add_timed_idea = {
			idea = rhineland_challenge_met
			days = 183
		}
	}
}

# Britain (France Backs Down)
country_event = {
	id = germany.67
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.67 FROM = [From.GetName]" }
	title = germany.67.t
	desc = germany.67.d
	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.67.a
		hidden_effect = {
			news_event = { hours = 6 id = news.25 }
		}
		add_opinion_modifier = { target = GER modifier = protest_action }
		GER = {
			add_war_support = 0.1
		}
	}
}

# Britain (France Goes Ahead Anyway)
country_event = {
	id = germany.68
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.68 FROM = [From.GetName]" }
	title = germany.68.t
	desc = germany.68.d
	picture = GFX_report_event_french_liberation

	is_triggered_only = yes

	option = {
		name = germany.68.a
	}
}

### Oster Conspiracy

# Conspiracy Begins!
country_event = {
	id = germany.70
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.70 FROM = [From.GetName]" }
	title = germany.70.t
	desc = germany.70.d
	picture = GFX_report_event_german_reichstag_gathering

	fire_only_once = yes

	trigger = {
		has_country_leader = { character = GER_adolf_hitler ruling_only = yes }
		tag = GER
		AND = {
			CZE = { has_capitulated = no }
			country_exists = CZE # Should only trigger if CZE hasn't fallen
		}
		has_war_with = CZE
		has_war_with = FRA
		has_war_with = ENG
		has_country_flag = allies_support_czechs
	}

	mean_time_to_happen = {
		days = 150
	}

	option = {
		name = germany.70.a
		add_stability = -0.2
		hidden_effect = {
			if = {
				limit = { NOT = { any_war_score < 39 } }
				random_list = {
					20 = { country_event = { hours = 6 id = germany.71 } } # Conspiracy defeated, but Hitler dead
					75 = { country_event = { hours = 6 id = germany.72 } } # Conspiracy defeated, Hitler survives
					5 = { country_event = { hours = 6 id = germany.73 } } # Conspiracy successful, Civil War
				}
			}
			if = {
				limit = { any_war_score < 39 }
				random_list = {
					33 = { country_event = { hours = 6 id = germany.71 } } # Conspiracy defeated, but Hitler dead
					33 = { country_event = { hours = 6 id = germany.72 } } # Conspiracy defeated, Hitler survives
					33 = { country_event = { hours = 6 id = germany.73 } } # Conspiracy successful, Civil War
				}
			}
		}
	}
}

# Conspiracy defeated, but Hitler is dead
country_event = {
	id = germany.71
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.71 FROM = [From.GetName]" }
	title = germany.71.t
	desc = germany.71.d
	picture = GFX_report_event_europe_funeral

	is_triggered_only = yes

	option = { # Himmler
		name = germany.71.a
		# Himmler becomes the new Fascist leader of Germany
		kill_country_leader = yes
		add_stability = 0.05
		GER_heinrich_himmler = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = nazism
					expire = "1965.1.1.1"
					traits = {}
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.28 }
		}
	}
	option = { # Göring
		name = germany.71.b
		# Göring becomes the new Fascist leader of Germany
		kill_country_leader = yes
		add_stability = 0.1
		GER_hermann_goring = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = nazism
					expire = "1965.1.1.1"
					traits = {}
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.29 }
		}
	}
}

# Conspiracy defeated, Hitler survives
country_event = {
	id = germany.72
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.72 FROM = [From.GetName]" }
	title = germany.72.t
	desc = germany.72.d
	picture = GFX_report_event_hitler_parade

	is_triggered_only = yes

	option = {
		name = germany.72.a
		add_stability = 0.25
		hidden_effect = {
			news_event = { hours = 6 id = news.30 }
		}
	}
}

# Conspiracy successful, Civil War begins
country_event = {
	id = germany.73
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.73 FROM = [From.GetName]" }
	title = germany.73.t
	desc = germany.73.d
	picture = GFX_report_event_german_reichstag_bombed

	is_triggered_only = yes

	option = { # Side with the Rebels
		name = germany.73.a
		trigger = { is_ai = no }
		set_country_flag = german_rebels
		kill_country_leader = yes
		if = {
			limit =  {
				OR = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ruling_party = democratic
				ideology = fascism
				size = 0.5
			}
		}
		if = {
			limit =  {
				NOT = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ruling_party = democratic
				ideology = fascism
				size = 0.7
			}
		}
		GER_heinrich_himmler = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = nazism
					expire = "1965.1.1.1"
					traits = {}
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.31 }
		}
	}
	option = { # Side with Himmler
		name = germany.73.b
		# Himmler becomes the new Fascist leader of Germany
		kill_country_leader = yes
		GER_heinrich_himmler = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = nazism
					expire = "1965.1.1.1"
					traits = {}
				}
			}
		}
		if = {
			limit =  {
				OR = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.5
			}
		}
		if = {
			limit =  {
				NOT = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.3
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.31 }
		}
	}
	option = { # Side with Göring
		name = germany.73.c
		# Göring becomes the new Fascist leader of Germany
		kill_country_leader = yes
		GER_hermann_goring = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = nazism
					expire = "1965.1.1.1"
					traits = {}
				}
			}
		}
		if = {
			limit =  {
				OR = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.5
			}
		}
		if = {
			limit =  {
				NOT = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.3
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.31 }
		}
	}
}

# Anschluss Preparations
country_event = {
	id = germany.74
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.74 FROM = [From.GetName]" }
	title = germany.74.t
	desc = germany.74.d
	picture = GFX_report_event_fascist_speech

	is_triggered_only = yes

	option = {
		name = germany.74.a
		#add_ideas = elyesa_bazna
	}
}

# German-Soviet Treaty (Soviets)
country_event = {
	id = germany.75
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.75 FROM = [From.GetName]" }
	title = germany.75.t
	desc = germany.75.d
	picture = GFX_report_event_physics_lab_01

	is_triggered_only = yes

	option = {
		name = germany.75.a	#sounds good
		GER = {
			country_event = { days = 1 id = germany.76 }
			add_opinion_modifier = {
				target = ROOT
				modifier = sov_ger_treaty
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = sov_ger_treaty_trade
			}
		}
		# REVISIT Balance research bonus
		give_SOV_armor_research_bonuses = yes
	}

	option = {
		name = germany.75.b	#no way
		add_timed_idea = { idea = SOV_scientist_defect days = 365 }
		ai_chance = { factor = 0 }
		add_political_power = -10
		add_opinion_modifier = { target = GER modifier = refused_MR_pact }# no pact
		GER = {
			country_event = { days = 1 id = germany.77 }
		}
	}
}

# Soviets Accept German-Soviet Treaty
country_event = {
	id = germany.76
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.76 FROM = [From.GetName]" }
	title = germany.76.t
	desc = germany.76.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes

	option = {
		name = germany.76.a	#bah
		# REVISIT Balance research bonus
		if = {
			limit = {
				NOT = {
					has_dlc = "No Step Back"
				}
			}
			add_tech_bonus = {
				name = med_armor_bonus
				ahead_reduction = 1
				category = cat_medium_armor
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 2
				category = armor
			}
		}
		else = { #NO STEP BACK EFFECTS
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 2
				category = armor
			}
			create_equipment_variant = {
				name = "Panzer III Ausf. A"
				type = medium_tank_chassis_1
				parent_version = 0
				modules = {
					main_armament_slot = tank_high_velocity_cannon
					turret_type_slot = tank_medium_three_man_tank_turret
					suspension_type_slot = tank_bogie_suspension
					armor_type_slot = tank_welded_armor
					engine_type_slot = tank_gasoline_engine
					special_type_slot_1 = tank_radio_1
					special_type_slot_2 = smoke_launchers
				}
				upgrades = {
					tank_nsb_engine_upgrade = 6
					tank_nsb_armor_upgrade = 3
				}
				icon = "GFX_GER_basic_medium_tank_medium"
			}
			create_equipment_variant = {
				name = "Panzer IV Ausf. D"
				type = medium_tank_chassis_1
				parent_version = 1
				modules = {
					main_armament_slot = tank_close_support_gun
					turret_type_slot = tank_medium_three_man_tank_turret
					suspension_type_slot = tank_bogie_suspension
					armor_type_slot = tank_welded_armor
					engine_type_slot = tank_gasoline_engine
					special_type_slot_1 = tank_radio_1
					special_type_slot_2 = smoke_launchers
				}
				upgrades = {
					tank_nsb_engine_upgrade = 6
					tank_nsb_armor_upgrade = 2
				}
				icon = "GFX_GER_basic_medium_tank_medium"
			}
		}
		SOV = {
			add_opinion_modifier = { target = GER modifier = sov_ger_treaty }
			add_opinion_modifier = { target = GER modifier = sov_ger_treaty_trade }
		}
	}
}

# Soviets Reject German-Soviet Treaty
country_event = {
	id = germany.77
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.77 FROM = [From.GetName]" }
	title = germany.77.t
	desc = germany.77.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes

	option = {
		name = germany.77.a
		#add_opinion_modifier = { target = SOV modifier = refused_MR_pact }# no pact
	}
}

# German Joint Air Research
country_event = {
	id = germany.78
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.78 FROM = [From.GetName]" }
	title = germany.78.t
	desc = germany.78.d
	picture = GFX_report_event_radar_01

	is_triggered_only = yes

	option = {
		name = germany.78.a
		add_ideas = GER_air_innovations_2_idea
		add_tech_bonus = {
				name = radar_tech_bonus
				bonus = 1.0
				uses = 1
				category = radar_tech
			}
	}
}

# Ultimatum from Germany (Turkey)
country_event = {
	id = germany.79
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.79 FROM = [From.GetName]" }
	title = germany.79.t
	desc = germany.79.d
	picture = GFX_report_event_german_turkish_pact

	is_triggered_only = yes

	option = {
		name = germany.79.a
		ai_chance = {
			factor = 70
			modifier = {
				NOT = { BUL = { is_in_faction_with = GER } }
				factor = 0.5
			}
		}
		GER = { puppet = TUR }
		SOV = {
			custom_effect_tooltip = mer_SOV_transfer_eastern_turkey
			hidden_effect = {
				transfer_state = 955
				transfer_state = 964
				transfer_state = 2268
				transfer_state = 975
				transfer_state = 958
				transfer_state = 2255
				transfer_state = 1027
				transfer_state = 984
				transfer_state = 973
				transfer_state = 949
				transfer_state = 2256
				transfer_state = 953
				transfer_state = 1958
				transfer_state = 1018
				transfer_state = 1013
				transfer_state = 1001
				transfer_state = 1004
				transfer_state = 1033
				transfer_state = 1051
				transfer_state = 1039
				transfer_state = 938
				transfer_state = 1961
				transfer_state = 965
				transfer_state = 971
				transfer_state = 933
				transfer_state = 925
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.201 }
		}
	}

	option = {
		name = germany.79.b
		ai_chance = {
			factor = 10
			modifier = {
				GER = { surrender_progress > 0.25 }
				factor = 5 #seems safe
			}
			modifier = {
				has_government = democratic
				factor = 5
			}
		}
		trigger = {
			TUR = {
				is_puppet = no
			}
			NOT = {
				has_war_with = ENG
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = TUR
				}
			}
			ENG = {
				is_faction_leader = yes
			}
		}
		ENG = { add_to_faction = TUR }
		TUR = {
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.217 }
		}
	}

	option = {
		name = germany.79.c
		ai_chance = {
			factor = 20
			modifier = {
				NOT = {
					has_government = fascism
				}
				factor = 5
			}
			modifier = {

				AND = {
					ENG = {
						has_capitulated = no
						has_war_with = GER
					}
					SOV = {
						has_capitulated = no
						has_war_with = GER
					}
					USA = {
						has_capitulated = no
						has_war_with = GER
					}
				}

				factor = 5 #lol come at me bro
			}
		}
		GER = {
			create_wargoal = {
				target = TUR
				type = puppet_wargoal_focus
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.216 }
		}
	}
}

# Danzig for Slovakia (Poland)
country_event = {
	id = germany.80
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.80 FROM = [From.GetName]" }
	title = germany.80.t
	desc = germany.80.d
	picture = GFX_report_event_german_polish_border

	is_triggered_only = yes

	option = {
		name = germany.80.a

		ai_chance = {
			factor = 10
		}

		GER = { country_event = { id = germany.81 days = 1 } }
		effect_tooltip = {
			custom_effect_tooltip = mer_transfer_slovakia
			if = {
				limit = {
					1442 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				SLO = {
					custom_effect_tooltip = mer_first_vienna_award_transfer_southern_slovakia
				}
			}
			if = {
				limit = {
					564 = {
						OR = {
							is_owned_by = CZE
							is_owned_by = GER
						}
					}
				}
				custom_effect_tooltip = mer_transfer_transcarpathia
			}
			280 = { transfer_state_to = GER } # danzig
			2729 = { transfer_state_to = GER } 
			custom_effect_tooltip = mer_GER_claims_on_danzig_corridor_tt
		}
	}

	option = {
		name = germany.80.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		GER = {
			country_event = { id = germany.82 days = 1 }
			if = {
				limit = {
					is_in_faction_with = POL
					is_faction_leader = yes
				}
				remove_from_faction = POL
			}
			if = {
				limit = {
					is_in_faction_with = POL
					is_faction_leader = no
				}
				random_other_country = {
					limit = {
						is_in_faction_with = GER
						is_faction_leader = yes
					}
					remove_from_faction = GER
				}
			}
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = POL
					generator = { 287 310 2567 546 2341 264 267 }
				}
			}
		}
	}
}

# Poland Accepts, Cedes Danzig
country_event = {
	id = germany.81
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.81 FROM = [From.GetName]" }
	title = germany.81.t
	desc = germany.81.d
	picture = GFX_report_event_german_polish_border

	is_triggered_only = yes

	option = {
		name = germany.81.a
		if = {
			limit = { SLO = { exists = yes } }
			POL = { annex_country = { target = SLO } }
		}
		custom_effect_tooltip = mer_release_slovakia
		hidden_effect = {
			if = {
				limit = {
					1437 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 1437 }
			}
			if = {
				limit = {
					591 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 591 }
			}
			if = {
				limit = {
					555 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 555 }
			}
			if = {
				limit = {
					2662 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 2662 }
			}
			if = {
				limit = {
					586 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 586 }
			}
			if = {
				limit = {
					2663 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 2663 }
			}
			if = {
				limit = {
					577 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 577 }
			}
			if = {
				limit = {
					541 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 541 }
			}
			if = {
				limit = {
					574 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 574 }
			}
			if = {
				limit = {
					2660 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 2660 }
			}
			if = {
				limit = {
					2661 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 2661 }
			}
			if = {
				limit = {
					569 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 569 }
			}
			if = {
				limit = {
					550 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 550 }
			}
			if = {
				limit = {
					2313 = {
						is_owned_by = GER
					}
				}
				POL = { transfer_state = 2313 }
			}
		}
		if = {
			limit = {
				1442 = {
					is_owned_by = GER
				}
			}
			POL = {
				custom_effect_tooltip = mer_first_vienna_award_transfer_southern_slovakia
				hidden_effect = {
					transfer_state = 610
					transfer_state = 580
					transfer_state = 1439
					transfer_state = 1438
					transfer_state = 1442
					transfer_state = 2930
					transfer_state = 593
					transfer_state = 2246
				}
			}
		}
		if = {
			limit = {
				564 = {
					is_owned_by = GER
				}
			}
			POL = {
				custom_effect_tooltip = mer_transfer_transcarpathia
				hidden_effect = {
					transfer_state = 562
					transfer_state = 2929
					transfer_state = 1607
					transfer_state = 1608
					transfer_state = 2247
					transfer_state = 564
				}
			}
		}
		280 = { transfer_state_to = GER } # danzig
		hidden_effect = { 2729 = { transfer_state_to = GER } } #other danzig state, tooltip unnecessary
		custom_effect_tooltip = mer_GER_claims_on_danzig_corridor_tt
		hidden_effect = {
			287 = { transfer_state_to = GER }
			310 = { transfer_state_to = GER }
			2567 = { transfer_state_to = GER }
			546 = { transfer_state_to = GER }
			2341 = { transfer_state_to = GER }
			264 = { transfer_state_to = GER }
			267 = { transfer_state_to = GER }
		}
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = -0.1 #dodged a bullet there
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = -0.1 #dodged a bullet there
			}
		}

		hidden_effect = {
			news_event = { hours= 6 id = news.202 }
			set_global_flag = poland_swap_danzig
		}
	}
}

# Poland Refuses to give up Danzig
country_event = {
	id = germany.82
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.82 FROM = [From.GetName]" }
	title = germany.82.t
	desc = germany.82.d
	picture = GFX_report_event_polish_army

	is_triggered_only = yes

	option = {
		name = germany.82.a
		create_wargoal = {
			type = take_state_focus
			target = POL
			generator = { 287 310 2567 546 2341 264 267 }
		}
	}
}

# Anti-Soviet Pact
country_event = {
	id = germany.83
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.83 FROM = [From.GetName]" }
	title = germany.83.t
	desc = germany.83.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 10
		}
		name = germany.83.a		#join
		add_ideas = anti_soviet_pact
		SOV = {
			remove_opinion_modifier = { target = ROOT modifier = pact_against_us }
			add_opinion_modifier = { target = ROOT modifier = worse_pact_against_us }
		}
	}

	option = {
		name = germany.83.b		#refuse
		trigger = { NOT = { is_puppet_of = GER } }
		ai_chance = {
			factor = 2
		}
	}
}

# Call Pact Members to War (Instigator)
country_event = {
	id = germany.84
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.84 FROM = [From.GetName]" }
	title = germany.84.t
	desc = germany.84.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	#immediate = {
	#	remove_ideas = anti_soviet_pact
	#}

	option = {
		name = germany.84.a
		every_other_country = {
			limit = {
				has_idea = anti_soviet_pact
				NOT = { has_war_with = SOV }
				is_subject = no
				any_other_country = {
					has_idea = anti_soviet_pact
					has_war_with = SOV
				}
			}
			country_event = { id = germany.85 days = 1 }
		}
		hidden_effect = {
			if = {
				limit = {
					original_tag = GER
					has_government = neutrality
				}
				country_event = { id = germany.127 days = 7 random_days = 7 }
			}
		}
	}
}

# [From.GetName] Calls Pact Members to War
country_event = {
	id = germany.85
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.85 FROM = [From.GetName]" }
	title = germany.85.t
	title = {
		text = germany.85.t.a
		trigger = {
			OR = {
				NOT = { FROM = { original_tag = POL } }
				NOT = { original_tag = GER }
				NOT = { has_completed_focus = GER_danzig_for_guarantees }
			}
		}
	}
	title = {
		text = germany.85.t.b
		trigger = {
			FROM = { original_tag = POL }
			original_tag = GER
			has_completed_focus = GER_danzig_for_guarantees
		}
	}
	desc = {
		text = germany.85.desc.a
		trigger = {
			OR = {
				NOT = { FROM = { original_tag = POL } }
				NOT = { original_tag = GER }
				NOT = { has_completed_focus = GER_danzig_for_guarantees }
			}
		}
	}
	desc = {
		text = germany.85.desc.b
		trigger = {
			FROM = { original_tag = POL }
			original_tag = GER
			has_completed_focus = GER_danzig_for_guarantees
		}
	}
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	#immediate = {
	#	remove_ideas = anti_soviet_pact
	#}

	option = {
		name = germany.85.a
		ai_chance = {
			factor = 10
		}
		add_to_war = {
			targeted_alliance = FROM
			enemy = SOV
			hostility_reason = ally
		}
		hidden_effect = {
			if = {
				limit = {
					original_tag = GER
				}
				country_event = { id = germany.127 days = 7 random_days = 7 }
			}
		}
	}

	option = {
		name = germany.85.b
		trigger = {
			NOT = { FROM = { original_tag = POL } }
			NOT = { original_tag = GER }
			NOT = { has_completed_focus = GER_danzig_for_guarantees }
		}
		ai_chance = {
			factor = 0
		}
		remove_ideas = anti_soviet_pact
		FROM = { add_opinion_modifier = { target = ROOT modifier = anti_soviet_pact_call_refused } }
		SOV = { remove_opinion_modifier = { target = SOV modifier = worse_pact_against_us } }
		add_timed_idea = {
			idea = anti_soviet_pact_refused_call
			days = 365
		}
		custom_effect_tooltip = germany.85.b_tt
		hidden_effect = {
			country_event = { id = germany.112 days = 3 }
		}
	}
}

# Danzig or War (Poland)
country_event = {
	id = germany.86
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.86 FROM = [From.GetName]" }
	title = germany.86.t
	desc = germany.86.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = GER }
	}

	option = {
		name = germany.86.a
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		GER = { country_event = { id = germany.87 days = 1 } }
		effect_tooltip = {
			GER = {
				custom_effect_tooltip = mer_GER_danzig_or_war_approved_transfer_tt
			}
		}
		country_event = { id = poland.1 days = 7 }
		hidden_effect = {
			news_event = { id = news.203 hours = 6 }
		}
	}

	option = {
		name = germany.86.b
		ai_chance = {
			factor = 80
			modifier = {
				factor = 3
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
			}
			modifier = {
				factor = 10
				any_other_country = {
					is_major = yes
					is_in_faction_with = POL
				}
			}
		}
		GER = {
			country_event = { id = germany.88 days = 1 }
			if = {
				limit = {
					is_in_faction_with = POL
					is_faction_leader = yes
				}
				remove_from_faction = POL
			}
			if = {
				limit = {
					is_in_faction_with = POL
					is_faction_leader = no
				}
				random_other_country = {
					limit = {
						is_in_faction_with = GER
						is_faction_leader = yes
					}
					remove_from_faction = GER
				}
			}
		}

		if = {
			limit = {
				has_guaranteed = LIT
				is_guaranteed_by = LIT
			}
			diplomatic_relation = {
				country = LIT
				relation = guarantee
				active = no
			}
			LIT = {
				diplomatic_relation = {
					country = POL
					relation = guarantee
					active = no
				}
			}
		}

		hidden_effect = {
			news_event = { hours = 1 id = news.204 }
		}
		effect_tooltip = {
			GER = {
				declare_war_on = {
					target = POL
					type = take_state
					generator = { 287 310 2567 546 2341 264 267 }
				}
			}
		}
	}
}

# Poland Cedes Danzig (Danzig or War)
country_event = {
	id = germany.87
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.87 FROM = [From.GetName]" }
	title = germany.87.t
	desc = germany.87.d
	picture = GFX_report_event_german_polish_border

	is_triggered_only = yes

	option = {
		name = germany.87.a
		custom_effect_tooltip = mer_GER_danzig_or_war_approved_transfer_tt
		hidden_effect = {
			# transfer west prussia
			transfer_state = 287
			transfer_state = 310
			transfer_state = 2567
			transfer_state = 546
			transfer_state = 2341
			transfer_state = 264
			transfer_state = 267
			# core west prussia
			add_state_core = 287
			add_state_core = 310
			add_state_core = 2567
			add_state_core = 546
			add_state_core = 2341
			add_state_core = 264
			add_state_core = 267
			# lose posnan claims
			remove_state_claim = 80
			remove_state_claim = 335
			remove_state_claim = 243
			remove_state_claim = 79
			remove_state_claim = 122
			remove_state_claim = 99
			remove_state_claim = 82
			remove_state_claim = 549
			# lose katowice claims
			remove_state_claim = 2329
			remove_state_claim = 481
			remove_state_claim = 2262
		}
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = -0.1 #dodged a bullet there
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = -0.1 #dodged a bullet there
			}
		}
	}
}

# Poland Refuses to Cede Danzig (Danzig or War)
country_event = {
	id = germany.88
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.88 FROM = [From.GetName]" }
	title = germany.88.t
	desc = germany.88.d
	picture = GFX_report_event_polish_tanks_02

	is_triggered_only = yes

	option = {
		name = germany.88.a
		if = {
			limit = {
				POL = {
					is_subject = yes
					OVERLORD = {
						has_non_aggression_pact_with = GER
					}
				}
			}
			POL = {
				OVERLORD = {
					diplomatic_relation = {
						country = GER
						relation = non_aggression_pact
						active = no
					}
				}
			}
		}
		if = {
			limit = {
				POL = {
					has_non_aggression_pact_with = GER
				}
			}
			POL = {
				diplomatic_relation = {
					country = GER
					relation = non_aggression_pact
					active = no
				}
			}
			every_other_country = {
				limit = {
					has_non_aggression_pact_with = GER
				}
				add_opinion_modifier = {
					target = GER
   					modifier = protest_action_strong
				}
			}
		}
		create_wargoal = {
			type = take_state
			generator = { 287 310 2567 546 2341 264 267 }
			target = POL
		}
		custom_effect_tooltip = mer_GER_danzig_or_war_cores_on_west_prussia
		hidden_effect = {
			add_state_core = 287
			add_state_core = 310
			add_state_core = 2567
			add_state_core = 546
			add_state_core = 2341
			add_state_core = 264
			add_state_core = 267
		}
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.1 #just not cricket
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.1
			}
		}
		if = {
			limit = {
				CZE = {
					exists = yes
					is_subject = no
					has_government = democratic
					NOT = { is_in_faction_with = GER }
				}
			}
			CZE = {
				add_ai_strategy = {
					type = conquer
					id = "GER"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "POL"
					value = 200
				}
			}
		}
	}
}

#sov-ger unholy alliance
country_event = {
	id = germany.89
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.89 FROM = [From.GetName]" }
	title = germany.89.t
	desc = germany.89.d
	picture = GFX_report_event_molotov_ribbentrop_stalin_pact

	is_triggered_only = yes

	option = {
		name = germany.89.a
		dismantle_faction = yes
		add_stability = -0.1
		every_other_country = {
			limit = {
				OR = {
					AND = {
						NOT = { tag = GER }
						has_government = fascism
					}
					has_government = democratic
				}
			}
			add_opinion_modifier = { target = SOV modifier = unholy_alliance }
		}
		GER = {
			if = {
					limit = {
						is_faction_leader = yes
					}
					dismantle_faction = yes
			}
			if = {
					limit = {
						is_in_faction  = yes
					}
					remove_from_faction = GER
			}
			add_stability = -0.2
			create_faction = "the_berlin_moscow_axis"
			add_to_faction = SOV
			add_named_threat = { threat = 10 name = germany.89.t }
			every_other_country = {
				limit = {
					has_government = fascism
				}
				add_opinion_modifier = { target = GER modifier = communist_collaborators }
			}
			every_other_country = {
				limit = {
					has_government = democratic
				}
				add_opinion_modifier = { target = GER modifier = unholy_alliance }
			}
		}
		hidden_effect = {
			# Britain can rally democracies
			ENG = {
				country_event = { days = 3 id = britain.11 }
			}
			# US drops communism/fascism
			USA = {
				country_event = { id = usa.14 }
				country_event = { id = usa.24 }
			}
		}
	}

	option = {
		name = germany.89.b
		ai_chance = { factor = 0 }
		GER = {
			country_event = germany.90
			effect_tooltip = {
				remove_ideas = soviet_german_friendship
				create_wargoal = {
					type = take_state_focus
					target = SOV
					generator = { 219 217 } # Moscow and Stalingrad
				}
			}
		}
		remove_opinion_modifier = { target = GER modifier = ger_sov_alliance_focus }
		remove_ideas = soviet_german_friendship
	}
}

country_event = {
	id = germany.90
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.90 FROM = [From.GetName]" }
	title = germany.90.t
	desc = germany.90.d
	picture = GFX_report_event_stalin_02

	is_triggered_only = yes

	option = {
		name = germany.90.a
		remove_ideas = soviet_german_friendship
		create_wargoal = {
			type = take_state_focus
			target = SOV
			generator = { 229 457 } # Moscow and Stalingrad
		}
	}
}

# France national focus -  requests to join germany
country_event = {
	id = germany.91
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.91 FROM = [From.GetName]" }
	title = germany.91.t
	desc = germany.91.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes

	option = {
		name = germany.91.a
		GER = { add_to_faction = FRA }
		FRA = {
			add_ai_strategy = {
				type = alliance
				id = "GER"
				value = 200
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.182 }
		}
	}
	option = {
		name = germany.91.b
		ai_chance = { factor = 0 }
		FRA = {
			add_opinion_modifier = {
				target = GER
				modifier = GER_FRA_join_germany_reject
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.183 }
		}
	}
}

# France/England (Germany Refuses Ultimatum)
country_event = {
	id = germany.92
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.92 FROM = [From.GetName]" }
	title = germany.92.t
	desc = germany.92.d
	picture = GFX_report_event_worried_french

	is_triggered_only = yes

	option = {
		name = germany.92.a
	}
}

# Germany (British and (possibly) French Support for Yugoslavia)
country_event = {
	id = germany.93
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.93 FROM = [From.GetName]" }
	title = germany.93.t
	desc = {
		text = germany.93.d
		trigger = { NOT = { has_global_flag = FRA_abandoned_yugoslavia } }
	}
	desc = {
		text = germany.93.d_FRA_abandoned_yugoslavia
		trigger = { has_global_flag = FRA_abandoned_yugoslavia }
	}
	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.93.a
		create_wargoal = {
			type = take_state_focus
			target = YUG
			generator = { 714 2784 1490 703 695 1488 1489 743 1486 2825 1487 2861 }
		}
		hidden_effect = {
			news_event = { id = news.164 hours = 6 }
		}
		set_country_flag = allies_support_yugoslavia
	}
}

# Germany (Yugoslavia Surrenders Slovenia)
country_event = {
	id = germany.94
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.94 FROM = [From.GetName]" }
	title = germany.94.t
	desc = germany.94.d
	picture = GFX_report_event_german_politician_speech

	is_triggered_only = yes

	option = {
		name = germany.94.a
		GER = {
			custom_effect_tooltip = mer_transfer_slovenia
			hidden_effect = {
				transfer_state = 714
				transfer_state = 2784
				transfer_state = 1490
				transfer_state = 703
				transfer_state = 1488
				transfer_state = 1489
				transfer_state = 743
				transfer_state = 1486
				transfer_state = 2825
				transfer_state = 1487
				transfer_state = 2861
			}
		}
		if = {
			limit = {
				676 = { is_owned_by = HUN }
				HUN = {
					is_friend_or_potential_friend_of_GER = yes
				}
			}
			HUN = {
				transfer_state = 695
			}
		}
		else = {
			hidden_effect = { GER = { transfer_state = 695 } }
		}
		set_country_flag = slovenia_acquired
		hidden_effect = {
			news_event = { id = news.163 hours = 6 }
		}
	}
}

# Germany (Yugoslavia Refuses)
country_event = {
	id = germany.95
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.95 FROM = [From.GetName]" }
	title = germany.95.t
	desc = germany.95.d
	picture = GFX_report_event_german_politician_speech

	is_triggered_only = yes

	option = {
		name = germany.95.a
		if = {
			limit = {
				YUG = { owns_state = 1489 }
			}
			create_wargoal = {
				type = annex_everything
				target = YUG
			}
		}
		else = {
			create_wargoal = {
				type = annex_everything
				target = SLV
			}
		}
		hidden_effect = {
			news_event = { id = news.166 hours = 6 }
		}
	}
}

# Germany (Italy protects Yugoslavia)
country_event = {
	id = germany.96
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.96 FROM = [From.GetName]" }
	title = germany.96.t
	desc = germany.96.d
	picture = GFX_report_event_german_politician_speech

	is_triggered_only = yes

	option = {
		name = germany.96.a
		create_wargoal = {
			type = annex_everything
			target = YUG
		}
		hidden_effect = {
			news_event = { id = news.167 hours = 6 }
		}
	}
}

# Germany (France protects Yugoslavia)
country_event = {
	id = germany.97
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.97 FROM = [From.GetName]" }
	title = germany.97.t
	desc = germany.97.d
	picture = GFX_report_event_german_politician_speech

	is_triggered_only = yes

	option = {
		name = germany.97.a
		create_wargoal = {
			type = annex_everything
			target = YUG
		}
		hidden_effect = {
			news_event = { id = news.165 hours = 6 }
		}
	}
}


country_event = {
	id = germany.98
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.98 FROM = [From.GetName]" }
	title = germany.98.t
	desc = {
		text = germany.98.d
	}
	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.98.a
		ai_chance = { factor = 20 }

		YUG = { country_event = yugoslavia.7 }
		custom_effect_tooltip = germany.98_tt
		effect_tooltip = {
			add_political_power = -75
			add_named_threat = { threat = 5 name = GER_fate_of_yugoslavia }
			annex_country = { target = YUG transfer_troops = no }
		}
		custom_effect_tooltip = yugoslavia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.1
				send_embargo = GER
			}
			UAE = {
				send_embargo = GER
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.1
				send_embargo = GER
			}
		}
		if = {
			limit = {
				USA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			USA = {
				send_embargo = GER
			}
		}
	}

	option = {
		name = germany.98.b
		ai_chance = { factor = 75 }

		trigger = {
			YUG = {
				OR = {
					owns_state = 1499
					owns_state = 1563
					owns_state = 1464
				}
			}
		}

		YUG = { country_event = yugoslavia.8 }
		custom_effect_tooltip = germany.98_tt
		effect_tooltip = {
			add_political_power = -25
			add_named_threat = { threat = 3 name = GER_fate_of_yugoslavia }
			every_state = {
				limit = { 
					OR = {
						is_core_of = CRO
						is_core_of = BOS
					}
				}
				transfer_state_to = CRO
			}
			puppet = CRO
			annex_country = { target = YUG transfer_troops = no }
		}
		custom_effect_tooltip = yugoslavia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.1
				send_embargo = GER
			}
			UAE = {
				send_embargo = GER
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.1
				send_embargo = GER
			}
		}
		if = {
			limit = {
				USA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			USA = {
				send_embargo = GER
			}
		}
	}

	option = {
		name = germany.98.c
		ai_chance = { factor = 5 }

		YUG = { country_event = yugoslavia.9 }
		custom_effect_tooltip = germany.98_tt
		effect_tooltip = {
			add_named_threat = { threat = 2 name = GER_fate_of_yugoslavia }
			every_state = {
				limit = { 
					OR = {
						is_core_of = CRO
						is_core_of = BOS
					}
				}
				transfer_state_to = CRO
			}
			puppet = CRO
			puppet = YUG
			hidden_effect = {
				set_global_flag = GER_fate_of_yugoslavia_puppet_CRO_YUG
				news_event = { hours = 6 id = news.169 }
			}
		}


		custom_effect_tooltip = yugoslavia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.1
				send_embargo = GER
			}
			UAE = {
				send_embargo = GER
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.1
				send_embargo = GER
			}
		}
		if = {
			limit = {
				USA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			USA = {
				send_embargo = GER
			}
		}
	}
}

# Germany: Carve up Greece - Give land to Italy?
country_event = {
	id = germany.99
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.99 FROM = [From.GetName]" }
	title = germany.99.t
	desc = germany.99.d

	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		ai_chance = { factor = 5 }
		name = germany.99.a

		ITA = { add_opinion_modifier = { target = GER modifier = GER_second_ljubljana_award_GER } }

		if = {
			limit = {
				GRE = { owns_state = 185 }
			}
			set_global_flag = GER_second_ljubljana_award_ITA_185
		}
		if = {
			limit = {
				GRE = { owns_state = 186 }
			}
			set_global_flag = GER_second_ljubljana_award_ITA_186
		}
		if = {
			limit = {
				GRE = { owns_state = 47 }
			}
			set_global_flag = GER_second_ljubljana_award_ITA_47
		}
		if = {
			limit = {
				OR = {
					has_global_flag = GER_second_ljubljana_award_BUL_done
					NOT = { has_global_flag = GER_second_ljubljana_award_BUL_event }
				}
			}
			GRE = { country_event = { id = greece.2 hours = 2 } }
		}
		set_global_flag = GER_second_ljubljana_award_ITA_done
	}

		#Don't give them anything
	option = {
		ai_chance = { factor = 0 }
		name = germany.99.b
		ITA = { add_opinion_modifier = { target = GER modifier = GER_second_ljubljana_award_noland } }
		set_global_flag = GER_second_ljubljana_award_ITA_done
	}
}

# Germany: Carve up Greece - Give land to Bulgaria?
country_event = {
	id = germany.100
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.100 FROM = [From.GetName]" }
	title = germany.100.t
	desc = germany.100.d

	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		ai_chance = { factor = 5 }
		name = germany.100.a

		set_global_flag = GER_second_ljubljana_award_BUL_184
		BUL = { add_opinion_modifier = { target = GER modifier = GER_second_ljubljana_award_GER } }

		if = {
			limit = {
				OR = {
					has_global_flag = GER_second_ljubljana_award_ITA_done
					NOT = { has_global_flag = GER_second_ljubljana_award_ITA_event }
				}
			}
			GRE = { country_event = { id = greece.2 hours = 2 } }
		}
		set_global_flag = GER_second_ljubljana_award_BUL_done
	}

		#Don't give them anything
	option = {
		name = germany.100.b
		ai_chance = { factor = 0 }
		BUL = { add_opinion_modifier = { target = GER modifier = GER_second_ljubljana_award_noland } }
		set_global_flag = GER_second_ljubljana_award_BUL_done
	}
}

# Germany: Carve up Greece - Take land for Germany?
country_event = {
	id = germany.101
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.101 FROM = [From.GetName]" }
	title = germany.101.t
	desc = germany.101.d

	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				941 = {
					any_neighbor_state = { is_owned_by = GER }
					is_owned_by = GRE
				}
			}
			set_global_flag = GER_second_ljubljana_award_GER_731
		}
		if = {
			limit = {
				1548 = {
					any_neighbor_state = { is_owned_by = GER }
					is_owned_by = GRE
				}
			}
			set_global_flag = GER_second_ljubljana_award_GER_185
		}
		if = {
			limit = {
				2003 = {
					any_neighbor_state = { is_owned_by = GER }
					is_owned_by = GRE
				}
			}
			set_global_flag = GER_second_ljubljana_award_GER_47
		}
	}

	option = {
		name = germany.101.a
		GRE = { country_event = { id = greece.2 hours = 2 } }
		custom_effect_tooltip = germany.101_tt
		effect_tooltip = {
			if = {
				limit = {
					has_global_flag = GER_second_ljubljana_award_GER_731
				}
				GER = { transfer_state = 941 }
			}
			if = {
				limit = {
					has_global_flag = GER_second_ljubljana_award_GER_185
					NOT = { has_global_flag = GER_second_ljubljana_award_GER_731 }
				}
				GER = { transfer_state = 1548 }
			}
			if = {
				limit = {
					has_global_flag = GER_second_ljubljana_award_GER_47
					NOT = { has_global_flag = GER_second_ljubljana_award_GER_731 }
					NOT = { has_global_flag = GER_second_ljubljana_award_GER_185 }
				}
				GER = { transfer_state = 2003 }
			}
		}
	}

	option = {
		name = germany.101.b
	}
}

# Germany: Greece refuses - Generate wargoal
country_event = {
	id = germany.102
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.102 FROM = [From.GetName]" }
	title = germany.102.t
	desc = germany.102.d

	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.102.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = GRE
		}
		hidden_effect = {
			news_event = { id = news.229 hours = 6 }
		}
	}
}

# Germany: Greece refuses puppet request - Generate wargoal
country_event = {
	id = germany.103
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.103 FROM = [From.GetName]" }
	title = germany.103.t
	desc = germany.103.d

	picture = GFX_report_event_german_inspect_troops

	is_triggered_only = yes

	option = {
		name = germany.103.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = GRE
		}
	}
}

# Germany: Italy demands lands in Vichy France
country_event = {
	id = germany.104
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.104 FROM = [From.GetName]" }
	title = germany.104.t
	desc = { text = germany.104.d_Savoy 					trigger = { has_global_flag = ITA_claims_on_france_735 } }
	desc = { text = germany.104.d_Corsica 				trigger = { has_global_flag = ITA_claims_on_france_1 } }
	desc = { text = germany.104.d_Savoy_Corsica 	trigger = { has_global_flag = ITA_claims_on_france_735 has_global_flag = ITA_claims_on_france_1 } }


	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes

	# Italy gets 1 state Savoy
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.a
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			has_global_flag = ITA_claims_on_france_1
		}
		clr_global_flag = ITA_claims_on_france_1
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}
		ITA = { country_event = { id = italy.16 hours = 2 } }
	}

	# Italy gets 1 state Corsica
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.b
		trigger = {
			NOT = { has_global_flag = ITA_claims_on_france_735 }
			has_global_flag = ITA_claims_on_france_1
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}
		ITA = { country_event = { id = italy.15 hours = 2 } }
	}

	# Italy gets Savoy
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.c
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			NOT = { has_global_flag = ITA_claims_on_france_1 }
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}
		ITA = { country_event = { id = italy.15 hours = 2 } }
	}

	# Italy gets Savoy and Corsica
	option = {
		ai_chance = { factor = 20 }
		name = germany.104.e
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			has_global_flag = ITA_claims_on_france_1
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}
		ITA = { country_event = { id = italy.15 hours = 2 } }
	}

	# Italy gets nothing
	option = {
		ai_chance = { factor = 10 }
		name = germany.104.f
		ITA = { country_event = { id = italy.14 hours = 2 } }
	}
}


# Germany: Italy leaves faction
country_event = {
	id = germany.105
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.105 FROM = [From.GetName]" }
	title = germany.105.t
	desc = germany.105.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes

	option = {
		name = germany.105.a
	}
}

# Germany: Treaty Of Craiova
country_event = {
	id = germany.106
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.106 FROM = [From.GetName]" }
	title = germany.106.t
	desc = { text = germany.106.d_second_vienna_accepted_all trigger = { ROM = { has_country_flag = second_vienna_accepted_all } } }
	desc = { text = germany.106.d_second_vienna_accepted_north trigger = { ROM = { has_country_flag = second_vienna_accepted_north } } }
	desc = {
		text = germany.106.d_no_vienna
		trigger = {
			ROM = {
				NOT = { has_country_flag = second_vienna_accepted_all }
				NOT = { has_country_flag = second_vienna_accepted_north }
			}
		}
	}
	picture = GFX_report_event_vienna_award_hungary

	is_triggered_only = yes

	option = { # Give Bulgaria state 77
		name = germany.106.a
		ai_chance = { factor = 95
			modifier = {
				factor = 0
				BUL = {
					is_in_faction = yes
					NOT = { is_in_faction_with = GER }
				}
			}
		}
		add_named_threat = { threat = 2 name = germany.106_threat }
		BUL = {
			add_opinion_modifier = { target = GER modifier = GER_treaty_of_craiova_GER }

			every_other_country = {
				limit = {
					is_faction_leader = yes
					NOT = { tag = GER }
				}
				reverse_add_opinion_modifier = { target = BUL modifier = GER_treaty_of_craiova_other }
			}
		}
		ROM = {
			country_event = { id = romania.5 hours = 3 }
		}
	}
	option = { # Give Bulgaria nothing
		name = germany.106.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					BUL = {
						is_in_faction = yes
						NOT = { is_in_faction_with = GER }
					}
				}
			}
		}
		BUL = {
			add_opinion_modifier = { target = GER modifier = GER_treaty_of_craiova_noland }
			country_event = { id = bulgaria.5 hours = 4 }
		}
	}
}

# Flight of Rudolf No Hindenburg
country_event = {
	id = germany.107
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.107 FROM = [From.GetName]" }
	title = germany.107.t
	desc = germany.107.d
	picture = GFX_report_event_airplane_crash

	is_triggered_only = yes

	immediate = {
		set_country_flag = flight_of_hess
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.107.a
	}
}

# Rudolf Hess killed No Hindenburg
country_event = {
	id = germany.108
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.108 FROM = [From.GetName]" }
	title = germany.108.t
	desc = germany.108.d
	picture = GFX_report_event_airplane_crash

	is_triggered_only = yes

	immediate = {
		set_country_flag = flight_of_hess
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.108.a
	}
}

# Flight of Rudolf Hess (Hindenburg)
country_event = {
	id = germany.109
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.109 FROM = [From.GetName]" }
	title = germany.107.t
	desc = germany.109.d
	picture = GFX_report_event_hindenburg_flames

	is_triggered_only = yes

	immediate = {
		set_country_flag = flight_of_hess
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.108.a
	}
}

# Rudolf Hess Killed (Hindenburg)
country_event = {
	id = germany.110
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.110 FROM = [From.GetName]" }
	title = germany.108.t
	desc = germany.110.d
	picture = GFX_report_event_hindenburg_flames

	is_triggered_only = yes

	immediate = {
		set_country_flag = flight_of_hess
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.110.a
	}
}

# Yugoslavia refuses
country_event = {
	id = germany.111
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.111 FROM = [From.GetName]" }
	title = germany.111.t
	desc = germany.111.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = germany.111.a
		create_wargoal = {
			type = annex_everything
			target = YUG
		}
	}
}

# (Hidden)
country_event = {
	id = germany.112
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.112 FROM = [From.GetName]" }

	is_triggered_only = yes

	hidden = yes

	immediate = {
		every_other_country = {
			limit = { has_idea = anti_soviet_pact }
			add_opinion_modifier = { target = FROM modifier = anti_soviet_pact_call_refused }
		}
	}
}


# Danzig or War (Polish Civil War)
country_event = {
	id = germany.113
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.113 FROM = [From.GetName]" }
	title = germany.113.t
	desc = germany.113.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	#Demand Danzig for aid
	option = {
		name = germany.113.a
		set_country_flag = GER_POL_danzig_promised
		GER = {
			country_event = { id = germany.117 days = 1 }
		}
	}
}

#Germany expects Danzig after war
country_event = {
	id = germany.114
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.114 FROM = [From.GetName]" }
	title = germany.114.t
	desc = germany.114.d
	picture = GFX_report_event_polish_tanks_01

	trigger = {
		has_country_flag = GER_POL_danzig_promised
		has_civil_war = no
		owns_state = 85
		controls_state = 85
	}

	fire_only_once = yes

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		hidden_effect = {
			clr_country_flag = GER_POL_danzig_promised
		}
	}

	option = {
		name = germany.114.a
		ai_chance = {
			base = 1
		}
		GER = {
			country_event = { id = germany.115 days = 1 }
		}
	}

	option = {
		name = germany.114.b
		trigger = {
			NOT = {
				is_in_faction_with = GER
			}
		}
		ai_chance = {
			base = 0
		}
		GER = {
			country_event = { id = germany.116 days = 1 }
			effect_tooltip = {
				declare_war_on = {
					target = POL
					type = take_state
					generator = { 85 }
				}
			}
		}
	}
}

#Poland cedes Danzig as repayment
country_event = {
	id = germany.115
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.115 FROM = [From.GetName]" }
	title = germany.115.t
	desc = germany.115.d
	picture = GFX_report_event_polish_tanks_01

	is_triggered_only = yes

	option = {
		name = germany.115.a
		transfer_state = 85
		remove_state_claim = 86
	}
}


# Poland Refuses to Cede Danzig (Polish Civil War)
country_event = {
	id = germany.116
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.116 FROM = [From.GetName]" }
	title = germany.116.t
	desc = germany.116.d
	picture = GFX_report_event_polish_tanks_02

	is_triggered_only = yes

	option = {
		name = germany.116.a
		ai_chance = {
			base = 1
		}
		declare_war_on = {
			target = POL
			type = take_state
			generator = { 85 }
		}
	}

	option = {
		name = germany.116.b
		ai_chance = {
			base = 0
		}
	}
}


# The Promise of Danzig (Polish Civil War)
country_event = {
	id = germany.117
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.117 FROM = [From.GetName]" }
	title = germany.117.t
	desc = germany.117.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	# This is a German struggle
	option = {
		name = germany.117.a
	}
}


#The Yalta Conference
country_event = {
	id = germany.118
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.118 FROM = [From.GetName]" }
	title = germany.118.t
	desc = germany.118.d
	picture = GFX_report_event_generic_sign_treaty2

	fire_only_once = yes
	
	is_triggered_only = yes


	immediate = {
		set_global_flag = had_yalta_conference
		SOV = {
			save_event_target_as = yalta_partner
		}
		ROOT = {
			save_event_target_as = yalta_origin
		}
	}

	option = {
		name = germany.118.a
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
			event_target:yalta_partner = {
				country_event = { hours = 1 id = germany.119 }
			}
		}
		effect_tooltip = {
			every_state = {
				limit = {
					is_wgr_state = yes
				}
				add_core_of = WGR
			}
			every_state = {
				limit = {
					is_ddr_state = yes
				}
				add_core_of = DDR
			}
			every_state = {
				limit = {
					is_yalta_polish_state = yes
				}
				add_core_of = POL
			}
			every_state = {
				limit = {
					is_east_poland = yes
				}
				remove_core_of = POL
			}
			every_state = {
				limit = {
					is_yugoslav_istria = yes
				}
				add_core_of = YUG
			}
		}
		event_target:yalta_partner = {
			custom_effect_tooltip = needs_approval
		}
	}

	option = {
		name = germany.118.b
		ai_chance = {
			factor = 0
		}
	}
}


#Yalta Conference Follow-up
country_event = {
	id = germany.119
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.119 FROM = [From.GetName]" }
	title = germany.119.t
	desc = germany.119.d
	picture = GFX_report_event_generic_sign_treaty2

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = germany.119.a
		ai_chance = {
			factor = 100
		}
		every_state = {
			limit = {
				is_wgr_state = yes
			}
			add_core_of = WGR
		}
		every_state = {
			limit = {
				is_ddr_state = yes
			}
			add_core_of = DDR
		}
		every_state = {
			limit = {
				is_yalta_polish_state = yes
			}
			add_core_of = POL
		}
		every_state = {
			limit = {
				OR = {
					is_zakarpattia = yes
					is_baltic_state = yes
					is_east_poland = yes
				}
			}
			add_core_of = SOV
		}
		every_state = {
			limit = {
				is_east_poland = yes
			}
			remove_core_of = POL
		}
		every_state = {
			limit = {
				is_bialystok_region = yes
			}
			remove_claim_by = SOV
		}
		every_state = {
			limit = {
				is_yugoslav_istria = yes
			}
			add_core_of = YUG
		}
		hidden_effect = {
			news_event = { days = 1 id = news.236 }
		}
	}

	option = {
		name = germany.119.b
		ai_chance = {
			factor = 0
		}
		hidden_effect = {
			create_wargoal = {
				type = liberate_wargoal
				target = DDR
			}
		}
		event_target:yalta_origin = {
			country_event = {
				id = germany.120
			}
			hidden_effect = {
				create_wargoal = {
					type = liberate_wargoal
					target = WGR
				}
			}
		}
	}
}


country_event = {
	id = germany.120
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.120 FROM = [From.GetName]" }
	title = germany.120.t
	desc = germany.120.d
	picture = GFX_report_event_generic_sign_treaty1

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = germany.120.a
	}
}

country_event = {
	id = germany.121
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.121 FROM = [From.GetName]" }
	title = germany.121.t
	desc = germany.121.d
	picture = GFX_report_event_generic_sign_treaty2

	fire_only_once = yes

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 0
	}

	option ={
		name = germany.121.a
		if = {
			limit = {
				country_exists = POL
			}
			#Return Polish territory + new cores if they exist
			every_state = {
				limit = {
					is_core_of = POL
					owner = {
						original_tag = GER
					}
				}
				POL = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				NOT = {
					country_exists = POL
				}
			}
			#Otherwise give SOV Polish cores
			every_state = {
				limit = {
					is_core_of = POL
					owner = {
						original_tag = GER
					}
				}
				SOV = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				country_exists = WGR
			}
			#Give WGR their cores
			every_state = {
				limit = {
					owner = {
						original_tag = GER
					}
					is_core_of = WGR
				}
				WGR = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				country_exists = DDR
			}
			#Give East Germany their cores
			every_state = {
				limit = {
					owner = {
						original_tag = GER
					}
					is_core_of = DDR
				}
				DDR = {
					transfer_state = PREV
				}
			}
			if = {
				limit = {
					GER = {
						is_puppet_of = SOV
					}
				}
				#If SOV decided to puppet GER in peace, they now get DDR instead.
				SOV = {
					puppet = DDR
				}
			}
		}
		if = {
			limit = {
				any_state = {
					is_core_of = CZE
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = DDR
							is_core_of = WGR
							is_core_of = POL
						}
					}
				}
			}
			#Give CZE any territory that might have been taken in a war or focus ending before the one that ended with the Yalta conference.
			every_state = {
				limit = {
					is_core_of = CZE
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = DDR
							is_core_of = WGR
							is_core_of = POL
						}
					}
				}
				CZE = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				any_state = {
					is_core_of = YUG
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = DDR
							is_core_of = WGR
							is_core_of = POL
						}
					}
				}
			}
			#Give YUG any territory that might have been taken in a war or focus ending before the one that ended with the Yalta conference.
			every_state = {
				limit = {
					is_core_of = YUG
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = DDR
							is_core_of = WGR
							is_core_of = POL
						}
					}
				}
				YUG = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				country_exists = LIT
				any_state = {
					is_core_of = LIT
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = DDR
							is_core_of = WGR
							is_core_of = POL
						}
					}
				}
			}
			#Give LIT any territory that might have been taken in a war or focus ending before the one that ended with the Yalta conference.
			every_state = {
				limit = {
					is_core_of = LIT
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = DDR
							is_core_of = WGR
							is_core_of = POL
						}
					}
				}
				LIT = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				NOT = {
					country_exists = LIT
				}
				any_state = {
					is_core_of = LIT
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = DDR
							is_core_of = WGR
							is_core_of = POL
						}
					}
				}
			}
			#Give any LIT cores to SOV if they have been taken in a previous war/focus
			every_state = {
				limit = {
					is_core_of = LIT
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = DDR
							is_core_of = WGR
							is_core_of = POL
						}
					}
				}
				SOV = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				country_exists = DDR
			}
			every_state = {
				limit = {
					is_ddr_state = yes
					owner = {
						original_tag = GER
					}
				}
				DDR = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				country_exists = WGR
			}
			every_state = {
				limit = {
					is_wgr_state = yes
					owner = {
						original_tag = GER
					}
				}
				WGR = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				any_state = {
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = WGR
							is_core_of = DDR
						}
					}
				}
			}
			#Any remaining cores go to WGR, because democracy is fun
			every_state = {
				limit = {
					owner = {
						original_tag = GER
					}
					NOT = {
						OR = {
							is_core_of = WGR
							is_core_of = DDR
						}
					}
				}
				WGR = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				country_exists = WGR
				country_exists = DDR
			}
			#Remove GER cores
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = GER
					}
					remove_core_of = GER
				}
			}
		}
	}
}

#Events in case of weirdness with German Czechoslovakia focus
country_event = {
	id = germany.122
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.122 FROM = [From.GetName]" }
	title = germany.122.t
	desc = germany.122.d
	picture = GFX_report_event_german_speech

	is_triggered_only = yes

	option = {
		name = germany.122.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				strength_ratio = { tag = GER ratio < 0.5 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = GER value > 99 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = GER ratio < 0.3 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = GER ratio < 0.2 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = GER ratio < 0.1 }
			}
		}
		if = {
			limit = {
				is_in_faction_with = GER
				is_subject = no
			}
			remove_from_faction = CZE #kicked from faction
		}

		custom_effect_tooltip = mer_GER_claim_all_of_sudetenland
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 504 499 1428 507 1977 }
				}
			}
		}
		hidden_effect = {
			GER = {
				country_event = { id = germany.123 days = 1 }
			}
		}
	}

	option = {
		name = germany.122.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				FRA = { has_completed_focus = FRA_strengthen_the_little_entente }
			}
			modifier = {
				factor = 0
				POL = {
					OR = {
						has_completed_focus = POL_protect_czechozlovakia
						has_completed_focus = POL_coerce_czechoslovakia
					}
				}
				OR = {
					is_guaranteed_by = POL
					is_in_faction_with = POL
				}
			}
			modifier = {
				factor = 0
				any_other_country = {
					is_major = yes
					has_guaranteed = CZE
				}
			}
			modifier = {
				factor = 0
				any_other_country = {
					is_major = yes
					is_in_faction_with = CZE
				}
			}
			modifier = {
				factor = 0.8
				any_other_country = {
					is_major = no
					has_guaranteed = CZE
				}
			}
			modifier = {
				factor = 0.8
				is_in_faction = yes
				NOT = {
					any_other_country = {
						is_major = yes
						is_in_faction_with = CZE
					}
				}
			}
		}
		GER = {
			custom_effect_tooltip = mer_GER_transfer_all_of_sudetenland
		}
		hidden_effect = {
			GER = {
				country_event = {
					id = germany.124 days = 1
				}
			}
		}
	}
}


#Events in case of weirdness with German Czechoslovakia focus
country_event = {
	id = germany.123
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.123 FROM = [From.GetName]" }
	title = germany.123.t
	desc = germany.123.d
	picture = GFX_report_event_czech_soldiers_02

	is_triggered_only = yes

	option = {
		name = germany.123.a
		custom_effect_tooltip = mer_GER_claim_all_of_sudetenland
		hidden_effect = {
			add_state_claim = 1433
			add_state_claim = 1432
			add_state_claim = 1431
			add_state_claim = 1430
			add_state_claim = 522
			add_state_claim = 498
			add_state_claim = 1434
			add_state_claim = 471
			add_state_claim = 473
			add_state_claim = 1435
			add_state_claim = 504
			add_state_claim = 499
			add_state_claim = 1428
			add_state_claim = 507
			add_state_claim = 1977
		}
		if = {
			limit = {
				CZE = { is_subject_of = FROM }
				FROM = {
					is_in_faction_with = GER
					is_faction_leader = no
				}
			}
			remove_from_faction = CZE
			remove_from_faction = FROM
		}
		471 = {
			controller = {
				GER = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 504 499 1428 507 1977 }
					}
				}
			}
		}
	}
}


#Events in case of weirdness with German Czechoslovakia focus
country_event = {
	id = germany.124
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.124 FROM = [From.GetName]" }
	title = germany.124.t
	desc = germany.124.d
	picture = GFX_report_event_german_reichstag_gathering

	is_triggered_only = yes

	option = {
		name = germany.124.a
		custom_effect_tooltip = mer_GER_core_all_of_sudetenland
		custom_effect_tooltip = mer_GER_transfer_all_of_sudetenland
		hidden_effect = {
			add_state_core = 1433
			add_state_core = 1432
			add_state_core = 1431
			add_state_core = 1430
			add_state_core = 522
			add_state_core = 498
			add_state_core = 1434
			add_state_core = 471
			add_state_core = 473
			add_state_core = 1435
			add_state_core = 504
			add_state_core = 499
			add_state_core = 1428
			add_state_core = 507
			add_state_core = 1977
			transfer_state = 1433
			transfer_state = 1432
			transfer_state = 1431
			transfer_state = 1430
			transfer_state = 522
			transfer_state = 498
			transfer_state = 1434
			transfer_state = 471
			transfer_state = 473
			transfer_state = 1435
			transfer_state = 504
			transfer_state = 499
			transfer_state = 1428
			transfer_state = 507
			transfer_state = 1977
		}
	}
}

#Event if Austria has a civil war
country_event = {
	id = germany.126
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.126 FROM = [From.GetName]" }
	title = germany.126.t
	desc = germany.126.d
	picture = GFX_report_event_german_reichstag_gathering

	is_triggered_only = yes

	option = {
		name = germany.126.a
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
		}
		random_other_country = {
			limit = {
				original_tag = AUS
				NOT = { tag = ROOT }
			}
			FROM = {
				add_to_war = {
					targeted_alliance = ROOT
					enemy = PREV
					hostility_reason = war
				}
				annex_country = { target = ROOT transfer_troops = yes }
				hidden_effect = { news_event = { id = news.237 } }
			}
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = {
		name = germany.126.b
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				OR = {
					has_government = communism
					has_government = democratic
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					tag = AUS
					original_tag = AUS
				}
			}
			FROM = {
				create_wargoal = {
					target = PREV
					type = annex_everything
				}
			}
		}
	}
}

# Anti-Soviet Pact, ask Germany to create faction or invite to faction
country_event = {
	id = germany.127
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.127 FROM = [From.GetName]" }
	title = germany.127.t
	desc = germany.127.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	# Create faction (if none) and send requests to join faction (members leave other faction)
	option = {
		name = germany.127.a
		every_other_country = {
			limit = {
				has_idea = anti_soviet_pact
				has_war_with = SOV
			}
			country_event = { id = germany.128 days = 1 }
		}
		if = {
			limit = {
				is_in_faction = no
			}
			create_faction = "anti_soviet_pact"
		}
	}

	# No ty
	option = {
		name = germany.127.b
		ai_chance = {
			base = 0
		}
	}
}

# Anti-Soviet Pact, Germany asks country to join faction
country_event = {
	id = germany.128
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.128 FROM = [From.GetName]" }
	title = germany.128.t
	desc = germany.128.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	# Join faction (if none) and send requests to join faction (members leave other faction)
	option = {
		name = germany.128.a
		trigger = {
			is_in_faction = no
		}
		ai_chance = {
			base = 10
		}
		GER = { add_to_faction = ROOT }
	}

	# No ty
	option = {
		name = germany.128.b
		ai_chance = {
			base = 0
		}
	}
}

#rename city
country_event = {
	id = germany.999
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.999 FROM = [From.GetName]" }
	title = germany.999.t
	desc = germany.999.desc
	picture = GFX_report_event_german_reichstag_gathering

	fire_only_once = yes

	trigger = {
		tag = GER
		GER = {
			has_government = fascism
			owns_state = 457
			owns_state = 119
		}
	}

	option = { #a great idea!
		name = germany.999.a
		ai_chance = {
			base = 100
		}
		set_province_name = { id = 13216 name = "Paulusburg" } # went with TNO names, originally Hindenburg
		set_province_name = { id = 9985 name = "Sankt Peterburg" } #originally Ludendorff
		set_global_flag = GER_cities_renamed
	}

	option = { #rather not
		name = germany.999.b
		ai_chance = {
			base = 0
		}
		add_stability = -0.05 #because fuck you
							  #language
	}

}

#reset city name if retaken
country_event = {
	id = germany.1000
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.1000 FROM = [From.GetName]" }
	title = germany.1000.t
	desc = germany.1000.desc
	picture = GFX_report_event_german_reichstag_gathering

	hidden = yes

	trigger = {
		SOV = {
			has_government = communism
			owns_state = 217
			owns_state = 195
		}
		OR = {
			has_global_flag = GER_cities_renamed
			has_global_flag = ROM_king_is_silly
		}
	}

	mean_time_to_happen = { days = 2 }

	option = { #a great idea!
		name = germany.1000.a
		ai_chance = {
			base = 100
		}
		reset_province_name = 13216
		reset_province_name = 9985
		clr_global_flag = GER_cities_renamed
		clr_global_flag = ROM_king_is_silly
	}
}

#remove MEFO bills
country_event = {
	id = germany.1001
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.1001 FROM = [From.GetName]" }
	title = germany.1001.t
	desc = germany.1001.desc
	picture = GFX_report_event_german_reichstag_gathering

	hidden = yes

	trigger = {
		original_tag = GER
		GER_has_mefo_bills = yes
		any_other_country = {
			has_war_with = GER
			NOT = { original_tag = GER }
		}
	}

	mean_time_to_happen = { days = 2 }

	option = { #remove MEFO
		name = germany.1001.a
		ai_chance = {
			base = 100
		}
		ROOT = {
			GER_remove_mefo_bills = yes
			set_country_flag = mefo_bills_removed_through_war
		}
	}
}

country_event = { #Hand over sudetenland even if we're not czech
	id = germany.1041
	title = germany.1041.t
	desc = germany.1041.desc
	picture = GFX_report_event_german_reichstag_gathering

	is_triggered_only = yes

	option = { #SURE
		name = germany.1041.a
		ai_chance = {
			base = 50
		}
		GER = {
			custom_effect_tooltip = mer_GER_transfer_all_of_sudetenland
		}
		hidden_effect = {
			GER = {
				country_event = { id = germany.1042 }
			}
		}
	}

	option = { #NO THX
		name = germany.1041.b

		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = PREV
					expire = 0
					generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 }
				}
			}
		}
		hidden_effect = {
			GER = {
				country_event = { id = germany.1043 }
			}
		}
		ai_chance = {
			base = 5 #No need for long and complicated factors here - it's an edge case
			modifier = {
				factor = 10
				is_historical_focus_on = no
			}
		}

	}
}

country_event = { #Handed Over
	id = germany.1042
	title = germany.1042.t
	desc = germany.1042.desc
	picture = GFX_report_event_german_reichstag_gathering

	is_triggered_only = yes

	option = { #SURE
		name = germany.1042.a
		custom_effect_tooltip = mer_GER_transfer_west_sudetenland
		hidden_effect = {
			473 = {
				controller = {
					GER = {
						transfer_state = 473
						transfer_state = 1433
						transfer_state = 1432
						transfer_state = 1431
						transfer_state = 1430
						transfer_state = 522
						transfer_state = 498
						transfer_state = 1434
						transfer_state = 471
						transfer_state = 1435
					}
				}
			}
		}
		custom_effect_tooltip = mer_GER_transfer_east_sudetenland
		hidden_effect = {
			507 = {
				controller = {
					GER = {
						transfer_state = 507
						transfer_state = 504
						transfer_state = 499
						transfer_state = 1428
						transfer_state = 1977
					}
				}
			}
		}
	}
}

country_event = { #Handed Over.. NOT
	id = germany.1043
	title = germany.1043.t
	desc = germany.1043.desc
	picture = GFX_report_event_german_reichstag_gathering

	is_triggered_only = yes

	option = { #NOPE
		name = germany.1043.a
		create_wargoal = {
			type = take_state_focus
			target = FROM
			expire = 0
			generator = { 1433 1432 1431 1430 522 498 1434 471 473 1435 }
		}
	}
}
# RK requests manpower
country_event = {
	id = germany.129
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.129 FROM = [From.GetName]" }
	title = germany.129.t
	desc = germany.129.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	# Ok
	option = {
		name = germany.129.a
		trigger = {
			is_in_faction = no
		}
		ai_chance = {
			base = 10
			modifier = {
				add = -10
				GER = {
					has_manpower < 400000
				}
			}
		}
		effect_tooltip = {
			GER = {
				add_manpower = -50000
				add_political_power = 50
			}
			FROM = {
				add_manpower = 50000
				add_political_power = -50
			}
		}
		FROM = { country_event = germany.130 }
		
	}

	# No ty
	option = {
		name = germany.129.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				GER = {
					has_manpower < 400000
				}
			}
		}
	}
}
# RK requests manpower - GER accepts
country_event = {
	id = germany.130
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.130 FROM = [From.GetName]" }
	title = germany.130.t
	desc = germany.130.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	# Nice
	option = {
		name = germany.130.a
		trigger = {
			is_in_faction = no
		}
		ai_chance = {
			base = 10
		}
			ROOT = {
				add_manpower = 50000
				add_political_power = -50
			}
			GER = {
				add_manpower = -50000
				add_political_power = 50
			}
		
	}
}
# RK requests manpower - GER declines
country_event = {
	id = germany.131
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.131 FROM = [From.GetName]" }
	title = germany.131.t
	desc = germany.131.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	# Damn
	option = {
		name = germany.131.a
		trigger = {
			is_in_faction = no
		}
		ai_chance = {
			base = 10
		}
		
	}
}
# Event to help German AI declare war on Yugoslavia
country_event = {
	id = germany.132
	immediate = { log = "[GetDateText]: [Root.GetName]: event germany.131 FROM = [From.GetName]" }
	title = germany.132.t
	desc = germany.132.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	option = { #War sounds good
		name = germany.132.a
		trigger = {
			is_ai = yes
		}
		ai_chance = {
			base = 10
		}
		GER = {
			declare_war_on = {
				target = YUG
				type = annex_everything
			}
		}
	}
	option = { #I'm not AI and I don't want to go to war RN
		name = germany.132.b
		trigger = {
			is_ai = no
		}
		ai_chance = {
			base = 0
		}
		GER = {
			create_wargoal = {
				type = annex_everything
				target = YUG
			}
		}
	}
}