form_scandinavia_category = {
	
	form_scandinavia = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = NOR
				original_tag = DEN
				original_tag = SWE
			}
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "Arms Against Tyranny"
			}
		}

		available = {
			is_subject = no
			# Norway
			custom_trigger_tooltip = {
				tooltip = form_country_norway_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 122
								region = 121
								region = 120
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			# Sweden
			custom_trigger_tooltip = {
				tooltip = form_country_sweden_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 123
								region = 124
								region = 119
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			# Denmark / European Mainland
			custom_trigger_tooltip = {
				tooltip = form_country_denmark_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 26
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = NOR
				original_tag = DEN
				original_tag = SWE
			}
			NOT = { has_global_flag = form_scandinavia_flag }
		}

		complete_effect = {
			set_cosmetic_tag = SCA_UNIFIED
			# Norway
			custom_effect_tooltip = form_country_norway_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = NOR
					}
					add_core_of = ROOT
				}
			}
			if = {
				limit = {
					NOR = {
						is_subject_of = ROOT
					}
				}
				
				NOR = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				
				annex_country = {
					target = NOR
					transfer_troops = yes
				}
			}
			# Sweden
			custom_effect_tooltip = form_country_sweden_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = SWE
					}
					add_core_of = ROOT
				}
			}
			if = {
				limit = {
					SWE = {
						is_subject_of = ROOT
					}
				}
				
				SWE = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				
				annex_country = {
					target = SWE
					transfer_troops = yes
				}
			}
			# Denmark / European Mainland
			custom_effect_tooltip = form_scandinavia_denmark_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = DEN
					}
					add_core_of = ROOT
				}
			}
			if = {
				limit = {
					DEN = {
						is_subject_of = ROOT
					}
				}
				
				DEN = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				
				annex_country = {
					target = DEN
					transfer_troops = yes
				}
			}
			if = {
				limit = {
					ICE = {
						is_subject_of = ROOT
					}
				}
				
				ICE = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				
				annex_country = {
					target = ICE
					transfer_troops = yes
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.53 hours = 6 }
				set_global_flag = form_scandinavia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_nordic_league_category = {

	form_nordic_league = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = NOR
				original_tag = DEN
				original_tag = SWE
				original_tag = FIN
				original_tag = ICE
				original_tag = EST
				original_tag = GRN
				original_tag = SMI
				original_tag = KAR
			}
			OR = {
				has_dlc = "Waking the Tiger"
				AND = {
					has_dlc = "No Step Back"
					original_tag = EST
				}
				AND = {
					has_dlc = "Arms Against Tyranny"
					OR = {
						original_tag = NOR
						original_tag = DEN
						original_tag = SWE
						original_tag = FIN
						original_tag = ICE
						original_tag = GRN
						original_tag = SMI
						original_tag = KAR
					}
				}
			}
		}

		available = {
			is_subject = no
			if = {
				limit = {
					NOT = { original_tag = EST }
				}
				# Norway
				custom_trigger_tooltip = {
					tooltip = form_country_norway_required_states_tt
					all_state = {
						if = {
							limit = {
								OR = {
									region = 122
									region = 121
									region = 120
								}
							}
							OR = {
								is_controlled_by = ROOT
								controller = {
									is_subject_of = ROOT
								}
							}
						}
					}
				}
				# Sweden
				custom_trigger_tooltip = {
					tooltip = form_country_sweden_required_states_tt
					all_state = {
						if = {
							limit = {
								OR = {
									region = 123
									region = 124
									region = 119
								}
							}
							OR = {
								is_controlled_by = ROOT
								controller = {
									is_subject_of = ROOT
								}
							}
						}
					}
				}
				# Denmark
				custom_trigger_tooltip = {
					tooltip = form_country_denmark_required_states_tt
					all_state = {
						if = {
							limit = {
								OR = {
									region = 26
								}
							}
							OR = {
								is_controlled_by = ROOT
								controller = {
									is_subject_of = ROOT
								}
							}
						}
					}
				}
				# Finland
				custom_trigger_tooltip = {
					tooltip = form_country_finland_required_states_tt
					all_state = {
						if = {
							limit = {
								OR = {
									region = 116
									region = 118
									region = 112
									region = 117
								}
							}
							OR = {
								is_controlled_by = ROOT
								controller = {
									is_subject_of = ROOT
								}
							}
						}
					}
				}
				# Iceland
				custom_trigger_tooltip = {
					tooltip = form_country_iceland_required_states_tt
					all_state = {
						if = {
							limit = {
								region = 219
							}
							OR = {
								is_controlled_by = ROOT
								controller = {
									is_subject_of = ROOT
								}
							}
						}
					}
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = control_all_nordic_states_tt
					all_state = {
						OR = {
							controls_or_subject_of = yes
							controller = {
								original_tag = FIN
								is_in_faction_with = ROOT
							}
							NOT = {
								AND = {
									is_core_of = NOR
									is_core_of = DEN
									is_core_of = SWE
								}
							}
						}
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = NOR
				original_tag = DEN
				original_tag = SWE
				original_tag = FIN
				original_tag = ICE
				original_tag = GRN
				original_tag = SMI
				original_tag = KAR
				AND = {
					original_tag = EST
					has_completed_focus = EST_form_scandinavia
				}
			}
			NOT = { has_global_flag = form_nordic_league_flag }
		}

		complete_effect = {
			set_cosmetic_tag = NDC_UNIFIED
			# Norway
			custom_effect_tooltip = form_country_norway_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = NOR
					}
					add_core_of = ROOT
				}
			}

			if = {
				limit = {
					NOR = {
						is_subject_of = ROOT
					}
				}
				
				NOR = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				
				annex_country = {
					target = NOR
					transfer_troops = yes
				}
			}
			# Sweden
			custom_effect_tooltip = form_country_sweden_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = SWE
					}
					add_core_of = ROOT
				}

			}

			if = {
				limit = {
					SWE = {
						is_subject_of = ROOT
					}
				}
				
				SWE = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				
				annex_country = {
					target = SWE
					transfer_troops = yes
				}
			}
			# Denmark
			custom_effect_tooltip = form_country_denmark_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = DEN
					}
					add_core_of = ROOT
				}
			}

			if = {
				limit = {
					DEN = {
						is_subject_of = ROOT
					}
				}
				
				DEN = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}				
				
				annex_country = {
					target = DEN
					transfer_troops = yes
				}
			}
			
			# Finland
			custom_effect_tooltip = form_country_finland_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = FIN
					}
					add_core_of = ROOT
				}
			}
			
			if = {
				limit = {
					FIN = {
						is_subject_of = ROOT
						OR = {
							is_subject_of = ROOT
							all_core_state = {
								controller = {
									tag = ROOT
								} 
							}
						}
					}
				}
				
				FIN = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}

				annex_country = {
					target = FIN
					transfer_troops = yes
				}
			}
			
			# Iceland
			custom_effect_tooltip = form_country_iceland_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = ICE
					}
					add_core_of = ROOT
				}
			}
			
			if = {
				limit = {
					ICE = {
						is_subject_of = ROOT
						OR = {
							is_subject_of = ROOT
							all_core_state = {
								controller = {
									tag = ROOT
								} 
							}
						}
					}
				}
				
				ICE = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}

				annex_country = {
					target = ICE
					transfer_troops = yes
				}
			}
			
			hidden_effect = {
				if = {
					limit = { NOT = { original_tag = EST } }
					news_event = { id = wtt_news.54 hours = 6 }
				}
				else = {
					news_event = { id = EST_events.3 hours = 6 }
				}
				set_global_flag = form_nordic_league_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
} 

form_north_sea_category = {

	form_north_sea_empire = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = NOR
				original_tag = DEN
			}
			has_dlc = "Arms Against Tyranny"
		}

		available = {
			is_subject = no
			NOT = { has_global_flag = form_baltic_sea_empire_flag }
			# Norway
			custom_trigger_tooltip = {
				tooltip = form_north_sea_empire_norway_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 122
								region = 121
								region = 120
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			# Sweden
			custom_trigger_tooltip = {
				tooltip = form_north_sea_empire_swedish_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								state = 184
								state = 202
								state = 203
								state = 212
								state = 2885
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			# Denmark
			custom_trigger_tooltip = {
				tooltip = form_country_denmark_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 26
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			# England
			custom_trigger_tooltip = {
				tooltip = form_north_sea_empire_english_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 45
								region = 46
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = NOR
				original_tag = DEN
			}
			hidden_trigger = {
				NOT = { has_global_flag = form_north_sea_empire_flag }
			}
		}

		complete_effect = {
			set_cosmetic_tag = NSE_UNIFIED
			# Norway
			custom_effect_tooltip = form_country_norway_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = NOR
					}
					add_core_of = ROOT
				}
			}
			if = {
				limit = {
					NOR = {
						is_subject_of = ROOT
					}
				}
				
				NOR = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}				
				
				annex_country = {
					target = NOR
					transfer_troops = yes
				}
			}
			# Denmark / European Mainland
			custom_effect_tooltip = form_scandinavia_denmark_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = DEN
					}
					add_core_of = ROOT
				}
			}
			if = {
				limit = {
					DEN = {
						is_subject_of = ROOT
					}
				}
				
				DEN = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}				
				
				annex_country = {
					target = DEN
					transfer_troops = yes
				}
			}
			# Sweden
			custom_effect_tooltip =  form_north_sea_empire_swedish_coring_states_tt
			hidden_effect = {
				184 = { add_core_of = ROOT }
				202 = { add_core_of = ROOT }
				203 = { add_core_of = ROOT }
				212 = { add_core_of = ROOT }
				2885 = { add_core_of = ROOT }
				transfer_state = 184
				transfer_state = 202
				transfer_state = 203
				transfer_state = 212
				transfer_state = 2885
			}
			# England
			custom_effect_tooltip = form_north_sea_empire_english_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							region = 45
							region = 46
						}
					}
					add_core_of = ROOT
					transfer_state_to = ROOT
				}
			}
			hidden_effect = {
				# news_event = { id = aat_news.666 hours = 6 }
				set_global_flag = form_north_sea_empire_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_baltic_sea_empire_category = {

	form_baltic_sea_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = DEN
			has_dlc = "Arms Against Tyranny"
		}

		available = {
			is_subject = no
			NOT = { has_global_flag = form_north_sea_empire_flag }
			# Sweden
			custom_trigger_tooltip = {
				tooltip = form_country_sweden_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 123
								region = 124
								region = 119
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			# Denmark
			custom_trigger_tooltip = {
				tooltip = form_country_denmark_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 26
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			# Finland
			custom_trigger_tooltip = {
				tooltip = form_country_finland_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 116
								region = 118
								region = 112
								region = 117
							}
						}
						OR = {
							is_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			# Estonia
			custom_trigger_tooltip = {
				tooltip = form_country_estonia_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = EST_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Latvia
			custom_trigger_tooltip = {
				tooltip = form_country_latvia_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = LAT_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Lithuania
			custom_trigger_tooltip = {
				tooltip = form_country_lithuania_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = LIT_INITIAL_STATE
							NOT = { state = 227 }
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			original_tag = DEN
			hidden_trigger = {
				NOT = { has_global_flag = form_baltic_sea_empire_flag }
			}
		}

		complete_effect = {
			set_cosmetic_tag = DEN_imperial
			# Sweden
			custom_effect_tooltip = form_country_sweden_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = SWE
					}
					add_core_of = ROOT
				}

			}

			if = {
				limit = {
					SWE = {
						is_subject_of = ROOT
					}
				}
				
				SWE = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				
				annex_country = {
					target = SWE
					transfer_troops = yes
				}
			}
			# Denmark
			custom_effect_tooltip = form_country_denmark_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = DEN
					}
					add_core_of = ROOT
				}
			}

			if = {
				limit = {
					DEN = {
						is_subject_of = ROOT
					}
				}
				
				DEN = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}				
				
				annex_country = {
					target = DEN
					transfer_troops = yes
				}
			}
			
			# Finland
			custom_effect_tooltip = form_country_finland_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = FIN
					}
					add_core_of = ROOT
				}
			}
			
			if = {
				limit = {
					FIN = {
						is_subject_of = ROOT
						OR = {
							is_subject_of = ROOT
							all_core_state = {
								controller = {
									tag = ROOT
								} 
							}
						}
					}
				}
				
				FIN = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}

				annex_country = {
					target = FIN
					transfer_troops = yes
				}
			}
			# Estonia
			custom_effect_tooltip = form_country_estonia_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = EST
					}
					add_core_of = ROOT
				}
			}
			# Latvia
			custom_effect_tooltip = form_country_latvia_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = LAT
					}
					add_core_of = ROOT
				}
			}
			# Lithuania
			custom_effect_tooltip = form_country_lithuania_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = LIT
					}
					add_core_of = ROOT
				}
			}

			hidden_effect = {
				news_event = { id = aat_news.777 hours = 6 }
				set_global_flag = form_baltic_sea_empire_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
} 

form_austria_hungary_category = {

	form_austria_hungary = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = AUS
				original_tag = CZE
				original_tag = CRO
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = mer_illyria_controlled_states_tt
				all_state = {
					if = {
						limit = {
							AND = {
								has_state_flag = YUG_INITIAL_STATE
								NOT = {
									has_state_flag = ITA_INITIAL_STATE
									is_core_of = SER
									is_core_of = MNT
								}
								is_core_of = VJV
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Austria
			custom_trigger_tooltip = {
				tooltip = form_country_austria_required_states_tt
				AUS = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
			}
			# Czechoslovakia
			custom_trigger_tooltip = {
				tooltip = form_country_czechoslovakia_required_states_tt
				CZE = {
					all_core_state = {
						limit = { NOT = { state = 1977 } }
						is_controlled_by = ROOT
					}
				}
			}
			# Hungary
			custom_trigger_tooltip = {
				tooltip = form_country_hungary_required_states_tt
				HUN = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = AUS
				original_tag = CZE
				original_tag = CRO
			}
			NOT = { has_global_flag = form_austria_hungary_flag }
		}

		complete_effect = {
			set_cosmetic_tag = HUN_EMPIRE
			hidden_effect = {
				if = {
					limit = {
						NOT = { tag = AUS }
					}
					AUS = { set_cosmetic_tag = AUS_NOT_WHITE }
				}
			}
			every_state = {
					limit =  {
						OR = {
							is_core_of = TRA
							is_core_of = VJV
							is_core_of = BNT
							is_core_of = SLV
							is_core_of = TIR
							is_core_of = CRO
							is_core_of = BOS
							is_core_of = SLO
							is_core_of = DLM
						}
					}
					add_core_of = ROOT
				}
			# Austria
			custom_effect_tooltip = form_country_austria_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = AUS
					}
					add_core_of = ROOT
				}
			}
			# Czechoslovakia
			custom_effect_tooltip = form_country_czechoslovakia_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = CZE
					}
					add_core_of = ROOT
				}
			}
			# Hungary
			custom_effect_tooltip = form_country_hungary_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = HUN
					}
					add_core_of = ROOT
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.56 hours = 6 }
				set_global_flag = form_austria_hungary_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	reintegrate_austro_hungarian_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = HUN
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			# Austria
			custom_trigger_tooltip = {
				tooltip = form_country_austria_required_states_tt
				AUS = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
			}
			# Czechoslovakia
			custom_trigger_tooltip = {
				tooltip = form_country_czechoslovakia_required_states_tt
				CZE = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
			}
			# Hungary
			custom_trigger_tooltip = {
				tooltip = form_country_hungary_required_states_tt
				HUN = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			tag = HUN
			has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary
			NOT = { has_global_flag = reintegrate_the_empire_flag }
		}

		complete_effect = {
			# Austria
			custom_effect_tooltip = form_country_austria_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = AUS
					}
					add_core_of = ROOT
				}
			}
			# Czechoslovakia
			custom_effect_tooltip = form_country_czechoslovakia_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = CZE
					}
					add_core_of = ROOT
				}
			}
			# Hungary
			custom_effect_tooltip = form_country_hungary_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = HUN
					}
					add_core_of = ROOT
				}
			}
			every_state = {
					limit =  {
						OR = {
							region = 12
							region = 23
							region = 24
							is_core_of = JUL 
							is_core_of = TIR 
						}
					}
					add_core_of = ROOT
				}
			set_global_flag = reintegrate_the_empire_flag
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_commonwealth_category = {

	form_commonwealth = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = POL
				original_tag = LIT
			}
		}

		available = {
			is_subject = no
			# Lithuania
			custom_trigger_tooltip = {
				tooltip = form_country_lithuania_required_states_tt
				OR = {
					AND = {
						LIT = {
							is_subject_of = ROOT
						}
						NOT = {
							any_state = {
								is_core_of = LIT
								NOT = { is_core_of = PRE }
								NOT = { is_core_of = POL }
								controller = {
									NOT = {
										original_tag = LIT
									}
								}
							}
						}
					}
					NOT = {
						any_state = {
							is_core_of = LIT
							NOT = { is_core_of = PRE }
							NOT = {
								is_controlled_by = ROOT
							}
						}
					}
				} 
			}
			# Poland
			custom_trigger_tooltip = {
				tooltip = form_country_poland_required_states_tt
				OR = {
					AND = {
						POL = {
							is_subject_of = ROOT
						}
						NOT = {
							any_state = {
								is_core_of = POL
								NOT = { is_core_of = CZE }
								NOT = { is_core_of = LIT }
								NOT = { is_core_of = DNZ }
								controller = {
									NOT = {
										original_tag = POL
									}
								}
							}
						}
					}
					NOT = {
						any_state = {
							is_core_of = POL
							NOT = { is_core_of = CZE }
							NOT = {
								is_controlled_by = ROOT
							}
						}
					}
				}
			}
			OR = {
				AND = {
					original_tag = POL
					core_compliance = {
						occupied_country_tag = LIT
						value > 80
					}
				}
				AND = {
					original_tag = LIT
					core_compliance = {
						occupied_country_tag = POL
						value > 80
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = POL
				original_tag = LIT
			}
			NOT = { has_global_flag = form_commonwealth_flag }
		}

		complete_effect = {
			if = {
				limit = { has_cosmetic_tag = POL_KINGDOM_RUS }
				set_cosmetic_tag = PLC_UNIFIED_RUS
			}
			else = {
				set_cosmetic_tag = PLC_UNIFIED
			}
			POL_basic_form_commonwealth = yes
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_united_netherlands_category = {

	form_united_netherlands = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = HOL
				original_tag = BEL
				original_tag = LUX
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			# Luxembourg
			custom_trigger_tooltip = {
				tooltip = form_eu_luxembourg_required_states_tt
				controls_state = 404
				controls_state = 512
				controls_state = 427
			}
			# Netherlands
			custom_trigger_tooltip = {
				tooltip = form_eu_netherlands_required_states_tt
				all_state = {
					if = {
						limit = {
							region = 4
						}
						is_controlled_by = ROOT
					}
				}
				
			}
			# Belgium
			custom_trigger_tooltip = {
				tooltip = form_eu_belgium_required_states_tt
				controls_state = 454
				controls_state = 455
				controls_state = 444
				controls_state = 470
				controls_state = 456
				controls_state = 422
				controls_state = 482
				controls_state = 487
				controls_state = 480
				controls_state = 2370
				controls_state = 2369
				controls_state = 500
				controls_state = 2368
			}
		}

		visible = {
			OR = {
				original_tag = HOL
				original_tag = BEL
				original_tag = LUX
			}
			NOT = { has_global_flag = form_united_netherlands_flag }
			NOT = { has_global_flag = HOL_benelux_formed }
		}

		complete_effect = {
			set_cosmetic_tag = UNL_UNIFIED
			# Luxembourg
			custom_effect_tooltip = form_eu_luxembourg_coring_states_tt
			hidden_effect = {
				404 = { add_core_of = ROOT }
				512 = { add_core_of = ROOT }
				427 = { add_core_of = ROOT }
			}
			# Netherlands
			custom_effect_tooltip = form_eu_netherlands_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						region = 4
					}
					add_core_of = HOL
				}
			}
			# Belgium
			custom_effect_tooltip = form_eu_belgium_coring_states_tt
			hidden_effect = {
				454 = { add_core_of = ROOT }
				455 = { add_core_of = ROOT }
				444 = { add_core_of = ROOT }
				470 = { add_core_of = ROOT }
				456 = { add_core_of = ROOT }
				422 = { add_core_of = ROOT }
				482 = { add_core_of = ROOT }
				487 = { add_core_of = ROOT }
				480 = { add_core_of = ROOT }
				2370 = { add_core_of = ROOT }
				2369 = { add_core_of = ROOT }
				500 = { add_core_of = ROOT }
				2368 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.58 hours = 6 }
				set_global_flag = form_united_netherlands_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_baltic_federation_category = {

	form_baltic_federation = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = EST
				original_tag = LAT
				original_tag = LIT
			}
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "No Step Back"
			}
		}

		available = {
			is_subject = no
			# Estonia
			custom_trigger_tooltip = {
				tooltip = form_country_estonia_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = EST_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Latvia
			custom_trigger_tooltip = {
				tooltip = form_country_latvia_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = LAT_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Lithuania
			custom_trigger_tooltip = {
				tooltip = form_country_lithuania_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = LIT_INITIAL_STATE
							NOT = { state = 227 }
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = EST
				original_tag = LAT
				original_tag = LIT
			}
			NOT = { has_global_flag = form_baltic_federation_flag }
			NOT = { has_cosmetic_tag = LIVONIA }
			NOT = { has_completed_focus = LIT_claim_livonia_monarchy }
			NOT = { has_completed_focus = LIT_POL_union }
		}

		complete_effect = {
			set_cosmetic_tag = BAL_UNIFIED
			# Estonia
			custom_effect_tooltip = form_country_estonia_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = EST
					}
					add_core_of = ROOT
				}
			}
			# Latvia
			custom_effect_tooltip = form_country_latvia_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = LAT
					}
					add_core_of = ROOT
				}
			}
			# Lithuania
			custom_effect_tooltip = form_country_lithuania_coring_states_tt
			hidden_effect = {
				every_state = {
					limit =  {
						is_core_of = LIT
					}
					add_core_of = ROOT
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.60 hours = 6 }
				set_global_flag = form_baltic_federation_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_ottoman_empire_category = {

	form_ottoman_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Waking the Tiger"
			NOT = { has_dlc = "Battle for the Bosporus" }
		}

		available = {
			is_subject = no
			controls_state = 679
			controls_state = 855
			controls_state = 856
			controls_state = 293
			controls_state = 454
			controls_state = 455
			controls_state = 656
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				TUR = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				IRQ = {
					all_core_state = {
						
					}
				}
			}
			# France
			custom_trigger_tooltip = {
				tooltip = form_persia_france_required_states_tt
				# Syria
				controls_state = 677
				controls_state = 680
				controls_state = 553
				controls_state = 554
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = form_ottoman_empire_flag }
		}

		complete_effect = {
			set_cosmetic_tag = OTT_UNIFIED
			679 = { add_core_of = ROOT }
			855 = { add_core_of = ROOT }
			856 = { add_core_of = ROOT }
			293 = { add_core_of = ROOT }
			665 = { add_core_of = ROOT }
			458 = { add_core_of = ROOT }
			# Iraq
			custom_effect_tooltip = form_country_iraq_coring_states_tt
			hidden_effect = {
				676 = { add_core_of = ROOT }
				675 = { add_core_of = ROOT }
				291 = { add_core_of = ROOT }
			}
			# France
			custom_effect_tooltip = form_persia_france_coring_states_tt
			hidden_effect = {
				677 = { add_core_of = ROOT }
				799 = { add_core_of = ROOT }
				680 = { add_core_of = ROOT }
				553 = { add_core_of = ROOT }
				554 = { add_core_of = ROOT }
			}
			# Italian North Africa and Dodecanese
			custom_effect_tooltip = form_ottoman_italy_coring_states_tt
			hidden_effect = {
				448 = { add_core_of = ROOT }
				661 = { add_core_of = ROOT }
				449 = { add_core_of = ROOT }
				662 = { add_core_of = ROOT }
				450 = { add_core_of = ROOT }
				451 = { add_core_of = ROOT }
				663 = { add_core_of = ROOT }
				164 = { add_core_of = ROOT }
			}
			# Britain
			custom_effect_tooltip = form_persia_britain_coring_states_tt
			hidden_effect = {
				452 = { add_core_of = ROOT }
				447 = { add_core_of = ROOT }
				446 = { add_core_of = ROOT }
				456 = { add_core_of = ROOT }
				457 = { add_core_of = ROOT }
				453 = { add_core_of = ROOT }
				454 = { add_core_of = ROOT }
				455 = { add_core_of = ROOT }
				183 = { add_core_of = ROOT }
				656 = { add_core_of = ROOT }
				907 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.61 hours = 6 }
				set_global_flag = form_ottoman_empire_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_reform_the_eyalet_of_rumelia = { #Greece + Albania + Bulgaria + South Yugoslavia

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			#Greece
				GRE = {
 					all_core_state = {
  						if = {
    						limit = {
				    			 NOT = { 
				    			 	OR = {
				    			 		is_core_of = CYP 
				    			 		state = 1554
				    			 		is_core_of = CRT
				    			 	}
				    			 }
				    		}
				   			is_owned_by = ROOT
				   		}
					}
				}
			
			#Bulgaria
				BUL = {
 					all_core_state = {
				   		is_owned_by = ROOT
					}
				}
			
			#Yugoslavia 
				SER = {
 					all_core_state = {
  						if = {
    						limit = {
				    			 NOT = { 
				    			 	OR = {
				    			 		is_core_of = VJV 
				    			 		state = 1554
				    			 		is_core_of = CRT
				    			 	}
				    			 }
				    		}
				   			is_owned_by = ROOT
				   		}
					}
				}
				MNT = {
 					all_core_state = {
				   		is_owned_by = ROOT
					}
				}
				MAC = {
 					all_core_state = {
				   		is_owned_by = ROOT
					}
				}
			
			#Albania			
				ALB = {
 					all_core_state = {
						if = {
							limit = {
								NOT = { state = 2914 }
							}
						}
				   		is_owned_by = ROOT
					}
				}
			
		}
		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_balkans_flag }
			has_completed_focus = TUR_reclaim_macedonia
		}

		complete_effect = {
			# Greece
				every_state = {
					limit = {
						is_core_of = GRE
						NOT = {
							OR = {
								is_core_of = CYP
								is_core_of = CRT
								state = 1554
							}
						}
					}
					add_core_of = TUR
				}
			
			# Bulgaria
				every_state = {
					limit = {
						is_core_of = BUL
						NOT = {
							is_core_of = ROM
						}
					}
					add_core_of = TUR
				}
			
			# Yugoslavia
				every_state = {
					limit = {
						OR = {
							is_core_of = SER
							is_core_of = MNT
							is_core_of = MAC
						}
						NOT = {
							OR = {
								is_core_of = CYP
								is_core_of = CRT
								state = 1554
							}
						}
					}
					add_core_of = TUR
				}
			every_state = {
					limit = {
						is_core_of = ALB
					}
					add_core_of = TUR
				}
			
			hidden_effect = {
				set_global_flag = ottoman_balkans_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_merge_the_eyalets_of_morea_crete_and_kibris = { #Greece + Cyprus

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			#Greece
			CRT = {
 				all_core_state = {
				   	is_owned_by = ROOT
				}
			}
			controls_state = 1554
			CYP = {
 				all_core_state = {
				   	is_owned_by = ROOT
				}
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_greece_flag }
			has_completed_focus = TUR_reclaim_macedonia
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						state = 1554
						is_core_of = CRT
						is_core_of = CYP
					}
				}
				add_core_of = ROOT
			}
			hidden_effect = {
				set_global_flag = ottoman_greece_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_enlarge_the_vilayet_of_bosnia = {

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			owns_state = 811
			owns_state = 815
			owns_state = 1999
			custom_trigger_tooltip = {
				tooltip = mer_ott_owns_krajina
				KRJ = {
					all_core_state = {
						if = {
							limit = {
								NOT = {
									state = 1468
									state = 1471
									state = 1472
									state = 2881
								}
							}
							is_owned_by = ROOT
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = mer_ott_owns_slavonia
				owns_state = 1468
				owns_state = 1471
				owns_state = 1472
				owns_state = 2881
				owns_state = 721
				owns_state = 1469
				owns_state = 2830
				owns_state = 2832
			}
			BOS = {
 				all_core_state = {
				   	is_owned_by = ROOT
				}
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_bosnia_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = BOS
						is_core_of = KRJ
						state = 721
						state = 811
						state = 815
						state = 1469
						state = 1999
						state = 2830
						state = 2832
					}
				}
				add_core_of = ROOT
			}
			hidden_effect = {
				set_global_flag = ottoman_bosnia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_the_danube_and_moldova = { #Romania

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			owns_state = 1603
			owns_state = 2744
			owns_state = 2745
			custom_trigger_tooltip = {
				tooltip = mer_ott_owns_rom_banat
				BNT = {
					all_core_state = {
						if = {
							limit = {
								is_core_of = ROM
							}
							is_owned_by = ROOT
						}
					}
				}
			}
			DOB = {
 				all_core_state = {
				   	is_owned_by = ROOT
				}
			}
			BDZ = {
 				all_core_state = {
				   	is_owned_by = ROOT
				}
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_romania_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = DOB
						is_core_of = BDZ
						AND = {
							is_core_of = BNT
							is_core_of = ROM
						}
						state = 1603
						state = 2744
						state = 2745
					}
				}
				add_core_of = ROOT
			}
			hidden_effect = {
				set_global_flag = ottoman_romania_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_halep = { #Syria

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			# France
				# Syria
			SYR = {
 				all_core_state = {
				   	is_owned_by = ROOT
				}
			}
			
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_syria_flag }
			OR = {
				has_completed_focus = TUR_reclaiming_our_lost_empire
				has_completed_focus = TUR_the_damascus_diktat
			}
		}

		complete_effect = {
			# French Syria
			every_state = {
				limit = {
					is_core_of = SYR
				}
				add_core_of = ROOT
			}
			hidden_effect = {
				set_global_flag = ottoman_syria_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_beirut = { #Lebanon + Levant

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			LEB = {
 				all_core_state = {
				   	is_owned_by = ROOT
				}
			}
			JOR = {
 				all_core_state = {
				   	is_owned_by = ROOT
				}
			}
			PAL = {
 				all_core_state = {
				   	is_owned_by = ROOT
				}
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_levant_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						AND = {
							NOT = {
							is_core_of = JBS
							}
							is_core_of = JOR
						}
						is_core_of = PAL
						is_core_of = LEB
					}

				}
				add_core_of = ROOT

			}
			hidden_effect = {
				set_global_flag = ottoman_levant_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_baghdad = { #Iraq

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			IRQ = {
			all_core_state = {
				is_owned_by = ROOT
			}
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_mesopotamia_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						AND = {
							NOT = {
							is_core_of = JBS
							}
							is_core_of = IRQ
						}
						
						is_core_of = KUW

					}
				}
				add_core_of = ROOT
			}
			hidden_effect = {
				set_global_flag = ottoman_mesopotamia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_extend_the_lasha_eyalet = { #Arabia + Gulf + Oman

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			SAU = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
			
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_arabia_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = QAT
						is_core_of = UAE
						is_core_of = OMA
						AND = {
							is_core_of = SAU
								NOT = {
									is_core_of = JBS
									is_core_of = NJD
								}
						}
						
					}
				}
				add_core_of = ROOT
			}
			create_wargoal = { 
				type = annex_everything
				target = OMA
			}
			hidden_effect = {
				set_global_flag = ottoman_arabia_flag
			}

			every_state = {
				limit = {
					is_core_of = JBS
					is_owned_by = ROOT
				}
				transfer_state_to = JBS
			}
			puppet = JBS
			every_state = {
				limit = {
					is_core_of = NJD
					is_owned_by = ROOT
				}
				transfer_state_to = NJD
			}
			puppet = NJD
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_merge_the_eyalets_of_jeddah_habesh_and_yemen = { #Yemen + Hejaz

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			controls_state = 679
			controls_state = 293
			controls_state = 659
			controls_state = 855
			controls_state = 856
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_yemen_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
			has_global_flag = NEVER
		}

		complete_effect = {
			679 = { add_core_of = ROOT }
			293 = { add_core_of = ROOT }
			659 = { add_core_of = ROOT }
			855 = { add_core_of = ROOT }
			856 = { add_core_of = ROOT } 
			hidden_effect = {
				set_global_flag = ottoman_yemen_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_integrate_the_khedivate_of_egypt = { #Egypt

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			EGY = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_egypt_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			every_state = {
				limit = {
					is_core_of = EGY
				}
				add_core_of = ROOT
			}
			hidden_effect = {
				set_global_flag = ottoman_egypt_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_tripolitania = { #Libya

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			LBA = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}

		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_libya_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			# Italian North Africa
			every_state = {
				limit = {
					is_core_of = LBA
				}
				add_core_of = ROOT
			}
			hidden_effect = {
				set_global_flag = ottoman_libya_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_absorb_the_tunis_and_algerian_eyalets = { #Tunisia + Algeria

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			ALG = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
			TUN = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_tunisia_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = ALG
						is_core_of = TUN
					}
				}
				add_core_of = ROOT
			}
			hidden_effect = {
				set_global_flag = ottoman_tunisia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_european_union_category = {

	form_european_union = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = HOL
				original_tag = BEL
				original_tag = LUX
				original_tag = FRA
				original_tag = ITA
				original_tag = GER
				original_tag = WGR
				original_tag = ENG
			}
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "Man the Guns"
			}
		}

		available = {
			is_subject = no
			controls_state = 8
			# Netherlands
			custom_trigger_tooltip = {
				tooltip = form_eu_netherlands_required_states_tt
				all_state = {
					if = {
						limit = {
							is_core_of = HOL
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Belgium
			custom_trigger_tooltip = {
				tooltip = form_eu_belgium_required_states_tt
				all_state = {
					if = {
						limit = {
							is_core_of = BEL
						}
						is_controlled_by = ROOT
					}
				}
			}
			# France
			custom_trigger_tooltip = {
				tooltip = form_eu_france_required_states_tt
				all_state = {
					if = {
						limit = {
							is_core_of = FRA
							is_on_continent = europe
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Italy
			custom_trigger_tooltip = {
				tooltip = form_eu_italy_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 16
								region = 25
								region = 17
								region = 18
								region = 19
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Germany
			custom_trigger_tooltip = {
				tooltip = form_country_germany_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 35
								region = 36
								region = 70
								region = 64
								region = 40
								region = 69
								region = 68
								region = 9
								AND = {
									region = 95
									NOT = {
										state = 2341
										state = 264
										state = 267
										state = 1979
										state = 546
										state = 2729
										state = 280
									}
								}
								AND = {
									region = 11
									NOT = {
										state = 2329
										state = 481
										state = 2262
										state = 467
										state = 509
										state = 2932
									}
								}
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			OR = { 
				AND = {
					OR = {
						original_tag = HOL
						original_tag = BEL
						original_tag = LUX
						original_tag = FRA
						original_tag = ITA
						original_tag = GER
					}
					has_government = democratic
				}
				AND = {
					original_tag = ENG
					has_country_leader = {
						character = ENG_oswald_mosley
						ruling_only = yes
					}
					has_completed_focus = ENG_imperial_federation
				}
			}
			NOT = { has_global_flag = form_european_union_flag }
			is_major = yes
		}

		complete_effect = {
			if = {
				limit = {
					NOT = { original_tag = ENG }
				}
			set_cosmetic_tag = EUR_UNIFIED
			}
			else = {
				set_cosmetic_tag = ENG_imperial_federation_unified #Europe-a-Nation
			}
			# Netherlands
			custom_effect_tooltip = form_eu_netherlands_coring_states_tt 
			hidden_effect = {
				every_state = {
					limit = {
						region = 4
					}
					add_core_of = ROOT
				}
			}
			# Belgium
			custom_effect_tooltip = form_eu_belgium_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						region = 4
					}
					add_core_of = ROOT
				}
			}
			# France
			custom_effect_tooltip = form_eu_france_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = FRA
					}
					add_core_of = ROOT
				}
			}
			# Italy
			custom_effect_tooltip = form_eu_italy_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
								region = 16
								region = 25
								region = 17
								region = 18
								region = 19
							}
					}
					add_core_of = ROOT
				}
			}
			# Germany
			custom_effect_tooltip = form_country_germany_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
								region = 35
								region = 36
								region = 70
								region = 64
								region = 40
								region = 69
								region = 68
								region = 9
								AND = {
									region = 95
									NOT = {
										state = 2341
										state = 264
										state = 267
										state = 1979
										state = 546
										state = 2729
										state = 280
									}
								}
								AND = {
									region = 11
									NOT = {
										state = 2329
										state = 481
										state = 2262
										state = 467
										state = 509
										state = 2932
									}
								}
							}
					}
					add_core_of = ROOT
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.62 hours = 6 }
				set_global_flag = form_european_union_flag
				set_country_flag = form_european_union_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_roman_empire_category = {

	form_roman_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			IF = { #TODO_J add focus requirement when implemented
				limit = {
					has_dlc = "By Blood Alone"
				}

			}
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = form_country_albania_required_states_tt
				# Albania
				all_state = {
					if = {
						limit = {
							region = 20
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Yugoslavia
			custom_trigger_tooltip = {
				tooltip = form_country_mare_nostrum_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = DLM
								state = 1478
								state = 2829
								state = 754
								state = 2924
								state = 1477
								state = 2911
								state = 1473
								state = 2651
								state = 2895
								state = 2825
								state = 743
								state = 1486
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_mare_nostrum_greece_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = GRE
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_mare_nostrum_turkey_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								AND = {
									is_core_of = THR
									is_core_of = TUR
								}
								state = 991
								state = 2768
								state = 945
								state = 2771
								state = 1939
								state = 948
								state = 1932
								state = 1931
								state = 2767
								state = 988
								state = 2769
								state = 1935
								state = 1032
								state = 1941
								state = 1084
								state = 1942
								state = 1094
								state = 2879
								state = 1097
								state = 1943
								state = 1954
								state = 1098
								state = 1066
								state = 1095
								state = 1956
								state = 1955
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Italy
			custom_trigger_tooltip = {
				tooltip = form_spqr_italy_required_states_tt
				all_state = {
					if = {
						limit = {
							
							is_core_of = ITA
							is_on_continent = europe
							
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Spain
			custom_trigger_tooltip = {
				tooltip = form_spqr_coastal_spain_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_catalonia_group = yes
								is_balearic_group = yes
								is_murcia_group = yes
								is_valencia_group = yes
								is_granada_group = yes
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# France
			custom_trigger_tooltip = {
				tooltip = form_spqr_coastal_france_required_states_tt
				controls_state = 1422
				controls_state = 866
				controls_state = 807
				controls_state = 822
				controls_state = 850
				controls_state = 871
				controls_state = 855
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = SAV
								is_core_of = PRV
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# British Mediterranean
			custom_trigger_tooltip = {
				tooltip = form_mare_nostrum_coastal_uk_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = CYP
								is_core_of = MLT
								state = 882
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# North Africa (Morocco to Libya)
			custom_trigger_tooltip = {
				tooltip = form_country_mare_nostrum_north_africa_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = MOR
								is_core_of = ALG
								is_core_of = TUN
								is_core_of = LBA
							}
							NOT = { region = 66 }
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Middle East (Egypt to Syria)
			custom_trigger_tooltip = {
				tooltip = form_country_mare_nostrum_middle_east_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 59
								region = 58
								region = 57
								is_core_of = PAL
								is_core_of = LEB
								is_core_of = ALW
								state = 1123
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			original_tag = ITA
			NOT = { has_global_flag = form_roman_empire_flag }
			ITA = {
				OR = {
					has_completed_focus = ITA_mare_nostrum_bba
					has_completed_focus = ITA_the_catholic_dominion
				}
			}
		}

		complete_effect = {
			set_cosmetic_tag = SPQR_UNIFIED
			custom_effect_tooltip = form_spqr_core_mare_nostrum_states_tt
 			hidden_effect = {
				add_state_core = 1422
				add_state_core = 866
				add_state_core = 807
				add_state_core = 822
				add_state_core = 850
				add_state_core = 871
				add_state_core = 855
 				every_state = {
					limit = {
						NOT = { region = 66 }
						OR = {
							region = 20
							is_core_of = DLM
								state = 1478
								state = 2829
								state = 754
								state = 2924
								state = 1477
								state = 2911
								state = 1473
								state = 2651
								state = 2895
								state = 2825
								state = 743
								state = 1486
							is_core_of = GRE
							region = 59
								region = 58
								region = 57
								is_core_of = PAL
								is_core_of = LEB
								is_core_of = ALW
								state = 1123
								is_core_of = MOR
								is_core_of = ALG
								is_core_of = TUN
								is_core_of = LBA
								is_core_of = CYP
								is_core_of = MLT
								state = 882
								is_core_of = SAV
								is_core_of = PRV
								is_catalonia_group = yes
								is_balearic_group = yes
								is_murcia_group = yes
								is_valencia_group = yes
								is_granada_group = yes
							AND = {
									is_core_of = THR
									is_core_of = TUR
								}
								state = 991
								state = 2768
								state = 945
								state = 2771
								state = 1939
								state = 948
								state = 1932
								state = 1931
								state = 2767
								state = 988
								state = 2769
								state = 1935
								state = 1032
								state = 1941
								state = 1084
								state = 1942
								state = 1094
								state = 2879
								state = 1097
								state = 1943
								state = 1954
								state = 1098
								state = 1066
								state = 1095
								state = 1956
								state = 1955
						}
					}
					add_core_of = ROOT
				}

 			}
			
			
			hidden_effect = {
				news_event = { id = wtt_news.64 hours = 6 }
				set_global_flag = form_roman_empire_flag
				if = {
					limit = {
						has_country_leader = { ruling_only = yes character = ITA_benito_mussolini }
					}
					ITA_benito_mussolini = {
						set_character_name = {
							name = ITA_benito_mussolini_roman_emperor
						}
						set_portraits = {
							civilian = { large = GFX_portrait_italy_emperor_mussolini }
						}
					}
				}
				#else_if = { #Skipping Balbo and Grandi for now since they have no roman emperor portraits
				#	limit = {
				#		has_country_leader = { ruling_only = yes character = ITA_italo_balbo }
				#	}
				#	ITA_italo_balbo = {
				#		set_character_name = {
				#			name = ITA_italo_balbo_roman_emperor
				#		}
				#	}
				#}
				#else_if = { #Skipping Balbo and Grandi for now since they have no roman emperor portraits
				#	limit = {
				#		has_country_leader = { ruling_only = yes character = ITA_dino_grandi }
				#	}
				#	ITA_dino_grandi = {
				#		set_character_name = {
				#			name = ITA_dino_grandi_roman_emperor
				#		}
				#	}
				#}
				else_if = { #Skipping Balbo and Grandi for now since they have no roman emperor portraits
					limit = {
						has_country_leader = { ruling_only = yes character = ITA_vittorio_emanuele_iii }
					}
					ITA_vittorio_emanuele_iii = {
						set_character_name = {
							name = ITA_vittorio_emanuele_iii_roman_emperor
						}
						set_portraits = {
							civilian = { large = GFX_portrait_ITA_emperor_vittorio_emanuele_III }
						}
					}
				}
				else_if = { #Skipping Balbo and Grandi for now since they have no roman emperor portraits
					limit = {
						has_country_leader = { ruling_only = yes character = ITA_prince_umberto }
					}
					ITA_prince_umberto = {
						set_character_name = {
							name = ITA_prince_umberto_roman_emperor
						}

						set_portraits = {
							civilian = { large = GFX_portrait_ITA_emperor_umberto }
						}
					}
				}
				if = {
					limit = {
						has_government = fascism
					}
					ITA_remove_king_vittorio_emanuele_as_idea = yes
				}
			}

			add_stability = 0.1

		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}


	reintigrate_hispania = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
							AND = {
								is_mainland_spain_vanilla_groups = yes
								NOT = {
									is_balearic_group = yes
									is_catalonia_group = yes
									is_valencia_group = yes
									is_murcia_group = yes
									is_granada_group = yes
									is_spanish_nafrica_group = yes
								}
							}
							is_core_of = POR
						}
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = {
			original_tag = ITA
			NOT = { has_global_flag = reclaim_hispania_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = {

			every_state = {
				limit = {
					OR = {
							AND = {
								is_mainland_spain_vanilla_groups = yes
								NOT = {
									is_balearic_group = yes
									is_catalonia_group = yes
									is_valencia_group = yes
									is_murcia_group = yes
									is_granada_group = yes
									is_spanish_nafrica_group = yes
								}
							}
							is_core_of = POR
						}
				}
				add_core_of = ROOT
			}	
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = reclaim_hispania_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}


	reintigrate_dacia = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			all_state = {
				if = {
					limit = {
						OR = {
							region = 12
							state = 800
							state = 759
							state = 774
							state = 781
							state = 797
							state = 797
							state = 2364
							state = 2363
							state = 2359
						}
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = reclaim_dacia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = {

			every_state = {
				limit = {
					OR = {
							region = 12
							state = 800
							state = 759
							state = 774
							state = 781
							state = 797
							state = 797
							state = 2364
							state = 2363
							state = 2359
						}
				}
				add_core_of = ROOT
			}

			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = reclaim_dacia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}


	reintigrate_moesia = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						region = 13
					}
					is_controlled_by = ROOT
				}
			}
			

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = reclaim_moesia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = {

			every_state = {
				limit = {
					region = 13
				}
				add_core_of = ROOT
			}



			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = reclaim_moesia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	reintigrate_aegyptus = {

		icon = GFX_decision_generic_nationalism

		cost = 75

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						region = 50
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = reclaim_aegyptus_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = {

			every_state = {
				limit = {
					region = 50
				}
				add_core_of = ROOT
			}

			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = reclaim_aegyptus_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	restore_mesopotamia = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						is_core_of = IRQ
						NOT = {
							is_core_of = JBS
						}
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = restore_mesopotamia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = {
 

			every_state = {
				limit = {
					is_core_of = IRQ
					NOT = {
							is_core_of = JBS
						}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = restore_mesopotamia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	reconquer_galatia_et_cappadocia = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
								region = 60
								region = 72
								region = 73
								region = 74
								region = 71
								region = 125
								region = 103
								region = 102
								region = 48
								state = 2248
								state = 1001
								state = 2256
								state = 953
								state = 925
								state = 933
								state = 971
							}
					}
					is_controlled_by = ROOT
				}
			}
			

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = reconquer_cappadocia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = {
 

			every_state = {
				limit = {
					OR = {
						region = 60
								region = 72
								region = 73
								region = 74
								region = 71
								region = 125
								region = 103
								region = 102
								region = 48
								state = 2248
								state = 1001
								state = 2256
								state = 953
								state = 925
								state = 933
								state = 971
					}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = reconquer_cappadocia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	integrate_armenian_lands = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						is_core_of = ARM
						NOT = {
							is_core_of = NGK
						}
					}
					is_controlled_by = ROOT
				}
			}
			

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = integrate_armenia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				limit = {
					OR = {
						AND = {
							is_core_of = ARM
							NOT = {
								is_core_of = NGK
							}
						}
						state = 1023
					}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = integrate_armenia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	restore_order_in_arabia_petra = {

		icon = GFX_decision_generic_nationalism

		cost = 75

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
							AND = {
								is_core_of = JOR
								NOT = {
									is_core_of = JBS
								}
							} 
							is_core_of = HJZ
						}
					}
					is_controlled_by = ROOT
				}
			}
			

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = integrate_petra_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				limit = {
					OR = {
							AND = {
								is_core_of = JOR
								NOT = {
									is_core_of = JBS
								}
							} 
							is_core_of = HJZ
						}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = integrate_petra_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	restore_order_in_mauretania = {

		icon = GFX_decision_generic_nationalism

		cost = 75

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						is_core_of = MOR
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = integrate_mauretania_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 
			every_state = {
				limit = {
					is_core_of = MOR
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = integrate_mauretania_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	return_to_pannonia = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
							region = 52
							region = 23
						}
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = integrate_pannonia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				limit = {
					OR = {
							region = 52
							region = 23
						}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = integrate_pannonia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	restore_roman_rule_to_raetia_et_noricum = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
							is_core_of = SWI
							is_core_of = AUS
						}
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = integrate_alps_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				limit = {
					OR = {
						is_core_of = SWI
						is_core_of = AUS
					}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = integrate_alps_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	restore_roman_rule_to_gaul = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
							region = 61
							region = 91
							region = 87
							region = 90
							region = 88
							region = 92
							region = 89
							region = 62
							region = 67
							region = 93
						}
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = integrate_gaul_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				limit = {
					OR = {
							region = 61
							region = 91
							region = 87
							region = 90
							region = 88
							region = 92
							region = 89
							region = 62
							region = 67
							region = 93
						}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			 
			hidden_effect = { 
				set_global_flag = integrate_gaul_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	restore_roman_rule_to_belgica = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
							region = 5
							state = 2344
							state = 2717
							state = 432
							state = 479
							state = 2845
							state = 2713
							state = 1974
							state = 451
							state = 2331
							state = 2875
							state = 2332
						}
					}
					is_controlled_by = ROOT
				}
			}
			

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = integrate_belgica_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				limit = {
					OR = {
							region = 5
							state = 2344
							state = 2717
							state = 432
							state = 479
							state = 2845
							state = 2713
							state = 1974
							state = 451
							state = 2331
							state = 2875
							state = 2332
						}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			  
			hidden_effect = { 
				set_global_flag = integrate_belgica_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	occupy_iberia = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
							is_core_of = GEO
							is_core_of = AZR
							NOT = {
								is_core_of = TBZ
							}
						}
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = occupy_iberia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				limit = {
					OR = {
							is_core_of = GEO
							is_core_of = AZR
							NOT = {
								is_core_of = TBZ
							}
						}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			  
			hidden_effect = { 
				set_global_flag = occupy_iberia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	return_to_britannia = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
							is_core_of = MER
							is_core_of = EAG
							is_core_of = WSX
							is_core_of = SSX
							is_core_of = KNT
							is_core_of = WLS
							is_core_of = NRT
							is_core_of = KER
							is_core_of = ESX
							state = 2475
						}
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = return_to_britannia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				limit = {
					OR = {
							is_core_of = MER
							is_core_of = EAG
							is_core_of = WSX
							is_core_of = SSX
							is_core_of = KNT
							is_core_of = WLS
							is_core_of = NRT
							is_core_of = KER
							is_core_of = ESX
							state = 2475
						}
				}
				add_core_of = ROOT
			}
			
			
			add_stability = -0.05
			  
			hidden_effect = { 
				set_global_flag = return_to_britannia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	conquer_hibernia = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						is_core_of = IRE
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = conquer_hibernia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				
					limit = {
						is_core_of = IRE
					}
					add_core_of = ROOT
				
			}
			
			
			add_stability = -0.05
			  
			hidden_effect = { 
				set_global_flag = conquer_hibernia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	conquer_caledonia = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						is_core_of = SCO
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = conquer_caledonia_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				
					limit = {
						is_core_of = SCO
					}
					add_core_of = ROOT
				
			}
			
			
			add_stability = -0.05
			  
			hidden_effect = { 
				set_global_flag = conquer_caledonia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	avenge_teutoburg = {

		icon = GFX_decision_generic_nationalism

		cost = 100

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			all_state = {
				if = {
					limit = {
						OR = {
							region = 4
							region = 35
							region = 36
						}
					}
					is_controlled_by = ROOT
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = avenge_teutoberg_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				
					limit = {
						OR = {
							region = 4
							region = 35
							region = 36
						}
					}
					add_core_of = ROOT
				
			}
			
			
			add_stability = -0.05
			  
			hidden_effect = { 
				set_global_flag = avenge_teutoberg_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	reestablish_the_bosporan_kingdom = {

		icon = GFX_decision_generic_nationalism

		cost = 120

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			
			all_state = {
				if = {
					limit = {
						OR = {
							is_core_of = ODS
							region = 106
							region = 78
							region = 105
							state = 2082
							state = 511
							state = 2723
							state = 2733
							state = 2942
							state = 2725
							state = 2083
							state = 2741
							state = 2409
							state = 2862
						}
					}
					is_controlled_by = ROOT
				}
			}

			OR = {
				CRI = {
					exists = no
				}
				CRI = {
					is_subject_of = ITA
				}
			}

		}

		visible = { 
			original_tag = ITA
			NOT = { has_global_flag = the_bosporan_kingdom_flag }
			has_global_flag = form_roman_empire_flag
		}

		complete_effect = { 
 

			every_state = {
				
					limit = {
						OR = {
							is_core_of = ODS
							region = 106
							region = 78
							region = 105
							state = 2082
							state = 511
							state = 2723
							state = 2733
							state = 2942
							state = 2725
							state = 2083
							state = 2741
							state = 2409
							state = 2862
						}
					}
					add_core_of = CRI
					transfer_state_to = CRI
				
			}
			CRI = {
				set_cosmetic_tag = regnum_bospori
			}
			hidden_effect = { 
				set_global_flag = the_bosporan_kingdom_flag

				IF = {
					limit = {
						ITA = {
							has_government = fascism
						}
					}
					CRI = {
						set_politics = {
							ruling_party = fascism
						    elections_allowed = no
						    last_election = "1935.12.17"
						    election_frequency = 48
						}
					}
				}
				IF = {
					limit = {
						ITA = {
							has_government = neutrality
						}
					}
					CRI = {
						set_politics = {
							ruling_party = neutrality
						    elections_allowed = no
						    last_election = "1935.12.17"
						    election_frequency = 48
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_persian_empire_category = {

	form_persian_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = PER
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			# Iran
			custom_trigger_tooltip = {
				tooltip = form_country_iran_required_states_tt
				PER = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				IRQ = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				all_state = {
				if = {
					limit = {
						has_state_flag = TUR_INITIAL_STATE
					}
					is_controlled_by = ROOT
				}
			}
			}
			# France: Syria
			custom_trigger_tooltip = {
				tooltip = form_persia_france_required_states_tt
				SYR = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
			}
			# Italy: North Africa / Dodecanese
			custom_trigger_tooltip = {
				tooltip = form_persia_italy_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 39
								state = 1554
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Britain: Egypt / Middle East
			custom_trigger_tooltip = {
				tooltip = form_persia_britain_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 50
								region = 58
								region = 66
								region = 57
								is_core_of = PAL
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = PER
				original_tag = AFG
			}
			NOT = { has_global_flag = form_persian_empire_flag }
		}

		complete_effect = {
			set_cosmetic_tag = PER_UNIFIED
			# Iran
			custom_effect_tooltip = form_country_iran_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = PER
					}
					add_core_of = ROOT
				}
			}
			# Iraq
			custom_effect_tooltip = form_country_iraq_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = IRQ
					}
					add_core_of = ROOT
				}
			}
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = TUR_INITIAL_STATE
					}
					add_core_of = ROOT
				}
			}
			# France
			custom_effect_tooltip = form_persia_france_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							is_core_of = SYR
							is_core_of = LEB
						}
					}
					add_core_of = ROOT
				}
			}
			# Italy
			custom_effect_tooltip = form_persia_italy_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							region = 39
							state = 1554
						}
					}
					add_core_of = ROOT
				}
			}
			# Britain
			custom_effect_tooltip = form_persia_britain_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
								region = 50
								region = 58
								region = 66
								region = 57
								is_core_of = PAL
							}
					}
					add_core_of = ROOT
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.65 hours = 6 }
				set_global_flag = form_persian_empire_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_byzantine_empire_category = {

	form_byzantine_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Waking the Tiger"
			NOT = { has_dlc = "Battle for the Bosporus" }
		}

		available = {
			is_subject = no
			all_state = {
					if = {
						limit = {
							OR = {
								region = 20
								is_core_of = WLC
								is_core_of = BNT
							}
						}
						is_controlled_by = ROOT
					}
				}
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = GRE_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = TUR_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Bulgaria
			custom_trigger_tooltip = {
				tooltip = form_country_bulgaria_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = BUL_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Yugoslavia
			custom_trigger_tooltip = {
				tooltip = form_country_yugoslavia_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = YUG_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			NOT = { has_global_flag = form_byzantine_empire_flag }
		}

		complete_effect = {
			set_cosmetic_tag = BYZ_UNIFIED
			set_capital = { state = 932 }
			932 = { add_core_of = ROOT }
			hidden_effect = { 
				932 = { set_state_name = "Constantinople" } 
				945 = { set_state_name = "East Constantinople" } 
			}
			set_province_name = { id = 15010 name = "Constantinople" }
			set_province_name = { id = 15013 name = "East Constantinople" }
			
			every_state = {
				limit = {
					OR = {
						region = 20
						is_core_of = WLC
						is_core_of = BNT
					}
				}
				add_core_of = ROOT
			}
			# Greece
			custom_effect_tooltip = form_country_greece_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = GRE_INITIAL_STATE
					}
					add_core_of = ROOT
				}
			}
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = TUR_INITIAL_STATE
					}
					add_core_of = ROOT
				}
			}
			# Bulgaria
			custom_effect_tooltip = form_country_bulgaria_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = BUL_INITIAL_STATE
					}
					add_core_of = ROOT
				}
			}
			# Yugoslavia
			custom_effect_tooltip = form_country_yugoslavia_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = YUG_INITIAL_STATE
					}
					add_core_of = ROOT
				}
				
			}
			hidden_effect = {
				news_event = { id = wtt_news.66 hours = 6 }
				set_global_flag = form_byzantine_empire_flag
			}
			set_country_flag = achivement_i_swear_im_not_a_byzantophile
			set_country_flag = achivement_istanbul_is_constantinople_again
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_restore_byzantium = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			has_completed_focus = GRE_reviving_the_double_headed_eagle
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = GRE_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = TUR_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			AND = { 
				has_completed_focus = GRE_horror_and_fear
				has_government = fascism
			}
			NOT = { has_global_flag = form_byzantine_empire_flag }
		}

		complete_effect = {
			set_country_flag = GRE_byz_unified_flag
			GRE_set_appropriate_cosmetic_tag = yes
			set_capital = { state = 932 }
			hidden_effect = { 
				932 = { set_state_name = "Constantinople" } 
				945 = { set_state_name = "East Constantinople" } 
			}
			set_province_name = { id = 15010 name = "Constantinople" }
			set_province_name = { id = 15013 name = "East Constantinople" }
			# Greece
			custom_effect_tooltip = form_country_greece_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = GRE_INITIAL_STATE
					}
					add_core_of = ROOT
				}
			}
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = TUR_INITIAL_STATE
					}
					add_core_of = ROOT
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.66 hours = 6 }
				set_global_flag = form_byzantine_empire_flag
				swap_ruler_traits = { remove = archon_basileus add = autokrator }
			}
			set_country_flag = achivement_i_swear_im_not_a_byzantophile
			set_country_flag = achivement_istanbul_is_constantinople_again
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_triumph_for_the_balkans = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			# Albania
			custom_trigger_tooltip = {
				tooltip = form_country_dyrrachium_required_states_tt
				all_state = {
					if = {
						limit = {
							region = 20
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Romania
			custom_trigger_tooltip = {
				tooltip = form_country_paristrion_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = BDZ
								is_core_of = WLC
								is_core_of = BNT
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Bulgaria
			custom_trigger_tooltip = {
				tooltip = form_country_boulgarias_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = BUL_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Yugoslavia
			custom_trigger_tooltip = {
				tooltip = form_country_sirmium_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = YUG_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			if = {
			#	limit = { has_dlc = "Battle for the Bosporus" }
			#	has_completed_focus = GRE_byzantine_themata
			}
			NOT = { has_global_flag = triumph_for_the_balkans }
		}

		complete_effect = {
			# Albania
			custom_effect_tooltip = form_country_dyrrachium_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						region = 20
					}
					add_core_of = ROOT
				}
			}
			# Romania
			custom_effect_tooltip = form_country_paristrion_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
								is_core_of = BDZ
								is_core_of = WLC
								is_core_of = BNT
							}
					}
					add_core_of = ROOT
				}
				
			}
			# Bulgaria
			custom_effect_tooltip = form_country_boulgarias_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = BUL_INITIAL_STATE
					}
					add_core_of = ROOT
				}
			}
			# Yugoslavia
			custom_effect_tooltip = form_country_sirmium_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = YUG_INITIAL_STATE
					}
					add_core_of = ROOT
				}
			}
			hidden_effect = {
				set_global_flag = triumph_for_the_balkans
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_triumph_for_italy = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "Battle for the Bosporus"
			}
		}

		available = {
			is_subject = no
			# Italy
			custom_trigger_tooltip = {
				tooltip = form_eu_italy_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = ITA_INITIAL_STATE
							NOT = {
								is_core_of = SRD
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			original_tag = GRE
			NOT = { has_global_flag = triumph_for_italy }
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
				}
				has_completed_focus = GRE_byzantine_themata
			}
		}

		complete_effect = {
			# Italy
			custom_effect_tooltip = form_eu_italy_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = ITA_INITIAL_STATE
							NOT = {
								is_core_of = SRD
							}
					}
					add_core_of = ROOT
				}
				set_global_flag = triumph_for_italy
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_triumph_for_middle_east = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "Battle for the Bosporus"
			}
		}

		available = {
			is_subject = no
			all_state = {
				if = {
					limit = {
						OR = {
							region = 49
							region = 57
							region = 32
							state = 1554
							is_core_of = CYP
						}
					}
					is_controlled_by = ROOT
				}
			}
		}

		visible = {
			original_tag = GRE
			NOT = { has_global_flag = triumph_for_middle_east }
			if = {
				limit = { has_dlc = "Battle for the Bosporus"}
				has_completed_focus = GRE_byzantine_themata
			}
		}

		complete_effect = {
			every_state = {
				limit = {
						OR = {
							region = 49
							region = 57
							region = 32
							state = 1554
							is_core_of = CYP
						}
					}
				add_core_of = ROOT
			}
			set_global_flag = triumph_for_middle_east
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_triumph_for_egypt_and_tunis = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			if = {
				limit = { has_dlc = "Battle for the Bosporus"}
				has_completed_focus = GRE_reviving_the_double_headed_eagle
			}
			all_state = {
				if = {
					limit = {
						OR = {
							is_core_of = EGY 
							is_core_of = TUN
							is_core_of = LBA
						}
					}
					is_controlled_by = ROOT
				}
			}
		}

		visible = {
			
			NOT = { has_global_flag = triumph_for_egypt_and_tunis }
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
				}
				has_completed_focus = GRE_byzantine_themata
			}
		}

		complete_effect = {
			every_state = {
				limit = {
						OR = {
							is_core_of = EGY 
							is_core_of = TUN
							is_core_of = LBA
						}
					}
				add_core_of = ROOT
			}
			set_global_flag = triumph_for_egypt_and_tunis
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_arabia_category = {

	form_arabia = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = IRQ
				original_tag = SAU
				original_tag = OMA
				original_tag = EGY
				original_tag = LBA
				original_tag = JOR
				original_tag = PAL
				original_tag = LEB
				original_tag = SYR
				original_tag = KUW
				original_tag = UAE
				original_tag = QAT
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			# Spain: Northern Africa
			all_state = {
				if = {
					limit = {
						is_spanish_nafrica_group = yes
					}
					is_controlled_by = ROOT
				}
			}
			
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				all_state = {
					if = {
						limit = {
							is_core_of = IRQ
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Saudi Arabia
			custom_trigger_tooltip = {
				tooltip = form_country_saudi_required_states_tt
				all_state = {
					if = {
						limit = {
							is_core_of = SAU
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Italy: Libya
			custom_trigger_tooltip = {
				tooltip = form_arabia_italy_required_states_tt
				all_state = {
					if = {
						limit = {
							is_core_of = LBA
							NOT = { region = 66 }
						}
						is_controlled_by = ROOT
					}
				}
			}
			# France: Syria, Northern Africa
			custom_trigger_tooltip = {
				tooltip = form_arabia_france_required_states_tt
				# North Africa
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = ALG
								is_core_of = TUN
								is_core_of = SYR
							}
							NOT = { region = 66 }
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Britain: Egypt, Middle East, Arabia
			custom_trigger_tooltip = {
				tooltip = form_arabia_britain_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = PAL
								is_core_of = JOR
								is_core_of = KUW
								is_core_of = QAT
								is_core_of = BHR
								is_core_of = UAE
								region = 57
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = IRQ
				original_tag = SAU
				original_tag = YEM
				original_tag = OMA
				original_tag = EGY
				original_tag = LBA
				original_tag = JOR
				original_tag = PAL
				original_tag = LEB
				original_tag = SYR
			}
			NOT = { has_global_flag = form_arabia_flag }
		}

		complete_effect = {
			set_cosmetic_tag = ARA_UNIFIED
			290 = { add_core_of = ROOT }
			# Iraq
			custom_effect_tooltip = form_country_iraq_coring_states_tt
			hidden_effect = {
				IRQ = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
			}
			# Saudi Arabia
			custom_effect_tooltip = form_country_saudi_coring_states_tt
			hidden_effect = {
				SAU = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
			}
			# Italy
			custom_effect_tooltip = form_arabia_italy_coring_states_tt
			hidden_effect = {
				LBA = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
			}
			# France
			custom_effect_tooltip = form_arabia_france_coring_states_tt
			hidden_effect = {
				SYR = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
				ALG = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
				TUN = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
			}
			# Britain
			custom_effect_tooltip = form_arabia_britain_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
							OR = {
								is_core_of = PAL
								is_core_of = JOR
								is_core_of = KUW
								is_core_of = QAT
								is_core_of = BHR
								is_core_of = UAE
								region = 57
							}
						}
					add_core_of = ROOT
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.67 hours = 6 }
				set_global_flag = form_arabia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_hre_category = {

	form_hre = {

		icon = generic_form_nation

		allowed = {
			original_tag = GER
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			# Germany
			custom_trigger_tooltip = {
				tooltip = form_hre_germany_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = GER_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			all_state = {
					if = {
						limit = {
							OR = {
								region = 61
								is_core_of = ALS
								is_core_of = BOH
								is_core_of = MRV
								is_core_of = LOR
								is_core_of = SLV
								is_core_of = JUL
								region = 16
								
							}
						}
						is_controlled_by = ROOT
					}
				}
			# Switzerland
			custom_trigger_tooltip = {
				tooltip = form_country_switzerland_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = SWI_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Austria
			custom_trigger_tooltip = {
				tooltip = form_country_austria_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = AUS_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Netherlands
			custom_trigger_tooltip = {
				tooltip = form_eu_netherlands_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = HOL_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}
			# Belgium
			custom_trigger_tooltip = {
				tooltip = form_eu_belgium_required_states_tt
				all_state = {
					if = {
						limit = {
							is_core_of = BEL
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			AND = {
				original_tag = GER
				has_government = neutrality
				has_country_leader = { ruling_only = yes character = GER_victoria }
			}
			NOT = { has_global_flag = form_hre_flag }
		}

		complete_effect = {
			set_cosmetic_tag = HRE_UNIFIED
			every_state = {
				limit = {
							OR = {
								region = 61
								is_core_of = ALS
								is_core_of = LOR
								is_core_of = BOH
								is_core_of = MRV
								is_core_of = SLV
								is_core_of = JUL
								region = 16
								has_state_flag = SWI_INITIAL_STATE
								has_state_flag = AUS_INITIAL_STATE
								has_state_flag = HOL_INITIAL_STATE
								is_core_of = BEL
							}
						}
					add_core_of = ROOT
			}
			# Switzerland
			custom_effect_tooltip = form_country_switzerland_coring_states_tt
			hidden_effect = {
			}
			# Austria
			custom_effect_tooltip = form_country_austria_coring_states_tt
			hidden_effect = {
			}
			# Netherlands
			custom_effect_tooltip = form_eu_netherlands_coring_states_tt
			hidden_effect = {
			}
			# Belgium
			custom_effect_tooltip = form_eu_belgium_coring_states_tt
			hidden_effect = {
			}
			hidden_effect = {
				news_event = { id = wtt_news.70 hours = 6 }
				set_global_flag = form_hre_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_greater_german_reich_category = {

	form_greater_german_reich = {

		icon = generic_form_nation

		allowed = {
			original_tag = GER
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			has_full_control_of_state = 119
			has_full_control_of_state = 457
			all_owned_state = {
				is_fully_controlled_by = ROOT
			}
		}

		visible = {
			AND = {
				original_tag = GER
				has_government = fascism
				has_country_leader = { ruling_only = yes character = GER_adolf_hitler }
			}
			NOT = { has_global_flag = form_greater_german_reich_flag }
			OR = {
				AND = {
					has_war_with = FRA
					FRA = { has_capitulated = yes }
				}
				AND = {
					owns_state = 571
					has_full_control_of_state = 571
				}
				AND = {
					MVF = {
						owns_state = 571
						has_full_control_of_state = 571
						is_subject_of = GER
					}
				}
			}
		}

		complete_effect = {
			set_cosmetic_tag = GER_greater_german_reich
			set_province_name = { id = 6184 name = "Germania" }
			hidden_effect = {
				set_global_flag = form_greater_german_reich_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_andalusia_category = {
	
	form_andalusia = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = MOR
				original_tag = ALG
				original_tag = TUN
				original_tag = WES
				original_tag = LBA
			}
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			all_state = {
				if = {
					limit = {
						OR = {
							is_valencia_group = yes
							is_granada_group = yes
							is_murcia_group = yes
							is_cordoba_group = yes
							is_sevilla_group = yes
							is_ciudad_group = yes
							is_extremadura_group = yes
							state = 1096
							state = 1072
							state = 847
							state = 1053
							state = 1026
						}
					}
					is_controlled_by = ROOT
				}
			}
		}

		visible = {
			OR = {
				original_tag = MOR
				original_tag = ALG
				original_tag = TUN
				original_tag = WES
				original_tag = LBA
			}
			NOT = { has_global_flag = form_andalusia_flag }
			ADU = { exists = no }
		}

		complete_effect = {
			set_cosmetic_tag = ADU
			# Andalusia
			custom_effect_tooltip = form_country_andalusia_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							is_valencia_group = yes
							is_granada_group = yes
							is_murcia_group = yes
							is_cordoba_group = yes
							is_sevilla_group = yes
							is_ciudad_group = yes
							is_extremadura_group = yes
							state = 1096
							state = 1072
							state = 847
							state = 1053
							state = 1026
						}
					}
					add_core_of = ROOT
				}
				set_capital = { state = 1059 }
			}
			hidden_effect = {
				news_event = { id = lar_news.281 hours = 6 }
				set_global_flag = form_andalusia_flag
				set_country_flag = country_formed_andalusia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_restore_sultanate_of_africa = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = north_africa_needed_tooltip
				all_state = {
					if = {
						limit = {
							OR = {
								region = 30
								region = 37
								region = 65
								region = 38
								region = 39
								is_core_of = WES
							}
						}
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			NOT = { has_global_flag = sultanate_of_africa_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			# North Africa
			custom_effect_tooltip = coring_north_africa_tt
			hidden_effect = {
				MOR = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
				TUN = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
				ALG = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
				LBA = {
					every_core_state = {
						add_core_of = ROOT
					}
				}
				set_global_flag = sultanate_of_africa_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_mediterrenean_emirates = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			# Med Islands
				#Sicily
				SIC = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
				#Malta
				MLT = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
				#Rhodes
				controls_state = 1554
				#Crete
				CRT = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
				#Cyprus
				CYP = {
					all_core_state = {
						is_controlled_by = ROOT
					}
				}
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			NOT = { has_global_flag = emirate_of_sicily_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			# Med Islands
				every_state = {
					limit = {
						OR = {
							is_core_of = CYP
							is_core_of = CRT
							is_core_of = SRD
							is_core_of = COR
							is_core_of = MLT
							is_core_of = SIC
							state = 1554
						}
					}
					add_core_of = ROOT
				}
				
				hidden_effect = { set_global_flag = emirate_of_sicily_flag }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_restore_umayyad_caliphate = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				controls_state = 676
				controls_state = 675
				controls_state = 291
			}
			# Saudi Arabia
			custom_trigger_tooltip = {
				tooltip = form_country_saudi_required_states_tt
				controls_state = 292
				controls_state = 679
				controls_state = 678
				controls_state = 857
				controls_state = 858
				controls_state = 854
				controls_state = 855
				controls_state = 856
				controls_state = 859
			}
			# France
			custom_trigger_tooltip = {
				tooltip = form_persia_france_required_states_tt
				# Syria
				controls_state = 677
				controls_state = 680
				controls_state = 553
				controls_state = 554
			}
			custom_trigger_tooltip = {
				tooltip = form_country_egypt_required_states_tt
				controls_state = 552
				controls_state = 453
				controls_state = 456
				controls_state = 446
				controls_state = 457
				controls_state = 452
				controls_state = 447
			}
			controls_state = 679
			controls_state = 293
			controls_state = 294
			controls_state = 454
			controls_state = 455
			controls_state = 656
			controls_state = 658
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			has_global_flag = emirate_of_sicily_flag
			has_global_flag = sultanate_of_africa_flag
			NOT = { has_global_flag = restored_umayyad_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			custom_effect_tooltip = middle_east_coring_states_tt
			hidden_effect = {
				# Iraq
				676 = { add_core_of = ROOT }
				675 = { add_core_of = ROOT }
				291 = { add_core_of = ROOT }
				# Saudi Arabia
				292 = { add_core_of = ROOT }
				679 = { add_core_of = ROOT }
				678 = { add_core_of = ROOT }
				857 = { add_core_of = ROOT }
				858 = { add_core_of = ROOT }
				854 = { add_core_of = ROOT }
				855 = { add_core_of = ROOT }
				856 = { add_core_of = ROOT }
				859 = { add_core_of = ROOT }
				# French Arabia
				677 = { add_core_of = ROOT }
				680 = { add_core_of = ROOT }
				553 = { add_core_of = ROOT }
				554 = { add_core_of = ROOT }
				679 = { add_core_of = ROOT }
				293 = { add_core_of = ROOT }
				294 = { add_core_of = ROOT }
				454 = { add_core_of = ROOT }
				455 = { add_core_of = ROOT }
				656 = { add_core_of = ROOT }
				658 = { add_core_of = ROOT }
				# Egypt
				552 = { add_core_of = ROOT }
				453 = { add_core_of = ROOT }
				456 = { add_core_of = ROOT }
				446 = { add_core_of = ROOT }
				457 = { add_core_of = ROOT }
				452 = { add_core_of = ROOT }
				447 = { add_core_of = ROOT }
				set_global_flag = restored_umayyad_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_recreate_rashid_expansion = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			# Iran
			custom_trigger_tooltip = {
				tooltip = form_country_iran_required_states_tt
				controls_state = 419
				controls_state = 421
				controls_state = 420
				controls_state = 417
				controls_state = 413
				controls_state = 266
				controls_state = 418
				controls_state = 411
				controls_state = 412
				controls_state = 416
				controls_state = 414
				controls_state = 410
			}
			# Afghanistan
			custom_trigger_tooltip = {
				tooltip = form_country_afghanistan_required_states_tt
				controls_state = 415
				controls_state = 267
			}
			# Pakistan
			custom_trigger_tooltip = {
				tooltip = form_country_pakistani_required_states_tt
				controls_state = 787
				controls_state = 445
				controls_state = 442
				controls_state = 444
				controls_state = 440
				controls_state = 443
			}
			
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			has_global_flag = restored_umayyad_flag
			NOT = { has_global_flag = restored_rashid_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			# Iran
			custom_effect_tooltip = form_country_iran_coring_states_tt
			hidden_effect = {
				419 = { add_core_of = ROOT }
				421 = { add_core_of = ROOT }
				420 = { add_core_of = ROOT }
				417 = { add_core_of = ROOT }
				413 = { add_core_of = ROOT }
				266 = { add_core_of = ROOT }
				418 = { add_core_of = ROOT }
				411 = { add_core_of = ROOT }
				412 = { add_core_of = ROOT }
				416 = { add_core_of = ROOT }
				414 = { add_core_of = ROOT }
				410 = { add_core_of = ROOT }
			}
			# Afghanistan
			custom_effect_tooltip = form_country_afghanistan_coring_states_tt
			hidden_effect = {
				415 = { add_core_of = ROOT }
				267 = { add_core_of = ROOT }
			}
			# Pakistan
			custom_effect_tooltip = form_country_pakistan_coring_states_tt
			hidden_effect = {
				787 = { add_core_of = ROOT }
				445 = { add_core_of = ROOT }
				442 = { add_core_of = ROOT }
				444 = { add_core_of = ROOT }
				440 = { add_core_of = ROOT }
				441 = { add_core_of = ROOT }
				443 = { add_core_of = ROOT }
			}
			hidden_effect = { set_global_flag = restored_rashid_flag }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_northern_expansion = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			# Azerbaijan
			controls_state = 229
			# Armenia
			controls_state = 230
			# Georgia
			controls_state = 231
			# Grozny
			controls_state = 232
			controls_state = 233
			# Turkey
			controls_state = 350
			controls_state = 352
			controls_state = 353
			controls_state = 354
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			has_global_flag = restored_umayyad_flag
			NOT = { has_global_flag = andalusia_north_expansion_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			# Azerbaijan
			229 = { add_core_of = ROOT }
			# Armenia
			230 = { add_core_of = ROOT }
			# Georgia
			231 = { add_core_of = ROOT }
			# Grozny
			232 = { add_core_of = ROOT }
			233 = { add_core_of = ROOT }
			# Turkey
			350 = { add_core_of = ROOT }
			352 = { add_core_of = ROOT }
			353 = { add_core_of = ROOT }
			354 = { add_core_of = ROOT }
			hidden_effect = { set_global_flag = andalusia_north_expansion_flag }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_greater_greece_category = {

	form_greater_greece = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = GRE_INITIAL_STATE
						}
						is_controlled_by = ROOT 
					}
				}
				
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkish_coastal_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 60
								AND = {
									region = 72
									NOT = {
										state = 1055
										state = 2250
									}
								}
								state = 2879
								state = 1094
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Dodecanese
			if = {
				limit = {
					NOT = { has_government = democratic }
				}
				custom_trigger_tooltip = {
					tooltip = form_country_dodecanese_required_state_tt
					controls_state = 1554
				}
			}
			# Cyprus
			if = {
				limit = {
					NOT = { has_government = democratic }
				}
				custom_trigger_tooltip = {
					tooltip = form_country_cyprus_required_state_tt
					CYP = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
				}
			}
		}

		visible = {
			NOT = { has_global_flag = form_greater_greece_flag }
			OR = { 
				AND = {
					has_completed_focus = GRE_the_modern_movement
					has_country_leader = {
						character = GRE_ioannis_metaxas
						ruling_only = yes
					}
				}
				AND = { 
					has_completed_focus = GRE_resurrecting_the_megali_idea
					NOT = { 
						has_country_leader = {
							character = GRE_georgios_kosmidis
							ruling_only = yes
						}
					}
				}
				has_completed_focus = GRE_prepare_for_the_great_anti_fascist_war
			}
		}

		complete_effect = {
			set_country_flag = GRE_GREATER_GREECE_flag
			GRE_set_appropriate_cosmetic_tag = yes
			# Greece
			custom_effect_tooltip = form_country_greece_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							has_state_flag = GRE_INITIAL_STATE
							is_core_of = ROOT 
							region = 60
							AND = {
								region = 72
								NOT = {
									state = 1055
									state = 2250
								}
							}
							state = 2879
							state = 1094
							state = 1554
						}
					}
					add_core_of = ROOT 
				}
			}
			# Turkey
			custom_effect_tooltip = form_country_turkish_coast_coring_states_tt
			hidden_effect = {
				1932 = { set_state_name = "Prousa" }
				set_province_name = { id = 7179 name = "Prousa" } 
				set_province_name = { id = 21423 name = "Palaeokastron" }
				set_province_name = { id = 20370 name = "Adrianople" }
				932 = { set_state_name = "Constantinople" }
				945 = { set_state_name = "East Constantinople" }
				set_province_name = { id = 15010 name = "Constantinople" }
				set_province_name = { id = 15013 name = "East Constantinople" }
				1032 = { set_state_name = "Smyrni" }
				set_province_name = { id = 21400 name = "Smyrna" }
				347 = { set_state_name = "Nikomedeia" }
				set_province_name = { id = 21456 name = "Nikomedeia" }
			}
			# Cyprus
			custom_effect_tooltip = form_country_cyprus_coring_state_tt
			hidden_effect = {
				
			}
			hidden_effect = {
				1526 = { add_core_of = ROOT }
				2373 = { add_core_of = ROOT }
				885 = { add_core_of = ROOT }
			}
			hidden_effect = {
				if = {
					limit = {
						has_government = democratic
					}
					news_event = { id = bftb_news.302 hours = 6 } 
				}
				set_global_flag = form_greater_greece_flag
				set_country_flag = achivement_istanbul_is_constantinople_again
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	GRE_appoint_aristotle_onassis_as_prime_minister = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			AND = {
				has_government = democratic
				has_completed_focus = GRE_nenikikamen
			}
		}

		visible = {
			has_global_flag = form_greater_greece_flag
		}

		fire_only_once = yes

		complete_effect = {
			retire_country_leader = yes
			add_country_leader_role = {
				character = GRE_aristotle_onassis
				country_leader = {
					expire = "1965.1.1"
					ideology = liberalism
					traits = {
						the_young_magnate
					}
				}
				promote_leader = yes
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	rename_antalya = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			controls_state = 342
			# Dodecanese
			custom_trigger_tooltip = {
				tooltip = form_country_dodecanese_required_state_tt
				controls_state = 164
			}
		}

		visible = {
			has_global_flag = form_greater_greece_flag
			NOT = { 1097 = { is_core_of = ROOT } 1943 = { is_core_of = ROOT } }
		}

		fire_only_once = yes

		complete_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			1097 = { add_core_of = ROOT }
			1943 = { add_core_of = ROOT }
			1097 = { set_state_name = "Attalis" }
			set_province_name = { id = 15485 name = "Attaleia" }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	rename_gjirokaster = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			controls_state = 1526
		}

		visible = {
			has_global_flag = form_greater_greece_flag
		}

		fire_only_once = yes

		complete_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			set_province_name = { id = 6282 name = "Argyrokastro" }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	move_capital_to_constantinople = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			controls_state = 932
		}

		visible = {
			has_global_flag = form_greater_greece_flag
			NOT = { has_country_flag = GRE_chose_a_new_capital_city }
		}

		fire_only_once = yes

		complete_effect = {
			add_war_support = 0.05
			set_capital = { state = 932 }
			hidden_effect = {
				set_country_flag = GRE_chose_a_new_capital_city
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	move_capital_to_thessaloniki = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			controls_state = 941
		}

		visible = {
			has_global_flag = form_greater_greece_flag
			NOT = { has_country_flag = GRE_chose_a_new_capital_city }
		}

		fire_only_once = yes

		complete_effect = {
			add_stability = 0.1
			set_capital = { state = 941 }
			hidden_effect = {
				set_country_flag = GRE_chose_a_new_capital_city
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_macedonian_empire_category = {

	form_macedonian_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								has_state_flag = GRE_INITIAL_STATE
								
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Macedonia [ Bulgaria / Yugoslav Macedonia / Albania ]
			custom_trigger_tooltip = {
				tooltip = form_country_southern_yugoslavia_required_states_tt
				all_state = {
					if = {
						limit = {
							NOT = { state = 2914 }
							OR = {
								is_core_of = ALB 
								is_core_of = MAC 
								has_state_flag = BUL_INITIAL_STATE
								is_core_of = KOS 
								state = 1971
								state = 865
								state = 2805
								state = 1972
								state = 846
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Iran
			custom_trigger_tooltip = {
				tooltip = form_country_iran_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = PER 
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Central Asia
			custom_trigger_tooltip = {
				tooltip = form_country_southern_central_asia_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = TMS 
								is_core_of = UZB 
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = IRQ 
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								has_state_flag = TUR_INITIAL_STATE
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# France: Syria
			custom_trigger_tooltip = {
				tooltip = form_persia_france_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = SYR 
								is_core_of = LEB 
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Britain: Egypt
			custom_trigger_tooltip = {
				tooltip = form_country_egypt_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = EGY 
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Britain: Levant / Kuwait
			custom_trigger_tooltip = {
				tooltip = form_country_british_levant_required_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_core_of = PAL 
								is_core_of = KUW 
								is_core_of = JOR 
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
		}

		visible = {
			original_tag = GRE
			OR = {
				AND = {
					has_completed_focus = GRE_moulding_the_new_world_order
					has_country_leader = {
						character = GRE_george_mercouris
						ruling_only = yes
					}
				}
				AND = {
					has_completed_focus = GRE_protectors_of_the_mediterranean
					has_country_leader = {
						name = "George II"
						ruling_only = yes
					}
				}
			}
			NOT = { has_global_flag = form_macedonian_empire_flag }
		}

		complete_effect = {
			set_country_flag = GRE_mae_flag
			GRE_set_appropriate_cosmetic_tag = yes
			# Iran
			custom_effect_tooltip = form_country_iran_coring_states_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							has_state_flag = GRE_INITIAL_STATE
								is_core_of = ALB 
								is_core_of = MAC 
								has_state_flag = BUL_INITIAL_STATE
								has_state_flag = TUR_INITIAL_STATE
								is_core_of = KOS 
								state = 1971
								state = 865
								state = 2805
								state = 1972
								state = 846
								is_core_of = PER 
								is_core_of = TMS 
								is_core_of = UZB 
								is_core_of = IRQ 
								is_core_of = SYR 
								is_core_of = LEB 
								is_core_of = EGY 
								is_core_of = KUW 
								is_core_of = JOR
								is_core_of = PAL
						}
					}
					add_core_of = ROOT 
				}
			}
			
			# Iraq
			custom_effect_tooltip = form_country_iraq_coring_states_tt
			
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			
			# France
			custom_effect_tooltip = form_persia_france_coring_states_tt
			
			# Italy
			custom_effect_tooltip = form_persia_italy_coring_states_tt
			
			# Britain
			custom_effect_tooltip = form_persia_britain_coring_states_tt
			
			hidden_effect = {
				set_global_flag = form_macedonian_empire_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}


form_turan_category = {

	form_turan = {

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				all_state = {
					if = {
						limit = {
							has_state_flag = TUR_INITIAL_STATE
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Syria
			custom_trigger_tooltip = {
				tooltip = mer_turan_syria_controlled_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								state = 1123
								state = 1926
								state = 2842
								state = 1924
								state = 1105
								state = 1134
								state = 1141
								state = 2925
								state = 2926
								state = 1149
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = mer_turan_iraq_controlled_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 55
								state = 2232
								state = 1197
								state = 2210
								state = 2228
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Persia
			custom_trigger_tooltip = {
				tooltip = mer_turan_iran_controlled_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 222
								region = 225
								region = 223
								region = 227
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Azerbaijan
			custom_trigger_tooltip = {
				tooltip = mer_turan_azerbaijan_controlled_states_tt
				all_state = {
					if = {
						limit = {
							is_core_of = AZR 
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Kuban Region + Crimea
			custom_trigger_tooltip = {
				tooltip = mer_turan_south_russia_controlled_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								AND = {
									region = 78
									NOT = {
										state = 2064
										state = 2085
										state = 2088
									}
								}
								region = 105
								region = 104
								region = 137
								region = 63
								region = 129
								region = 139
								region = 79
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
			# Urals + Central Asia
			custom_trigger_tooltip = {
				tooltip = mer_turan_central_asia_controlled_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								region = 229
								region = 228
								region = 221
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
		}

		visible = {
			original_tag = TUR
			has_completed_focus = TUR_turanist_ambition
			NOT = { has_global_flag = form_turan_flag }
		}

		complete_effect = {
			set_country_flag = TUR_trn_flag
			TUR_set_appropriate_cosmetic_tag = yes
			hidden_effect = {
				news_event = { id = bftb_news.209 hours = 6 }
			}
				every_state = {
					limit = {
						OR = {
							AND = {
									region = 78
									NOT = {
										state = 2064
										state = 2085
										state = 2088
									}
								}
								region = 105
								region = 104
								region = 137
								region = 63
								region = 129
								region = 139
								region = 79
								region = 229
								region = 228
								region = 221
								is_core_of = AZR 
								region = 222
								region = 225
								region = 223
								region = 227
								region = 55
								state = 2232
								state = 1197
								state = 2210
								state = 2228
								state = 1123
								state = 1926
								state = 2842
								state = 1924
								state = 1105
								state = 1134
								state = 1141
								state = 2925
								state = 2926
								state = 1149
								has_state_flag = TUR_INITIAL_STATE
						}
					}
					add_core_of = TUR 
				}
				set_global_flag = form_turan_flag
			
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	integrate_the_magyars = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			has_global_flag = form_turan_flag
			custom_trigger_tooltip = {
				tooltip = mer_magyars_controlled_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								is_southern_slovakia = yes 
								is_transylvania_proper = yes 
								is_hungarian_vojvodina = yes 
								has_state_flag = HUN_INITIAL_STATE
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
		}

		visible = {
			has_completed_focus = TUR_subdue_the_magyars
		}

		fire_only_once = yes

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						is_southern_slovakia = yes 
						is_transylvania_proper = yes 
						is_hungarian_vojvodina = yes 
						has_state_flag = HUN_INITIAL_STATE
					}
				}
				add_dynamic_modifier = { modifier = turanist_assimilation }
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	unite_with_the_finno_ugrians = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			has_global_flag = form_turan_flag 
			custom_trigger_tooltip = {
				tooltip = mer_finno_ugria_controlled_states_tt
				all_state = {
					if = {
						limit = {
							OR = {
								has_state_flag = EST_INITIAL_STATE 
								has_state_flag = FIN_INITIAL_STATE 
								is_core_of = KAR 
							}
						}
						is_controlled_by = ROOT 
					}
				}
			}
		}

		visible = {
			has_completed_focus = TUR_crowning_ourselves_with_the_fin_ugor
		}

		fire_only_once = yes

		complete_effect = {	
			every_state = {
				limit = {
					OR = {
						has_state_flag = EST_INITIAL_STATE 
						has_state_flag = FIN_INITIAL_STATE 
						is_core_of = KAR 
					}
				}
				add_dynamic_modifier = { modifier = turanist_assimilation }
			}
			
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_turkestan_category = {
	
	form_turkestan = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = KAZ # Kazakhstan
				original_tag = UZB # Uzbekistan
				original_tag = TMS # Turkmenistan
				original_tag = KHI # Khiva
				original_tag = KKP # Karakalpakstan
			}
		}

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = form_country_kazakhstan_required_states
			}
			custom_trigger_tooltip = {
				tooltip = form_country_uzbekistan_required_states
			}
			all_state = {
				if = {
					limit = {
						OR = {
							region = 221
							region = 228
							region = 229
						}
					}
					is_controlled_by = ROOT
				}
			}
		}

		visible = {
			OR = {
				original_tag = KAZ # Kazakhstan
				original_tag = UZB # Uzbekistan
				original_tag = TMS # Turkmenistan
				original_tag = KHI # Khiva
				original_tag = KKP # Karakalpakstan
			}
			NOT = { has_global_flag = form_turkestan_flag }
		}

		complete_effect = {
			set_cosmetic_tag = turkestan_united
			every_state = {
				limit = {
					OR = {
						region = 221
						region = 228
						region = 229
					}
				}
				add_core_of = ROOT
			}
			
			add_ideas = soldiers_of_the_steppe
			
			hidden_effect = {
				news_event = { id = nsb_news.3 hours = 6 }
				set_global_flag = form_turkestan_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}


form_transcaucasus_category = {
	
	form_transcaucasian_republic = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
		}

		available = {
			controls_state = 826 # Abkhazia
			controls_state = 231 # Georgia
			controls_state = 230 # Armenia
			controls_state = 229 # Azerbaijan
		}

		visible = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
			NOT = { has_global_flag = form_transcaucasia_flag }

				has_dlc = "No Step Back"
		}

		complete_effect = {
			set_cosmetic_tag = transcaucasia_unified
			
			# Abkhazia
			826 = { add_core_of = ROOT }
			
			# Georgia
			231 = { add_core_of = ROOT }
			 
			# Armenia
			230 = { add_core_of = ROOT }
			
			# Azerbaijan
			229 = { add_core_of = ROOT }
			
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				news_event = { id = nsb_news.302 hours = 8 }
				set_global_flag = form_transcaucasia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	
	
	unite_azeris = {  

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
		}

		available = {
			controls_state = 419 # Tabriz
			controls_state = 420 # Gilan
		}

		visible = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
			has_global_flag = form_transcaucasia_flag
			NOT = { has_global_flag = azeris_united_flag }

				has_dlc = "No Step Back"
		}

		complete_effect = {
			
			# Tabriz
			419 = { add_core_of = ROOT }
			
			# Gilan
			420 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				set_global_flag = azeris_united_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	
	claim_northern_caucasus = {  

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
		}

		available = {
			controls_state = 232 # Dagestan
			controls_state = 821 # Chechnya-Ingushetia
			controls_state = 828 # North Ossetia
			controls_state = 827 # Kabardino-Balkaria
			controls_state = 233 # Sochi
		}

		visible = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
			has_global_flag = form_transcaucasia_flag
			NOT = { has_global_flag = northern_caucasus_claimed_flag }

				has_dlc = "No Step Back"
		}

		complete_effect = {
			
			# Sochi
			233 = { add_core_of = ROOT }
			
			# Kabardino-Balkaria
			827 = { add_core_of = ROOT }
			
			# North Ossetia
			828 = { add_core_of = ROOT }
			
			# Chechnya-Ingushetia
			821 = { add_core_of = ROOT }
			
			# Gagestan
			232 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				set_global_flag = northern_caucasus_claimed_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	
	liberate_anatolian_peoples = {  

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = GEO # Georgia 
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
		}

		available = {
			is_subject = no
			controls_state = 354 # Trabzon
			controls_state = 800 # Van
		}

		visible = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
			has_global_flag = form_transcaucasia_flag
			NOT = { has_global_flag = anatolians_liberated_flag }

				has_dlc = "No Step Back"
		}

		complete_effect = {
			
			# Trabzon
			354 = { add_core_of = ROOT }
			
			# Van
			800 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				set_global_flag = anatolians_liberated_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	
	restore_kalmyks = {  

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = GEO # Georgia 
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			} 
		}
  
		available = {
			is_subject = no
			controls_state = 237 # Kalmykia
			controls_state = 236 # Astrakhan
			NOT = { has_government = communism }
			NOT = { has_government = democratic }
		}

		visible = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
			has_global_flag = form_transcaucasia_flag
			NOT = { has_global_flag = kalmyk_khanate_restored_flag }

				has_dlc = "No Step Back" 
		}

		complete_effect = {
			
			custom_effect_tooltip = release_kalmyk_khanate_tt
			
			hidden_effect = { 
			
				set_global_flag = kalmyk_khanate_restored_flag
				
				# Astrakhan
				236 = { add_core_of = KAL }
				
				KAL = {
					transfer_state = 237
					transfer_state = 236
					if = {
						limit = {
							ROOT = { controls_state = 217 } #Stalingrad
						}
						add_state_core = 217
						transfer_state = 217
					}
					if = {
						limit = {
							ROOT = { controls_state = 407 } #Uralsk
						}
						add_state_core = 407
						transfer_state = 407
					}
					if = {
						limit = {
							ROOT = { controls_state = 406 } #Guryev
						}
						add_state_core = 406
						transfer_state = 406
					}
					if = {
						limit = {
							ROOT = { controls_state = 401 } #Balakovo
						}
						add_state_core = 401
						transfer_state = 401
					}
					if = {
						limit = {
							ROOT = { controls_state = 829 } #Engels-Marxstadt
						}
						add_state_core = 829
						transfer_state = 829
					}
					if = {
						limit = {
							ROOT = { controls_state = 238 } #Volgodonsk
						}
						add_state_core = 238
						transfer_state = 238
					}
					load_oob = "KAL_khanate_battalions"
				}
				
				puppet = KAL
				
				if = {
					limit = {
						has_war_with = SOV
					}
					KAL = {
						add_to_war = {
							targeted_alliance = PREV 
							enemy = SOV
							hostility_reason = asked_to_join
						}
					}
				}
				
				
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	
	restore_crimean_khanate = {  

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = GEO # Georgia 
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			} 
		}
  
		available = {
			is_subject = no
			controls_state = 137 # Crimea
			controls_state = 196 # Kherson
			NOT = { has_government = communism }
			NOT = { has_government = democratic }
		}

		visible = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
			has_global_flag = form_transcaucasia_flag
			NOT = { has_global_flag = crimean_khanate_restored_flag }

				has_dlc = "No Step Back"
		}

		complete_effect = {
			
			custom_effect_tooltip = restore_crimean_khanate_tt 
			
			
			hidden_effect = { 
			
				set_global_flag = crimean_khanate_restored_flag
				
				CRI = {
					transfer_state = 137 # Crimea
					transfer_state = 196 # Kherson
					if = {
						limit = {
							ROOT = { controls_state = 200 } #Zaporozhe
						}
						add_state_core = 200
						transfer_state = 200
					}
					if = {
						limit = {
							ROOT = { controls_state = 227 } #Stalino
						}
						add_state_core = 227
						transfer_state = 227
					}
					if = {
						limit = {
							ROOT = { controls_state = 218 } #Rostov
						}
						add_state_core = 218
						transfer_state = 218
					}
					if = {
						limit = {
							ROOT = { controls_state = 228 } #Voroshilovgrad
						}
						add_state_core = 228
						transfer_state = 228
					}
					if = {
						limit = {
							ROOT = { controls_state = 234 } #Krasnodar
						}
						add_state_core = 234
						transfer_state = 234
					}
					if = {
						limit = {
							ROOT = { controls_state = 245 } #Millerovo
						}
						add_state_core = 245
						transfer_state = 245
					}
					if = {
						limit = {
							ROOT = { controls_state = 226 } #Dnipropetrovsk
						}
						add_state_core = 226
						transfer_state = 226
					}
					load_oob = "CRI_khanate_soldiers"
				}
				
				puppet = CRI
				
				if = {
					limit = {
						has_war_with = SOV
					}
					CRI = {
						add_to_war = {
							targeted_alliance = ROOT 
							enemy = SOV
							hostility_reason = asked_to_join
						}
					}
				}
				if = {
					limit = {
						has_war_with = UKR
					}
					CRI = {
						add_to_war = {
							targeted_alliance = ROOT 
							enemy = UKR
							hostility_reason = asked_to_join
						}
					}
				}
				
				
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	
	release_turkish_kurdistan = {  

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = GEO # Georgia 
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			} 
		}
  
		available = {
			is_subject = no
			controls_state = 352 # Hakkari
			controls_state = 353 # Tunceli
			controls_state = 350 # Diyarbakir
		}

		visible = {
			OR = {
				original_tag = GEO # Georgia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
			}
			has_global_flag = form_transcaucasia_flag
			NOT = { has_global_flag = anatolian_kurds_subjugated_flag }

				has_dlc = "No Step Back"
		}

		complete_effect = {
			
			custom_effect_tooltip = release_anatolian_kurdistan_tt 
			
			
			hidden_effect = { 
			
				set_global_flag = anatolian_kurds_subjugated_flag
				
				KUR = {
					transfer_state = 350 # Diyarbakir
					transfer_state = 352 # Hakkari
					transfer_state = 353 # Tunceli
					if = {
						limit = {
							ROOT = { controls_state = 344 } #Malatya
						}
						add_state_core = 344
						transfer_state = 344
					}
					load_oob = "KUR_liberation_troops"
				}
				
				puppet = KUR
				
				if = {
					limit = {
						has_war_with = TUR
					}
					KUR = {
						add_to_war = {
							targeted_alliance = ROOT 
							enemy = TUR
							hostility_reason = asked_to_join
						}
					}
				}
				
				
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}


greater_italy_category = {
	
	proclaim_greater_italy = { 

		icon = generic_form_nation

		allowed = {
			original_tag = ITA # Italy
		}

		available = {
			has_completed_focus = ITA_towards_a_greater_italy
			custom_trigger_tooltip = {
				tooltip = greater_italy_required_states
				all_state = {
					if = {
						limit = {
							has_state_flag = ITA_INITIAL_STATE
						}
						is_controlled_by = ROOT
					}
				}
			}  
			custom_trigger_tooltip = {
				tooltip = greater_italy_required_other_states
					all_state = {
						if = {
							limit = {
								OR = {
									
									state = 1422 
									state = 866 
									state = 743 
									state = 1486 
									state = 1554 
									state = 1622 
									state = 2829 
									state = 754 
									state = 2924 
									state = 2651 
									state = 2911 
									state = 1473 
									state = 2825 
									state = 2965
									state = 2964
									state = 1477
									is_core_of = DLM
									is_core_of = TIC
									is_core_of = SAV
									is_core_of = NZA
									is_core_of = CRT
								}
							}
							OR = {
								is_controlled_by = ROOT
								controller = {
									is_subject_of = ROOT
								}
							}
						}
					}
			}
			
			
			
		}

		visible = {
			OR = {
				original_tag = ITA # Italy
			}
			
			NOT = { has_global_flag = greater_italy_flag }
			
		}

		complete_effect = {
			set_cosmetic_tag = greater_italy 
			
			custom_effect_tooltip = greater_italy_effect_tooltip
			
			add_ideas = ITA_italia_irredenta_achieved
			
			hidden_effect = { 
				every_state = {
					limit = {
						OR = {
							is_core_of = CRT
							is_core_of = NZA
							is_core_of = SAV
							is_core_of = TIC
							is_core_of = DLM
							state = 1422 
							state = 866 
							state = 743 
							state = 1486 
							state = 1554 
							state = 1622 
							state = 2829 
							state = 754 
							state = 2924 
							state = 2651 
							state = 2911 
							state = 1473 
							state = 2825 
							state = 2965
							state = 2964
							state = 1477
						}
					}
					transfer_state_to = ROOT
					add_core_of = ROOT
				}

				news_event = { id = bba_italian_formables_news.1 hours = 8 }	

				set_global_flag = greater_italy_flag

			}
		}

		ai_will_do = {
			factor = 500
		}
	}
}